2021-08-23T17:03:24.537347+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-23T17:13:14.294811+0300, DEBUG, callback_query run
2021-08-23T17:13:16.452874+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-23T17:14:29.426627+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-23T17:16:26.102895+0300, DEBUG, callback_query run
2021-08-23T17:37:22.682308+0300, DEBUG, callback_query run
2021-08-23T17:37:22.682308+0300, DEBUG, callback_query run
2021-08-23T17:37:28.638846+0300, INFO, Selected city Берлин
2021-08-23T17:37:28.638846+0300, INFO, Selected city Берлин
2021-08-23T17:37:33.721989+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-23T17:37:33.721989+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-23T17:37:50.725457+0300, DEBUG, callback_query run
2021-08-23T17:37:50.725457+0300, DEBUG, callback_query run
2021-08-23T17:38:02.709881+0300, DEBUG, callback_query run
2021-08-23T17:38:02.709881+0300, DEBUG, callback_query run
2021-08-23T17:39:44.837384+0300, DEBUG, callback_query run
2021-08-23T17:39:44.837384+0300, DEBUG, callback_query run
2021-08-23T17:39:49.406447+0300, INFO, Selected city Берлин
2021-08-23T17:39:49.406447+0300, INFO, Selected city Берлин
2021-08-23T17:39:52.208384+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-23T17:39:52.208384+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-23T17:39:54.957305+0300, DEBUG, callback_query run
2021-08-23T17:39:54.957305+0300, DEBUG, callback_query run
2021-08-23T17:43:20.826627+0300, DEBUG, callback_query run
2021-08-23T17:43:20.826627+0300, DEBUG, callback_query run
2021-08-23T17:43:25.295596+0300, INFO, Selected city Берлин
2021-08-23T17:43:25.295596+0300, INFO, Selected city Берлин
2021-08-23T17:43:28.308089+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-23T17:43:28.308089+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-23T17:43:30.204421+0300, DEBUG, callback_query run
2021-08-23T17:43:30.204421+0300, DEBUG, callback_query run
2021-08-23T17:43:30.208418+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (19492), thread 'WorkerThread4' (17640):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000155026775E0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000015505706CA0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x000001550636A610>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000015506337F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x000001550636A700>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x000001550636A610>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x000001550636AC70>
    │       │                      │    └ <telebot.types.Message object at 0x000001550636A700>
    │       │                      └ <telebot.types.CallbackQuery object at 0x000001550636A610>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000015505639DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-23T17:43:30.208418+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (19492), thread 'WorkerThread4' (17640):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000155026775E0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000015505706CA0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x000001550636A610>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000015506337F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x000001550636A700>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x000001550636A610>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x000001550636AC70>
    │       │                      │    └ <telebot.types.Message object at 0x000001550636A700>
    │       │                      └ <telebot.types.CallbackQuery object at 0x000001550636A610>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000015505639DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-23T17:43:35.391156+0300, DEBUG, callback_query run
2021-08-23T17:43:35.391156+0300, DEBUG, callback_query run
2021-08-23T17:43:35.396148+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (19492), thread 'WorkerThread3' (18996):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000155026775E0>
    └ <WorkerThread(WorkerThread3, started daemon 18996)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000015505706CA0>
    └ <WorkerThread(WorkerThread3, started daemon 18996)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000015506388790>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000015506337F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x0000015506388A60>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x0000015506388790>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x000001550636AB20>
    │       │                      │    └ <telebot.types.Message object at 0x0000015506388A60>
    │       │                      └ <telebot.types.CallbackQuery object at 0x0000015506388790>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000015505639DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-23T17:43:35.396148+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (19492), thread 'WorkerThread3' (18996):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000155026775E0>
    └ <WorkerThread(WorkerThread3, started daemon 18996)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000015505706CA0>
    └ <WorkerThread(WorkerThread3, started daemon 18996)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000015506388790>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000015506337F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x0000015506388A60>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x0000015506388790>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x000001550636AB20>
    │       │                      │    └ <telebot.types.Message object at 0x0000015506388A60>
    │       │                      └ <telebot.types.CallbackQuery object at 0x0000015506388790>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000015505639DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-23T17:43:37.673460+0300, DEBUG, callback_query run
2021-08-23T17:43:37.673460+0300, DEBUG, callback_query run
2021-08-23T17:43:37.677451+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (19492), thread 'WorkerThread4' (17640):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000155026775E0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000015505706CA0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000015506409580>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000015506337F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x0000015506409550>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x0000015506409580>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x0000015506351EE0>
    │       │                      │    └ <telebot.types.Message object at 0x0000015506409550>
    │       │                      └ <telebot.types.CallbackQuery object at 0x0000015506409580>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000015505639DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-23T17:43:37.677451+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (19492), thread 'WorkerThread4' (17640):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000155026775E0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000015505706CA0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000015506409580>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000015506337F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x0000015506409550>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x0000015506409580>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x0000015506351EE0>
    │       │                      │    └ <telebot.types.Message object at 0x0000015506409550>
    │       │                      └ <telebot.types.CallbackQuery object at 0x0000015506409580>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000015505639DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-23T17:43:38.501569+0300, DEBUG, callback_query run
2021-08-23T17:43:38.501569+0300, DEBUG, callback_query run
2021-08-23T17:43:38.506568+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (19492), thread 'WorkerThread4' (17640):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000155026775E0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000015505706CA0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000015506414BE0>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000015506337F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x00000155064149A0>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x0000015506414BE0>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x0000015506388F70>
    │       │                      │    └ <telebot.types.Message object at 0x00000155064149A0>
    │       │                      └ <telebot.types.CallbackQuery object at 0x0000015506414BE0>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000015505639DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-23T17:43:38.506568+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (19492), thread 'WorkerThread4' (17640):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000155026775E0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000015505706CA0>
    └ <WorkerThread(WorkerThread4, started daemon 17640)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000015506414BE0>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000015506337F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x00000155064149A0>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x0000015506414BE0>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x0000015506388F70>
    │       │                      │    └ <telebot.types.Message object at 0x00000155064149A0>
    │       │                      └ <telebot.types.CallbackQuery object at 0x0000015506414BE0>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000015505639DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-23T17:44:32.233918+0300, DEBUG, callback_query run
2021-08-23T17:44:32.233918+0300, DEBUG, callback_query run
2021-08-23T17:44:39.300674+0300, INFO, Selected city Берлин
2021-08-23T17:44:39.300674+0300, INFO, Selected city Берлин
2021-08-23T17:44:42.286653+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-23T17:44:42.286653+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-24T13:14:01.519450+0300, ERROR, An error has been caught in function 'execute', process 'MainProcess' (19620), thread 'MainThread' (1788):
Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 699, in urlopen
    httplib_response = self._make_request(
                       │    └ <function HTTPConnectionPool._make_request at 0x000001B1C737CB80>
                       └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x000001B1C7EF01F0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 445, in _make_request
    six.raise_from(e, None)
    │   └ <function raise_from at 0x000001B1C731A550>
    └ <module 'urllib3.packages.six' from 'C:\\Users\\Ilnur\\PycharmProjects\\python_django\\venv\\lib\\site-packages\\urllib3\\pac...

  File "<string>", line 3, in raise_from

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 440, in _make_request
    httplib_response = conn.getresponse()
                       │    └ <function HTTPConnection.getresponse at 0x000001B1C67F3DC0>
                       └ <urllib3.connection.HTTPSConnection object at 0x000001B1C7EF0E80>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 1347, in getresponse
    response.begin()
    │        └ <function HTTPResponse.begin at 0x000001B1C67F2160>
    └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 307, in begin
    version, status, reason = self._read_status()
                              │    └ <function HTTPResponse._read_status at 0x000001B1C67F20D0>
                              └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 268, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               │    │           └ 65536
               │    └ None
               └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\socket.py", line 704, in readinto
    return self._sock.recv_into(b)
           │    │               └ <memory at 0x000001B1C7ED3040>
           │    └ None
           └ <socket.SocketIO object at 0x000001B1C7F25910>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\ssl.py", line 1241, in recv_into
    return self.read(nbytes, buffer)
           │    │    │       └ <memory at 0x000001B1C7ED3040>
           │    │    └ 8192
           │    └ <function SSLSocket.read at 0x000001B1C5E92820>
           └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\ssl.py", line 1099, in read
    return self._sslobj.read(len, buffer)
           │    │            │    └ <memory at 0x000001B1C7ED3040>
           │    │            └ 8192
           │    └ None
           └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

ConnectionResetError: [WinError 10054] Удаленный хост принудительно разорвал существующее подключение


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\requests\adapters.py", line 439, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x000001B1C737CDC0>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x000001B1C7EF01F0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 755, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x000001B1C733D160>
              └ Retry(total=0, connect=None, read=False, redirect=None, status=None)

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\util\retry.py", line 532, in increment
    raise six.reraise(type(error), error, _stacktrace)
          │   │            │       │      └ <traceback object at 0x000001B1C7F3F140>
          │   │            │       └ ProtocolError('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключе...
          │   │            └ ProtocolError('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключе...
          │   └ <function reraise at 0x000001B1C731A4C0>
          └ <module 'urllib3.packages.six' from 'C:\\Users\\Ilnur\\PycharmProjects\\python_django\\venv\\lib\\site-packages\\urllib3\\pac...

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\packages\six.py", line 769, in reraise
    raise value.with_traceback(tb)
          │                    └ None
          └ None

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 699, in urlopen
    httplib_response = self._make_request(
                       │    └ <function HTTPConnectionPool._make_request at 0x000001B1C737CB80>
                       └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x000001B1C7EF01F0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 445, in _make_request
    six.raise_from(e, None)
    │   └ <function raise_from at 0x000001B1C731A550>
    └ <module 'urllib3.packages.six' from 'C:\\Users\\Ilnur\\PycharmProjects\\python_django\\venv\\lib\\site-packages\\urllib3\\pac...

  File "<string>", line 3, in raise_from

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 440, in _make_request
    httplib_response = conn.getresponse()
                       │    └ <function HTTPConnection.getresponse at 0x000001B1C67F3DC0>
                       └ <urllib3.connection.HTTPSConnection object at 0x000001B1C7EF0E80>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 1347, in getresponse
    response.begin()
    │        └ <function HTTPResponse.begin at 0x000001B1C67F2160>
    └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 307, in begin
    version, status, reason = self._read_status()
                              │    └ <function HTTPResponse._read_status at 0x000001B1C67F20D0>
                              └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 268, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               │    │           └ 65536
               │    └ None
               └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\socket.py", line 704, in readinto
    return self._sock.recv_into(b)
           │    │               └ <memory at 0x000001B1C7ED3040>
           │    └ None
           └ <socket.SocketIO object at 0x000001B1C7F25910>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\ssl.py", line 1241, in recv_into
    return self.read(nbytes, buffer)
           │    │    │       └ <memory at 0x000001B1C7ED3040>
           │    │    └ 8192
           │    └ <function SSLSocket.read at 0x000001B1C5E92820>
           └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\ssl.py", line 1099, in read
    return self._sslobj.read(len, buffer)
           │    │            │    └ <memory at 0x000001B1C7ED3040>
           │    │            └ 8192
           │    └ None
           └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\manage.py", line 22, in <module>
    main()
    └ <function main at 0x000001B1C3F4B9D0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\manage.py", line 18, in main
    execute_from_command_line(sys.argv)
    │                         │   └ ['manage.py', 'bot']
    │                         └ <module 'sys' (built-in)>
    └ <function execute_from_command_line at 0x000001B1C65F3040>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\__init__.py", line 419, in execute_from_command_line
    utility.execute()
    │       └ <function ManagementUtility.execute at 0x000001B1C65F3310>
    └ <django.core.management.ManagementUtility object at 0x000001B1C3F4DFD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\__init__.py", line 413, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
    │    │             │                         │    └ ['manage.py', 'bot']
    │    │             │                         └ <django.core.management.ManagementUtility object at 0x000001B1C3F4DFD0>
    │    │             └ 'bot'
    │    └ <function ManagementUtility.fetch_command at 0x000001B1C65F31F0>
    └ <django.core.management.ManagementUtility object at 0x000001B1C3F4DFD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\base.py", line 354, in run_from_argv
    self.execute(*args, **cmd_options)
    │    │        │       └ {'verbosity': 1, 'settings': None, 'pythonpath': None, 'traceback': False, 'no_color': False, 'force_color': False, 'skip_che...
    │    │        └ ()
    │    └ <function BaseCommand.execute at 0x000001B1C65F28B0>
    └ <hotelapp.management.commands.bot.Command object at 0x000001B1C6E182B0>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\base.py", line 398, in execute
    output = self.handle(*args, **options)
             │    │       │       └ {'verbosity': 1, 'settings': None, 'pythonpath': None, 'traceback': False, 'no_color': False, 'force_color': False, 'skip_che...
             │    │       └ ()
             │    └ <function Command.handle at 0x000001B1C7E500D0>
             └ <hotelapp.management.commands.bot.Command object at 0x000001B1C6E182B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 170, in handle
    bot.polling()
    │   └ <function TeleBot.polling at 0x000001B1C74DB4C0>
    └ <telebot.TeleBot object at 0x000001B1C7E4A340>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 617, in polling
    self.__threaded_polling(none_stop, interval, timeout, long_polling_timeout, allowed_updates)
    │                       │          │         │        │                     └ None
    │                       │          │         │        └ 20
    │                       │          │         └ 20
    │                       │          └ 0
    │                       └ False
    └ <telebot.TeleBot object at 0x000001B1C7E4A340>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 676, in __threaded_polling
    raise e

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 638, in __threaded_polling
    polling_thread.raise_exceptions()
    │              └ <function WorkerThread.raise_exceptions at 0x000001B1C72E8700>
    └ <WorkerThread(PollingThread, stopped daemon 18376)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 100, in raise_exceptions
    raise self.exception_info
          │    └ ConnectionError(ProtocolError('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал сущес...
          └ <WorkerThread(PollingThread, stopped daemon 18376)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {'allowed_updates': None}
    │     └ (20, 20)
    └ <bound method TeleBot.__retrieve_updates of <telebot.TeleBot object at 0x000001B1C7E4A340>>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 388, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              │    │                   │    └ 87393731
              │    │                   └ <telebot.TeleBot object at 0x000001B1C7E4A340>
              │    └ <function TeleBot.get_updates at 0x000001B1C74DA940>
              └ <telebot.TeleBot object at 0x000001B1C7E4A340>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 361, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
                   │         │           │    │      │       │      │        │                └ 20
                   │         │           │    │      │       │      │        └ None
                   │         │           │    │      │       │      └ 20
                   │         │           │    │      │       └ None
                   │         │           │    │      └ 87393732
                   │         │           │    └ '1875127679:AAFuKvDtEgDMPDzdr8gyiD2lGFZ6R1srYhc'
                   │         │           └ <telebot.TeleBot object at 0x000001B1C7E4A340>
                   │         └ <function get_updates at 0x000001B1C74D5550>
                   └ <module 'telebot.apihelper' from 'C:\\Users\\Ilnur\\PycharmProjects\\python_django\\venv\\lib\\site-packages\\telebot\\apihel...

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\apihelper.py", line 312, in get_updates
    return _make_request(token, method_url, params=payload)
           │             │      │                  └ {'offset': 87393732, 'timeout': 20}
           │             │      └ 'getUpdates'
           │             └ '1875127679:AAFuKvDtEgDMPDzdr8gyiD2lGFZ6R1srYhc'
           └ <function _make_request at 0x000001B1C72DC820>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\apihelper.py", line 139, in _make_request
    result = _get_req_session().request(
             └ <function _get_req_session at 0x000001B1C72DC5E0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\requests\sessions.py", line 542, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': (20, 25), 'allow_redirects': True, 'verify': True, 'proxies': OrderedDict(), 'stream': False, 'cert': None}
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x000001B1C74D4820>
           └ <requests.sessions.Session object at 0x000001B1C7EE4AC0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\requests\sessions.py", line 655, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': (20, 25), 'verify': True, 'proxies': OrderedDict(), 'stream': False, 'cert': None}
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x000001B1C74CACA0>
        └ <requests.adapters.HTTPAdapter object at 0x000001B1C7EE4EB0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\requests\adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
          │                            └ <PreparedRequest [GET]>
          └ <class 'requests.exceptions.ConnectionError'>

requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))
2021-08-24T13:14:01.519450+0300, ERROR, An error has been caught in function 'execute', process 'MainProcess' (19620), thread 'MainThread' (1788):
Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 699, in urlopen
    httplib_response = self._make_request(
                       │    └ <function HTTPConnectionPool._make_request at 0x000001B1C737CB80>
                       └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x000001B1C7EF01F0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 445, in _make_request
    six.raise_from(e, None)
    │   └ <function raise_from at 0x000001B1C731A550>
    └ <module 'urllib3.packages.six' from 'C:\\Users\\Ilnur\\PycharmProjects\\python_django\\venv\\lib\\site-packages\\urllib3\\pac...

  File "<string>", line 3, in raise_from

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 440, in _make_request
    httplib_response = conn.getresponse()
                       │    └ <function HTTPConnection.getresponse at 0x000001B1C67F3DC0>
                       └ <urllib3.connection.HTTPSConnection object at 0x000001B1C7EF0E80>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 1347, in getresponse
    response.begin()
    │        └ <function HTTPResponse.begin at 0x000001B1C67F2160>
    └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 307, in begin
    version, status, reason = self._read_status()
                              │    └ <function HTTPResponse._read_status at 0x000001B1C67F20D0>
                              └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 268, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               │    │           └ 65536
               │    └ None
               └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\socket.py", line 704, in readinto
    return self._sock.recv_into(b)
           │    │               └ <memory at 0x000001B1C7ED3040>
           │    └ None
           └ <socket.SocketIO object at 0x000001B1C7F25910>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\ssl.py", line 1241, in recv_into
    return self.read(nbytes, buffer)
           │    │    │       └ <memory at 0x000001B1C7ED3040>
           │    │    └ 8192
           │    └ <function SSLSocket.read at 0x000001B1C5E92820>
           └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\ssl.py", line 1099, in read
    return self._sslobj.read(len, buffer)
           │    │            │    └ <memory at 0x000001B1C7ED3040>
           │    │            └ 8192
           │    └ None
           └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

ConnectionResetError: [WinError 10054] Удаленный хост принудительно разорвал существующее подключение


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\requests\adapters.py", line 439, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x000001B1C737CDC0>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x000001B1C7EF01F0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 755, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x000001B1C733D160>
              └ Retry(total=0, connect=None, read=False, redirect=None, status=None)

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\util\retry.py", line 532, in increment
    raise six.reraise(type(error), error, _stacktrace)
          │   │            │       │      └ <traceback object at 0x000001B1C7F3F140>
          │   │            │       └ ProtocolError('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключе...
          │   │            └ ProtocolError('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключе...
          │   └ <function reraise at 0x000001B1C731A4C0>
          └ <module 'urllib3.packages.six' from 'C:\\Users\\Ilnur\\PycharmProjects\\python_django\\venv\\lib\\site-packages\\urllib3\\pac...

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\packages\six.py", line 769, in reraise
    raise value.with_traceback(tb)
          │                    └ None
          └ None

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 699, in urlopen
    httplib_response = self._make_request(
                       │    └ <function HTTPConnectionPool._make_request at 0x000001B1C737CB80>
                       └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x000001B1C7EF01F0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 445, in _make_request
    six.raise_from(e, None)
    │   └ <function raise_from at 0x000001B1C731A550>
    └ <module 'urllib3.packages.six' from 'C:\\Users\\Ilnur\\PycharmProjects\\python_django\\venv\\lib\\site-packages\\urllib3\\pac...

  File "<string>", line 3, in raise_from

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\urllib3\connectionpool.py", line 440, in _make_request
    httplib_response = conn.getresponse()
                       │    └ <function HTTPConnection.getresponse at 0x000001B1C67F3DC0>
                       └ <urllib3.connection.HTTPSConnection object at 0x000001B1C7EF0E80>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 1347, in getresponse
    response.begin()
    │        └ <function HTTPResponse.begin at 0x000001B1C67F2160>
    └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 307, in begin
    version, status, reason = self._read_status()
                              │    └ <function HTTPResponse._read_status at 0x000001B1C67F20D0>
                              └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\http\client.py", line 268, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               │    │           └ 65536
               │    └ None
               └ <http.client.HTTPResponse object at 0x000001B1C7F0A730>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\socket.py", line 704, in readinto
    return self._sock.recv_into(b)
           │    │               └ <memory at 0x000001B1C7ED3040>
           │    └ None
           └ <socket.SocketIO object at 0x000001B1C7F25910>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\ssl.py", line 1241, in recv_into
    return self.read(nbytes, buffer)
           │    │    │       └ <memory at 0x000001B1C7ED3040>
           │    │    └ 8192
           │    └ <function SSLSocket.read at 0x000001B1C5E92820>
           └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\ssl.py", line 1099, in read
    return self._sslobj.read(len, buffer)
           │    │            │    └ <memory at 0x000001B1C7ED3040>
           │    │            └ 8192
           │    └ None
           └ <ssl.SSLSocket [closed] fd=-1, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0>

urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\manage.py", line 22, in <module>
    main()
    └ <function main at 0x000001B1C3F4B9D0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\manage.py", line 18, in main
    execute_from_command_line(sys.argv)
    │                         │   └ ['manage.py', 'bot']
    │                         └ <module 'sys' (built-in)>
    └ <function execute_from_command_line at 0x000001B1C65F3040>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\__init__.py", line 419, in execute_from_command_line
    utility.execute()
    │       └ <function ManagementUtility.execute at 0x000001B1C65F3310>
    └ <django.core.management.ManagementUtility object at 0x000001B1C3F4DFD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\__init__.py", line 413, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
    │    │             │                         │    └ ['manage.py', 'bot']
    │    │             │                         └ <django.core.management.ManagementUtility object at 0x000001B1C3F4DFD0>
    │    │             └ 'bot'
    │    └ <function ManagementUtility.fetch_command at 0x000001B1C65F31F0>
    └ <django.core.management.ManagementUtility object at 0x000001B1C3F4DFD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\base.py", line 354, in run_from_argv
    self.execute(*args, **cmd_options)
    │    │        │       └ {'verbosity': 1, 'settings': None, 'pythonpath': None, 'traceback': False, 'no_color': False, 'force_color': False, 'skip_che...
    │    │        └ ()
    │    └ <function BaseCommand.execute at 0x000001B1C65F28B0>
    └ <hotelapp.management.commands.bot.Command object at 0x000001B1C6E182B0>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\base.py", line 398, in execute
    output = self.handle(*args, **options)
             │    │       │       └ {'verbosity': 1, 'settings': None, 'pythonpath': None, 'traceback': False, 'no_color': False, 'force_color': False, 'skip_che...
             │    │       └ ()
             │    └ <function Command.handle at 0x000001B1C7E500D0>
             └ <hotelapp.management.commands.bot.Command object at 0x000001B1C6E182B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 170, in handle
    bot.polling()
    │   └ <function TeleBot.polling at 0x000001B1C74DB4C0>
    └ <telebot.TeleBot object at 0x000001B1C7E4A340>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 617, in polling
    self.__threaded_polling(none_stop, interval, timeout, long_polling_timeout, allowed_updates)
    │                       │          │         │        │                     └ None
    │                       │          │         │        └ 20
    │                       │          │         └ 20
    │                       │          └ 0
    │                       └ False
    └ <telebot.TeleBot object at 0x000001B1C7E4A340>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 676, in __threaded_polling
    raise e

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 638, in __threaded_polling
    polling_thread.raise_exceptions()
    │              └ <function WorkerThread.raise_exceptions at 0x000001B1C72E8700>
    └ <WorkerThread(PollingThread, stopped daemon 18376)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 100, in raise_exceptions
    raise self.exception_info
          │    └ ConnectionError(ProtocolError('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал сущес...
          └ <WorkerThread(PollingThread, stopped daemon 18376)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {'allowed_updates': None}
    │     └ (20, 20)
    └ <bound method TeleBot.__retrieve_updates of <telebot.TeleBot object at 0x000001B1C7E4A340>>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 388, in __retrieve_updates
    updates = self.get_updates(offset=(self.last_update_id + 1),
              │    │                   │    └ 87393731
              │    │                   └ <telebot.TeleBot object at 0x000001B1C7E4A340>
              │    └ <function TeleBot.get_updates at 0x000001B1C74DA940>
              └ <telebot.TeleBot object at 0x000001B1C7E4A340>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 361, in get_updates
    json_updates = apihelper.get_updates(self.token, offset, limit, timeout, allowed_updates, long_polling_timeout)
                   │         │           │    │      │       │      │        │                └ 20
                   │         │           │    │      │       │      │        └ None
                   │         │           │    │      │       │      └ 20
                   │         │           │    │      │       └ None
                   │         │           │    │      └ 87393732
                   │         │           │    └ '1875127679:AAFuKvDtEgDMPDzdr8gyiD2lGFZ6R1srYhc'
                   │         │           └ <telebot.TeleBot object at 0x000001B1C7E4A340>
                   │         └ <function get_updates at 0x000001B1C74D5550>
                   └ <module 'telebot.apihelper' from 'C:\\Users\\Ilnur\\PycharmProjects\\python_django\\venv\\lib\\site-packages\\telebot\\apihel...

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\apihelper.py", line 312, in get_updates
    return _make_request(token, method_url, params=payload)
           │             │      │                  └ {'offset': 87393732, 'timeout': 20}
           │             │      └ 'getUpdates'
           │             └ '1875127679:AAFuKvDtEgDMPDzdr8gyiD2lGFZ6R1srYhc'
           └ <function _make_request at 0x000001B1C72DC820>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\apihelper.py", line 139, in _make_request
    result = _get_req_session().request(
             └ <function _get_req_session at 0x000001B1C72DC5E0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\requests\sessions.py", line 542, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': (20, 25), 'allow_redirects': True, 'verify': True, 'proxies': OrderedDict(), 'stream': False, 'cert': None}
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x000001B1C74D4820>
           └ <requests.sessions.Session object at 0x000001B1C7EE4AC0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\requests\sessions.py", line 655, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': (20, 25), 'verify': True, 'proxies': OrderedDict(), 'stream': False, 'cert': None}
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x000001B1C74CACA0>
        └ <requests.adapters.HTTPAdapter object at 0x000001B1C7EE4EB0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\requests\adapters.py", line 498, in send
    raise ConnectionError(err, request=request)
          │                            └ <PreparedRequest [GET]>
          └ <class 'requests.exceptions.ConnectionError'>

requests.exceptions.ConnectionError: ('Connection aborted.', ConnectionResetError(10054, 'Удаленный хост принудительно разорвал существующее подключение', None, 10054, None))
2021-08-24T13:14:31.140473+0300, DEBUG, callback_query run
2021-08-24T13:14:31.140473+0300, DEBUG, callback_query run
2021-08-24T13:14:37.810012+0300, DEBUG, callback_query run
2021-08-24T13:14:37.810012+0300, DEBUG, callback_query run
2021-08-24T13:14:59.062194+0300, DEBUG, callback_query run
2021-08-24T13:14:59.062194+0300, DEBUG, callback_query run
2021-08-24T13:15:18.655383+0300, INFO, Selected city Берлин
2021-08-24T13:15:18.655383+0300, INFO, Selected city Берлин
2021-08-24T13:15:22.046993+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-24T13:15:22.046993+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-24T13:16:40.579275+0300, DEBUG, callback_query run
2021-08-24T13:16:40.579275+0300, DEBUG, callback_query run
2021-08-24T13:16:47.003108+0300, INFO, Selected city Берлин
2021-08-24T13:16:47.003108+0300, INFO, Selected city Берлин
2021-08-24T13:16:53.281117+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-24T13:16:53.281117+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-24T13:18:57.995746+0300, DEBUG, callback_query run
2021-08-24T13:18:57.995746+0300, DEBUG, callback_query run
2021-08-24T13:18:57.999490+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (6064), thread 'WorkerThread4' (6428):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000269B23175E0>
    └ <WorkerThread(WorkerThread4, started daemon 6428)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000269B5386CA0>
    └ <WorkerThread(WorkerThread4, started daemon 6428)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x00000269B5FEA9A0>,)
    └ <function Command.handle.<locals>.callback_query at 0x00000269B5FB7F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x00000269B5FEA580>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x00000269B5FEA9A0>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x00000269B6038E20>
    │       │                      │    └ <telebot.types.Message object at 0x00000269B5FEA580>
    │       │                      └ <telebot.types.CallbackQuery object at 0x00000269B5FEA9A0>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x00000269B52B9DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-24T13:18:57.999490+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (6064), thread 'WorkerThread4' (6428):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000269B23175E0>
    └ <WorkerThread(WorkerThread4, started daemon 6428)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000269B5386CA0>
    └ <WorkerThread(WorkerThread4, started daemon 6428)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x00000269B5FEA9A0>,)
    └ <function Command.handle.<locals>.callback_query at 0x00000269B5FB7F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x00000269B5FEA580>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x00000269B5FEA9A0>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x00000269B6038E20>
    │       │                      │    └ <telebot.types.Message object at 0x00000269B5FEA580>
    │       │                      └ <telebot.types.CallbackQuery object at 0x00000269B5FEA9A0>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x00000269B52B9DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-24T13:23:24.932218+0300, DEBUG, callback_query run
2021-08-24T13:23:24.932218+0300, DEBUG, callback_query run
2021-08-24T13:23:33.031884+0300, INFO, Selected city Берлин
2021-08-24T13:23:33.031884+0300, INFO, Selected city Берлин
2021-08-24T13:23:37.228632+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-24T13:23:37.228632+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-24T13:23:42.786977+0300, DEBUG, callback_query run
2021-08-24T13:23:42.786977+0300, DEBUG, callback_query run
2021-08-24T13:23:42.791290+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (3188), thread 'WorkerThread4' (13740):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023A2E3A75E0>
    └ <WorkerThread(WorkerThread4, started daemon 13740)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023A31440D30>
    └ <WorkerThread(WorkerThread4, started daemon 13740)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000023A320AABE0>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000023A32082040>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x0000023A320AA550>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x0000023A320AABE0>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x0000023A320F9E20>
    │       │                      │    └ <telebot.types.Message object at 0x0000023A320AA550>
    │       │                      └ <telebot.types.CallbackQuery object at 0x0000023A320AABE0>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000023A31379DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-24T13:23:42.791290+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (3188), thread 'WorkerThread4' (13740):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023A2E3A75E0>
    └ <WorkerThread(WorkerThread4, started daemon 13740)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023A31440D30>
    └ <WorkerThread(WorkerThread4, started daemon 13740)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000023A320AABE0>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000023A32082040>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.message.text))
    │       │                      │    │       │    │                      │    │       └ 'Найденные города:'
    │       │                      │    │       │    │                      │    └ <telebot.types.Message object at 0x0000023A320AA550>
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x0000023A320AABE0>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x0000023A320F9E20>
    │       │                      │    └ <telebot.types.Message object at 0x0000023A320AA550>
    │       │                      └ <telebot.types.CallbackQuery object at 0x0000023A320AABE0>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000023A31379DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'Найденные города:'
2021-08-24T13:25:34.680579+0300, DEBUG, callback_query run
2021-08-24T13:25:34.680579+0300, DEBUG, callback_query run
2021-08-24T13:25:42.378464+0300, INFO, Selected city Берлин
2021-08-24T13:25:42.378464+0300, INFO, Selected city Берлин
2021-08-24T13:25:46.666258+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-24T13:25:46.666258+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Берлинхен', 'caption': 'Берлинхен, Виттшток/Доссе, Бранденбург  (регион), Германия', 'city_id': '10370402'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}]
2021-08-24T13:28:58.590514+0300, DEBUG, callback_query run
2021-08-24T13:28:58.590514+0300, DEBUG, callback_query run
2021-08-24T13:29:05.066727+0300, INFO, Selected city Сочи
2021-08-24T13:29:05.066727+0300, INFO, Selected city Сочи
2021-08-24T13:29:07.819450+0300, DEBUG, List city [{'city': 'Сочи (и окрестности)', 'caption': 'Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '1662648'}, {'city': 'Центр города Сочи', 'caption': 'Центр города Сочи, Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '10873622'}, {'city': 'Сочи пляжи', 'caption': 'Сочи пляжи, Краснодарский край, Россия', 'city_id': '1673492'}, {'city': 'Мацеста (Сочи)', 'caption': 'Мацеста (Сочи), Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '10412378'}]
2021-08-24T13:29:07.819450+0300, DEBUG, List city [{'city': 'Сочи (и окрестности)', 'caption': 'Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '1662648'}, {'city': 'Центр города Сочи', 'caption': 'Центр города Сочи, Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '10873622'}, {'city': 'Сочи пляжи', 'caption': 'Сочи пляжи, Краснодарский край, Россия', 'city_id': '1673492'}, {'city': 'Мацеста (Сочи)', 'caption': 'Мацеста (Сочи), Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '10412378'}]
2021-08-24T13:29:17.717314+0300, DEBUG, callback_query run
2021-08-24T13:29:17.717314+0300, DEBUG, callback_query run
2021-08-24T13:29:17.721312+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (18288), thread 'WorkerThread3' (19876):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001C6060A75E0>
    └ <WorkerThread(WorkerThread3, started daemon 19876)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000001C609156CA0>
    └ <WorkerThread(WorkerThread3, started daemon 19876)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x000001C609DBACD0>,)
    └ <function Command.handle.<locals>.callback_query at 0x000001C609D86F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.data))
    │       │                      │    │       │    │                      │    └ 'CITY 1662648'
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x000001C609DBACD0>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x000001C609DBA850>
    │       │                      │    └ <telebot.types.Message object at 0x000001C609DBA760>
    │       │                      └ <telebot.types.CallbackQuery object at 0x000001C609DBACD0>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x000001C609089DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'CITY 1662648'
2021-08-24T13:29:17.721312+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (18288), thread 'WorkerThread3' (19876):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001C6060A75E0>
    └ <WorkerThread(WorkerThread3, started daemon 19876)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000001C609156CA0>
    └ <WorkerThread(WorkerThread3, started daemon 19876)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x000001C609DBACD0>,)
    └ <function Command.handle.<locals>.callback_query at 0x000001C609D86F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 75, in callback_query
    Profile.objects.filter(extr_id=call.message.chat.id).update(city_id=int(call.data))
    │       │                      │    │       │    │                      │    └ 'CITY 1662648'
    │       │                      │    │       │    │                      └ <telebot.types.CallbackQuery object at 0x000001C609DBACD0>
    │       │                      │    │       │    └ 158572669
    │       │                      │    │       └ <telebot.types.Chat object at 0x000001C609DBA850>
    │       │                      │    └ <telebot.types.Message object at 0x000001C609DBA760>
    │       │                      └ <telebot.types.CallbackQuery object at 0x000001C609DBACD0>
    │       └ <django.db.models.manager.ManagerDescriptor object at 0x000001C609089DC0>
    └ <class 'hotelapp.models.Profile'>

ValueError: invalid literal for int() with base 10: 'CITY 1662648'
2021-08-24T13:31:11.588520+0300, DEBUG, callback_query run
2021-08-24T13:31:11.588520+0300, DEBUG, callback_query run
2021-08-24T13:33:09.467416+0300, DEBUG, callback_query run
2021-08-24T13:33:09.467416+0300, DEBUG, callback_query run
2021-08-24T13:33:09.472859+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (3828), thread 'WorkerThread4' (7412):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000025802C775E0>
    └ <WorkerThread(WorkerThread4, started daemon 7412)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000025805CF6CA0>
    └ <WorkerThread(WorkerThread4, started daemon 7412)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000025806941F10>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000025806926F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 76, in callback_query
    logger.debug(f'Выбран город {Profile.object.get(extr_id=call.message.chat.id).city} id {city_id}')
    │      └ <function Logger.debug at 0x000002580687EB80>
    └ <loguru.logger handlers=[(id=0, level=10, sink=<stderr>), (id=1, level=10, sink='logging.log'), (id=2, level=10, sink='loggin...

AttributeError: type object 'Profile' has no attribute 'object'
2021-08-24T13:33:09.472859+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (3828), thread 'WorkerThread4' (7412):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000025802C775E0>
    └ <WorkerThread(WorkerThread4, started daemon 7412)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000025805CF6CA0>
    └ <WorkerThread(WorkerThread4, started daemon 7412)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000025806941F10>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000025806926F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 76, in callback_query
    logger.debug(f'Выбран город {Profile.object.get(extr_id=call.message.chat.id).city} id {city_id}')
    │      └ <function Logger.debug at 0x000002580687EB80>
    └ <loguru.logger handlers=[(id=0, level=10, sink=<stderr>), (id=1, level=10, sink='logging.log'), (id=2, level=10, sink='loggin...

AttributeError: type object 'Profile' has no attribute 'object'
2021-08-24T13:33:24.934002+0300, DEBUG, callback_query run
2021-08-24T13:33:24.934002+0300, DEBUG, callback_query run
2021-08-24T13:33:24.940571+0300, DEBUG, Выбран город Сочи id 1662648
2021-08-24T13:33:24.940571+0300, DEBUG, Выбран город Сочи id 1662648
2021-08-24T13:33:37.115098+0300, DEBUG, callback_query run
2021-08-24T13:33:37.115098+0300, DEBUG, callback_query run
2021-08-24T13:33:37.119106+0300, DEBUG, Выбран город Сочи id 1673492
2021-08-24T13:33:37.119106+0300, DEBUG, Выбран город Сочи id 1673492
2021-08-24T13:35:52.981305+0300, DEBUG, callback_query run
2021-08-24T13:35:52.981305+0300, DEBUG, callback_query run
2021-08-24T13:35:52.989297+0300, DEBUG, Выбран город Сочи id 1673492
2021-08-24T13:35:52.989297+0300, DEBUG, Выбран город Сочи id 1673492
2021-08-24T13:35:52.994273+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (6372), thread 'WorkerThread4' (17588):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023FF36375E0>
    └ <WorkerThread(WorkerThread4, started daemon 17588)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023FF66B6CA0>
    └ <WorkerThread(WorkerThread4, started daemon 17588)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000023FF72FFF10>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000023FF72E6F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 79, in callback_query
    f'Город для поиска - {call.data.split()[2]}')

IndexError: list index out of range
2021-08-24T13:35:52.994273+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (6372), thread 'WorkerThread4' (17588):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023FF36375E0>
    └ <WorkerThread(WorkerThread4, started daemon 17588)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023FF66B6CA0>
    └ <WorkerThread(WorkerThread4, started daemon 17588)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000023FF72FFF10>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000023FF72E6F70>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 79, in callback_query
    f'Город для поиска - {call.data.split()[2]}')

IndexError: list index out of range
2021-08-24T13:36:10.102432+0300, DEBUG, callback_query run
2021-08-24T13:36:10.102432+0300, DEBUG, callback_query run
2021-08-24T13:36:14.995018+0300, INFO, Selected city Москва
2021-08-24T13:36:14.995018+0300, INFO, Selected city Москва
2021-08-24T13:36:19.796623+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T13:36:19.796623+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T13:36:38.774582+0300, DEBUG, callback_query run
2021-08-24T13:36:38.774582+0300, DEBUG, callback_query run
2021-08-24T13:36:44.181443+0300, INFO, Selected city Москва
2021-08-24T13:36:44.181443+0300, INFO, Selected city Москва
2021-08-24T13:36:47.768281+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T13:36:47.768281+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T13:39:14.176720+0300, INFO, Selected city Москва
2021-08-24T13:39:14.176720+0300, INFO, Selected city Москва
2021-08-24T13:39:17.189670+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T13:39:17.189670+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T13:39:21.082081+0300, DEBUG, callback_query run
2021-08-24T13:39:21.082081+0300, DEBUG, callback_query run
2021-08-24T13:39:21.087125+0300, DEBUG, Выбран город Москва id 1665959
2021-08-24T13:39:21.087125+0300, DEBUG, Выбран город Москва id 1665959
2021-08-24T13:41:48.031160+0300, DEBUG, callback_query run
2021-08-24T13:41:48.031160+0300, DEBUG, callback_query run
2021-08-24T13:41:51.644138+0300, INFO, Selected city Казань
2021-08-24T13:41:51.644138+0300, INFO, Selected city Казань
2021-08-24T13:41:54.745055+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T13:41:54.745055+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T14:02:41.997664+0300, DEBUG, callback_query run
2021-08-24T14:02:41.997664+0300, DEBUG, callback_query run
2021-08-24T14:02:46.443010+0300, INFO, Selected city Казань
2021-08-24T14:02:46.443010+0300, INFO, Selected city Казань
2021-08-24T14:02:49.864624+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T14:02:49.864624+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T14:02:53.852006+0300, DEBUG, callback_query run
2021-08-24T14:02:53.852006+0300, DEBUG, callback_query run
2021-08-24T14:02:53.857985+0300, DEBUG, Выбран город Казань id 1794547
2021-08-24T14:02:53.857985+0300, DEBUG, Выбран город Казань id 1794547
2021-08-24T14:02:56.828585+0300, DEBUG, callback_query run
2021-08-24T14:02:56.828585+0300, DEBUG, callback_query run
2021-08-24T14:02:56.969640+0300, DEBUG, ERROR data page_size
2021-08-24T14:02:56.969640+0300, DEBUG, ERROR data page_size
2021-08-24T14:03:08.854960+0300, DEBUG, callback_query run
2021-08-24T14:03:08.854960+0300, DEBUG, callback_query run
2021-08-24T14:03:08.962772+0300, DEBUG, ERROR data page_size
2021-08-24T14:03:08.962772+0300, DEBUG, ERROR data page_size
2021-08-24T14:06:36.576648+0300, DEBUG, callback_query run
2021-08-24T14:06:36.576648+0300, DEBUG, callback_query run
2021-08-24T14:06:42.131721+0300, INFO, Selected city Рим
2021-08-24T14:06:42.131721+0300, INFO, Selected city Рим
2021-08-24T14:06:45.532388+0300, DEBUG, List city [{'city': 'Рим', 'caption': 'Рим, Лацио, Италия', 'city_id': '712491'}, {'city': 'Римини', 'caption': 'Римини, Римини, Эмилия-Романья, Италия', 'city_id': '1641012'}, {'city': 'Римини-Ривьера', 'caption': 'Римини-Ривьера, Италия', 'city_id': '1907488'}, {'city': 'Центр Рима', 'caption': 'Центр Рима, Рим, Лацио, Италия', 'city_id': '10818945'}, {'city': 'Исторический центр Римини', 'caption': 'Исторический центр Римини, Римини, Эмилия-Романья, Италия', 'city_id': '10565239'}, {'city': 'Римское побережье', 'caption': 'Римское побережье, Италия', 'city_id': '1641498'}]
2021-08-24T14:06:45.532388+0300, DEBUG, List city [{'city': 'Рим', 'caption': 'Рим, Лацио, Италия', 'city_id': '712491'}, {'city': 'Римини', 'caption': 'Римини, Римини, Эмилия-Романья, Италия', 'city_id': '1641012'}, {'city': 'Римини-Ривьера', 'caption': 'Римини-Ривьера, Италия', 'city_id': '1907488'}, {'city': 'Центр Рима', 'caption': 'Центр Рима, Рим, Лацио, Италия', 'city_id': '10818945'}, {'city': 'Исторический центр Римини', 'caption': 'Исторический центр Римини, Римини, Эмилия-Романья, Италия', 'city_id': '10565239'}, {'city': 'Римское побережье', 'caption': 'Римское побережье, Италия', 'city_id': '1641498'}]
2021-08-24T14:06:50.060467+0300, DEBUG, callback_query run
2021-08-24T14:06:50.060467+0300, DEBUG, callback_query run
2021-08-24T14:06:50.065461+0300, DEBUG, Выбран город Рим id 712491
2021-08-24T14:06:50.065461+0300, DEBUG, Выбран город Рим id 712491
2021-08-24T14:06:52.432478+0300, DEBUG, callback_query run
2021-08-24T14:06:52.432478+0300, DEBUG, callback_query run
2021-08-24T14:06:52.547532+0300, DEBUG, Количество отелей: None func: callback_query
2021-08-24T14:06:52.547532+0300, DEBUG, Количество отелей: None func: callback_query
2021-08-24T14:06:56.931176+0300, ERROR, An error has been caught in function 'execute', process 'MainProcess' (17700), thread 'MainThread' (14264):
Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 167, in get_page_size
    if int(call.message.text) > 0 and int(call.message.text) <= 10:
           │                              └ <telebot.types.Message object at 0x00000176B5305670>
           └ <telebot.types.Message object at 0x00000176B5305670>

AttributeError: 'Message' object has no attribute 'message'


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\manage.py", line 22, in <module>
    main()
    └ <function main at 0x00000176B134B9D0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\manage.py", line 18, in main
    execute_from_command_line(sys.argv)
    │                         │   └ ['manage.py', 'bot']
    │                         └ <module 'sys' (built-in)>
    └ <function execute_from_command_line at 0x00000176B35F3040>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\__init__.py", line 419, in execute_from_command_line
    utility.execute()
    │       └ <function ManagementUtility.execute at 0x00000176B35F3310>
    └ <django.core.management.ManagementUtility object at 0x00000176B134DFD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\__init__.py", line 413, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
    │    │             │                         │    └ ['manage.py', 'bot']
    │    │             │                         └ <django.core.management.ManagementUtility object at 0x00000176B134DFD0>
    │    │             └ 'bot'
    │    └ <function ManagementUtility.fetch_command at 0x00000176B35F31F0>
    └ <django.core.management.ManagementUtility object at 0x00000176B134DFD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\base.py", line 354, in run_from_argv
    self.execute(*args, **cmd_options)
    │    │        │       └ {'verbosity': 1, 'settings': None, 'pythonpath': None, 'traceback': False, 'no_color': False, 'force_color': False, 'skip_che...
    │    │        └ ()
    │    └ <function BaseCommand.execute at 0x00000176B35F28B0>
    └ <hotelapp.management.commands.bot.Command object at 0x00000176B42182B0>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\base.py", line 398, in execute
    output = self.handle(*args, **options)
             │    │       │       └ {'verbosity': 1, 'settings': None, 'pythonpath': None, 'traceback': False, 'no_color': False, 'force_color': False, 'skip_che...
             │    │       └ ()
             │    └ <function Command.handle at 0x00000176B5250160>
             └ <hotelapp.management.commands.bot.Command object at 0x00000176B42182B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 177, in handle
    bot.polling()
    │   └ <function TeleBot.polling at 0x00000176B48DB550>
    └ <telebot.TeleBot object at 0x00000176B524A370>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 617, in polling
    self.__threaded_polling(none_stop, interval, timeout, long_polling_timeout, allowed_updates)
    │                       │          │         │        │                     └ None
    │                       │          │         │        └ 20
    │                       │          │         └ 20
    │                       │          └ 0
    │                       └ False
    └ <telebot.TeleBot object at 0x00000176B524A370>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 676, in __threaded_polling
    raise e

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 639, in __threaded_polling
    self.worker_pool.raise_exceptions()
    │    │           └ <function ThreadPool.raise_exceptions at 0x00000176B46E8AF0>
    │    └ <telebot.util.ThreadPool object at 0x00000176B524A550>
    └ <telebot.TeleBot object at 0x00000176B524A370>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 130, in raise_exceptions
    raise self.exception_info
          │    └ AttributeError("'Message' object has no attribute 'message'")
          └ <telebot.util.ThreadPool object at 0x00000176B524A550>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000176B5305670>, 'PRICE')
    └ <function Command.handle.<locals>.get_page_size at 0x00000176B52E3B80>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 173, in get_page_size
    bot.send_message(call.message.chat.id, "Попробуйте еще раз")
    │   │            └ <telebot.types.Message object at 0x00000176B5305670>
    │   └ <function TeleBot.send_message at 0x00000176B48DC1F0>
    └ <telebot.TeleBot object at 0x00000176B524A370>

AttributeError: 'Message' object has no attribute 'message'
2021-08-24T14:06:56.931176+0300, ERROR, An error has been caught in function 'execute', process 'MainProcess' (17700), thread 'MainThread' (14264):
Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 167, in get_page_size
    if int(call.message.text) > 0 and int(call.message.text) <= 10:
           │                              └ <telebot.types.Message object at 0x00000176B5305670>
           └ <telebot.types.Message object at 0x00000176B5305670>

AttributeError: 'Message' object has no attribute 'message'


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\manage.py", line 22, in <module>
    main()
    └ <function main at 0x00000176B134B9D0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\manage.py", line 18, in main
    execute_from_command_line(sys.argv)
    │                         │   └ ['manage.py', 'bot']
    │                         └ <module 'sys' (built-in)>
    └ <function execute_from_command_line at 0x00000176B35F3040>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\__init__.py", line 419, in execute_from_command_line
    utility.execute()
    │       └ <function ManagementUtility.execute at 0x00000176B35F3310>
    └ <django.core.management.ManagementUtility object at 0x00000176B134DFD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\__init__.py", line 413, in execute
    self.fetch_command(subcommand).run_from_argv(self.argv)
    │    │             │                         │    └ ['manage.py', 'bot']
    │    │             │                         └ <django.core.management.ManagementUtility object at 0x00000176B134DFD0>
    │    │             └ 'bot'
    │    └ <function ManagementUtility.fetch_command at 0x00000176B35F31F0>
    └ <django.core.management.ManagementUtility object at 0x00000176B134DFD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\base.py", line 354, in run_from_argv
    self.execute(*args, **cmd_options)
    │    │        │       └ {'verbosity': 1, 'settings': None, 'pythonpath': None, 'traceback': False, 'no_color': False, 'force_color': False, 'skip_che...
    │    │        └ ()
    │    └ <function BaseCommand.execute at 0x00000176B35F28B0>
    └ <hotelapp.management.commands.bot.Command object at 0x00000176B42182B0>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\core\management\base.py", line 398, in execute
    output = self.handle(*args, **options)
             │    │       │       └ {'verbosity': 1, 'settings': None, 'pythonpath': None, 'traceback': False, 'no_color': False, 'force_color': False, 'skip_che...
             │    │       └ ()
             │    └ <function Command.handle at 0x00000176B5250160>
             └ <hotelapp.management.commands.bot.Command object at 0x00000176B42182B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 177, in handle
    bot.polling()
    │   └ <function TeleBot.polling at 0x00000176B48DB550>
    └ <telebot.TeleBot object at 0x00000176B524A370>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 617, in polling
    self.__threaded_polling(none_stop, interval, timeout, long_polling_timeout, allowed_updates)
    │                       │          │         │        │                     └ None
    │                       │          │         │        └ 20
    │                       │          │         └ 20
    │                       │          └ 0
    │                       └ False
    └ <telebot.TeleBot object at 0x00000176B524A370>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 676, in __threaded_polling
    raise e

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\__init__.py", line 639, in __threaded_polling
    self.worker_pool.raise_exceptions()
    │    │           └ <function ThreadPool.raise_exceptions at 0x00000176B46E8AF0>
    │    └ <telebot.util.ThreadPool object at 0x00000176B524A550>
    └ <telebot.TeleBot object at 0x00000176B524A370>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 130, in raise_exceptions
    raise self.exception_info
          │    └ AttributeError("'Message' object has no attribute 'message'")
          └ <telebot.util.ThreadPool object at 0x00000176B524A550>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000176B5305670>, 'PRICE')
    └ <function Command.handle.<locals>.get_page_size at 0x00000176B52E3B80>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 173, in get_page_size
    bot.send_message(call.message.chat.id, "Попробуйте еще раз")
    │   │            └ <telebot.types.Message object at 0x00000176B5305670>
    │   └ <function TeleBot.send_message at 0x00000176B48DC1F0>
    └ <telebot.TeleBot object at 0x00000176B524A370>

AttributeError: 'Message' object has no attribute 'message'
2021-08-24T14:08:29.437718+0300, DEBUG, callback_query run
2021-08-24T14:08:29.437718+0300, DEBUG, callback_query run
2021-08-24T14:08:29.744900+0300, DEBUG, Количество отелей: None func: callback_query
2021-08-24T14:08:29.744900+0300, DEBUG, Количество отелей: None func: callback_query
2021-08-24T14:11:12.169598+0300, DEBUG, callback_query run
2021-08-24T14:11:12.169598+0300, DEBUG, callback_query run
2021-08-24T14:11:12.474373+0300, DEBUG, Количество отелей: 4 func: callback_query
2021-08-24T14:11:12.474373+0300, DEBUG, Количество отелей: 4 func: callback_query
2021-08-24T14:12:46.726139+0300, DEBUG, callback_query run
2021-08-24T14:12:46.726139+0300, DEBUG, callback_query run
2021-08-24T14:12:48.841944+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:12:48.841944+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:12:51.552050+0300, DEBUG, callback_query run
2021-08-24T14:12:51.552050+0300, DEBUG, callback_query run
2021-08-24T14:12:51.704651+0300, DEBUG, Количество отелей: 6 func: callback_query
2021-08-24T14:12:51.704651+0300, DEBUG, Количество отелей: 6 func: callback_query
2021-08-24T14:13:55.612693+0300, DEBUG, callback_query run
2021-08-24T14:13:55.612693+0300, DEBUG, callback_query run
2021-08-24T14:13:55.784632+0300, DEBUG, Количество отелей: 8 func: callback_query
2021-08-24T14:13:55.784632+0300, DEBUG, Количество отелей: 8 func: callback_query
2021-08-24T14:14:58.573819+0300, DEBUG, callback_query run
2021-08-24T14:14:58.573819+0300, DEBUG, callback_query run
2021-08-24T14:15:00.727741+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:15:00.727741+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:15:02.357518+0300, DEBUG, callback_query run
2021-08-24T14:15:02.357518+0300, DEBUG, callback_query run
2021-08-24T14:15:02.474809+0300, DEBUG, Количество отелей: 2 func: callback_query
2021-08-24T14:15:02.474809+0300, DEBUG, Количество отелей: 2 func: callback_query
2021-08-24T14:21:14.166118+0300, DEBUG, callback_query run
2021-08-24T14:21:14.166118+0300, DEBUG, callback_query run
2021-08-24T14:21:17.869110+0300, INFO, Selected city Сочи
2021-08-24T14:21:17.869110+0300, INFO, Selected city Сочи
2021-08-24T14:21:21.103361+0300, DEBUG, List city [{'city': 'Сочи (и окрестности)', 'caption': 'Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '1662648'}, {'city': 'Центр города Сочи', 'caption': 'Центр города Сочи, Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '10873622'}, {'city': 'Сочи пляжи', 'caption': 'Сочи пляжи, Краснодарский край, Россия', 'city_id': '1673492'}, {'city': 'Мацеста (Сочи)', 'caption': 'Мацеста (Сочи), Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '10412378'}]
2021-08-24T14:21:21.103361+0300, DEBUG, List city [{'city': 'Сочи (и окрестности)', 'caption': 'Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '1662648'}, {'city': 'Центр города Сочи', 'caption': 'Центр города Сочи, Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '10873622'}, {'city': 'Сочи пляжи', 'caption': 'Сочи пляжи, Краснодарский край, Россия', 'city_id': '1673492'}, {'city': 'Мацеста (Сочи)', 'caption': 'Мацеста (Сочи), Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '10412378'}]
2021-08-24T14:21:24.225347+0300, DEBUG, callback_query run
2021-08-24T14:21:24.225347+0300, DEBUG, callback_query run
2021-08-24T14:21:24.230345+0300, DEBUG, Выбран город Сочи id 1662648
2021-08-24T14:21:24.230345+0300, DEBUG, Выбран город Сочи id 1662648
2021-08-24T14:21:26.109509+0300, DEBUG, callback_query run
2021-08-24T14:21:26.109509+0300, DEBUG, callback_query run
2021-08-24T14:21:28.214923+0300, DEBUG, Количество отелей: 7 func: get_page_size
2021-08-24T14:21:28.214923+0300, DEBUG, Количество отелей: 7 func: get_page_size
2021-08-24T14:38:54.665898+0300, DEBUG, callback_query run
2021-08-24T14:38:54.665898+0300, DEBUG, callback_query run
2021-08-24T14:38:57.509530+0300, INFO, Your address 17Е к2, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:38:57.509530+0300, INFO, Your address 17Е к2, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:38:59.087399+0300, DEBUG, callback_query run
2021-08-24T14:38:59.087399+0300, DEBUG, callback_query run
2021-08-24T14:39:02.195966+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (10560), thread 'WorkerThread4' (5252):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000026ABC0E75E0>
    └ <WorkerThread(WorkerThread4, started daemon 5252)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000026ABF13EDC0>
    └ <WorkerThread(WorkerThread4, started daemon 5252)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000026ABFDC85E0>,)
    └ <function Command.handle.<locals>.get_page_size at 0x0000026ABFD81E50>

TypeError: get_page_size() missing 1 required positional argument: 'sort'
2021-08-24T14:39:02.195966+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (10560), thread 'WorkerThread4' (5252):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000026ABC0E75E0>
    └ <WorkerThread(WorkerThread4, started daemon 5252)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000026ABF13EDC0>
    └ <WorkerThread(WorkerThread4, started daemon 5252)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000026ABFDC85E0>,)
    └ <function Command.handle.<locals>.get_page_size at 0x0000026ABFD81E50>

TypeError: get_page_size() missing 1 required positional argument: 'sort'
2021-08-24T14:39:02.811416+0300, DEBUG, callback_query run
2021-08-24T14:39:02.811416+0300, DEBUG, callback_query run
2021-08-24T14:39:42.994444+0300, INFO, Selected city Тайбэй
2021-08-24T14:39:42.994444+0300, INFO, Selected city Тайбэй
2021-08-24T14:39:47.102516+0300, DEBUG, List city [{'city': 'Тайбэй', 'caption': 'Тайбэй, Тайвань', 'city_id': '1366745'}, {'city': 'Zhongshan', 'caption': 'Zhongshan, Тайбэй, Тайвань', 'city_id': '1665741'}, {'city': 'Нью-Тайбэй (Синьбэй)', 'caption': 'Нью-Тайбэй (Синьбэй), Тайвань', 'city_id': '1728696'}, {'city': 'Симэньдин', 'caption': 'Симэньдин, Тайбэй, Тайвань', 'city_id': '1708207'}, {'city': 'Бали', 'caption': 'Бали, Нью-Тайбэй (Синьбэй), Тайвань', 'city_id': '1726916'}, {'city': 'Датун', 'caption': 'Датун, Тайбэй, Тайвань', 'city_id': '1665738'}, {'city': 'Beitou', 'caption': 'Beitou, Тайбэй, Тайвань', 'city_id': '1665744'}]
2021-08-24T14:39:47.102516+0300, DEBUG, List city [{'city': 'Тайбэй', 'caption': 'Тайбэй, Тайвань', 'city_id': '1366745'}, {'city': 'Zhongshan', 'caption': 'Zhongshan, Тайбэй, Тайвань', 'city_id': '1665741'}, {'city': 'Нью-Тайбэй (Синьбэй)', 'caption': 'Нью-Тайбэй (Синьбэй), Тайвань', 'city_id': '1728696'}, {'city': 'Симэньдин', 'caption': 'Симэньдин, Тайбэй, Тайвань', 'city_id': '1708207'}, {'city': 'Бали', 'caption': 'Бали, Нью-Тайбэй (Синьбэй), Тайвань', 'city_id': '1726916'}, {'city': 'Датун', 'caption': 'Датун, Тайбэй, Тайвань', 'city_id': '1665738'}, {'city': 'Beitou', 'caption': 'Beitou, Тайбэй, Тайвань', 'city_id': '1665744'}]
2021-08-24T14:39:51.294944+0300, DEBUG, callback_query run
2021-08-24T14:39:51.294944+0300, DEBUG, callback_query run
2021-08-24T14:39:51.299769+0300, DEBUG, Выбран город Тайбэй id 1366745
2021-08-24T14:39:51.299769+0300, DEBUG, Выбран город Тайбэй id 1366745
2021-08-24T14:39:52.886744+0300, DEBUG, callback_query run
2021-08-24T14:39:52.886744+0300, DEBUG, callback_query run
2021-08-24T14:39:56.036204+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (15936), thread 'WorkerThread3' (20428):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000274CA7C75E0>
    └ <WorkerThread(WorkerThread3, started daemon 20428)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000274CD85EDC0>
    └ <WorkerThread(WorkerThread3, started daemon 20428)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000274CE4E30D0>,)
    └ <function Command.handle.<locals>.get_page_size at 0x00000274CE4A1E50>

TypeError: get_page_size() missing 1 required positional argument: 'sort'
2021-08-24T14:39:56.036204+0300, ERROR, An error has been caught in function 'run', process 'MainProcess' (15936), thread 'WorkerThread3' (20428):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000274CA7C75E0>
    └ <WorkerThread(WorkerThread3, started daemon 20428)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000274CD85EDC0>
    └ <WorkerThread(WorkerThread3, started daemon 20428)>

> File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000274CE4E30D0>,)
    └ <function Command.handle.<locals>.get_page_size at 0x00000274CE4A1E50>

TypeError: get_page_size() missing 1 required positional argument: 'sort'
2021-08-24T14:41:27.427623+0300, DEBUG, callback_query run
2021-08-24T14:41:27.427623+0300, DEBUG, callback_query run
2021-08-24T14:41:29.301727+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:41:29.301727+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:41:30.697689+0300, DEBUG, callback_query run
2021-08-24T14:41:30.697689+0300, DEBUG, callback_query run
2021-08-24T14:41:33.285772+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-24T14:41:33.285772+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-24T14:41:33.288763+0300, INFO, This is get list
2021-08-24T14:41:33.288763+0300, INFO, This is get list
2021-08-24T14:41:33.291389+0300, INFO, GET requests
2021-08-24T14:41:33.291389+0300, INFO, GET requests
2021-08-24T14:44:58.111759+0300, DEBUG, callback_query run
2021-08-24T14:44:58.111759+0300, DEBUG, callback_query run
2021-08-24T14:45:00.397545+0300, DEBUG, callback_query run
2021-08-24T14:45:00.397545+0300, DEBUG, callback_query run
2021-08-24T14:45:20.943196+0300, DEBUG, callback_query run
2021-08-24T14:45:20.943196+0300, DEBUG, callback_query run
2021-08-24T14:45:23.651506+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:45:23.651506+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:45:25.358856+0300, DEBUG, callback_query run
2021-08-24T14:45:25.358856+0300, DEBUG, callback_query run
2021-08-24T14:45:28.600018+0300, DEBUG, Количество отелей: 6 func: get_page_size
2021-08-24T14:45:28.600018+0300, DEBUG, Количество отелей: 6 func: get_page_size
2021-08-24T14:45:28.603003+0300, INFO, This is get list
2021-08-24T14:45:28.603003+0300, INFO, This is get list
2021-08-24T14:45:28.605004+0300, INFO, GET requests
2021-08-24T14:45:28.605004+0300, INFO, GET requests
2021-08-24T14:47:40.788980+0300, DEBUG, callback_query run
2021-08-24T14:47:40.788980+0300, DEBUG, callback_query run
2021-08-24T14:47:41.312900+0300, DEBUG, callback_query run
2021-08-24T14:47:41.312900+0300, DEBUG, callback_query run
2021-08-24T14:47:46.573813+0300, INFO, Selected city Казань
2021-08-24T14:47:46.573813+0300, INFO, Selected city Казань
2021-08-24T14:47:49.633733+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T14:47:49.633733+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T14:47:52.463218+0300, DEBUG, callback_query run
2021-08-24T14:47:52.463218+0300, DEBUG, callback_query run
2021-08-24T14:47:52.468197+0300, DEBUG, Выбран город Казань id 1215771
2021-08-24T14:47:52.468197+0300, DEBUG, Выбран город Казань id 1215771
2021-08-24T14:47:54.508007+0300, DEBUG, callback_query run
2021-08-24T14:47:54.508007+0300, DEBUG, callback_query run
2021-08-24T14:47:57.806828+0300, DEBUG, Количество отелей: 6 func: get_page_size
2021-08-24T14:47:57.806828+0300, DEBUG, Количество отелей: 6 func: get_page_size
2021-08-24T14:47:57.809816+0300, INFO, This is get list
2021-08-24T14:47:57.809816+0300, INFO, This is get list
2021-08-24T14:47:57.812056+0300, INFO, GET requests
2021-08-24T14:47:57.812056+0300, INFO, GET requests
2021-08-24T14:48:17.877240+0300, DEBUG, callback_query run
2021-08-24T14:48:17.877240+0300, DEBUG, callback_query run
2021-08-24T14:48:18.678132+0300, DEBUG, callback_query run
2021-08-24T14:48:18.678132+0300, DEBUG, callback_query run
2021-08-24T14:48:27.011542+0300, INFO, Selected city Казань
2021-08-24T14:48:27.011542+0300, INFO, Selected city Казань
2021-08-24T14:48:30.081975+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T14:48:30.081975+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T14:48:32.212065+0300, DEBUG, callback_query run
2021-08-24T14:48:32.212065+0300, DEBUG, callback_query run
2021-08-24T14:48:32.216756+0300, DEBUG, Выбран город Казань id 1794547
2021-08-24T14:48:32.216756+0300, DEBUG, Выбран город Казань id 1794547
2021-08-24T14:48:33.845416+0300, DEBUG, callback_query run
2021-08-24T14:48:33.845416+0300, DEBUG, callback_query run
2021-08-24T14:48:36.086529+0300, DEBUG, Количество отелей: 4 func: get_page_size
2021-08-24T14:48:36.086529+0300, DEBUG, Количество отелей: 4 func: get_page_size
2021-08-24T14:48:36.088527+0300, INFO, This is get list
2021-08-24T14:48:36.088527+0300, INFO, This is get list
2021-08-24T14:48:36.091515+0300, INFO, GET requests
2021-08-24T14:48:36.091515+0300, INFO, GET requests
2021-08-24T14:52:38.893763+0300, DEBUG, callback_query run
2021-08-24T14:52:38.893763+0300, DEBUG, callback_query run
2021-08-24T14:52:45.718687+0300, INFO, Your address 17Е к2, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:52:45.718687+0300, INFO, Your address 17Е к2, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T14:52:51.134672+0300, DEBUG, callback_query run
2021-08-24T14:52:51.134672+0300, DEBUG, callback_query run
2021-08-24T14:52:54.524941+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T14:52:54.524941+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T14:52:54.526938+0300, INFO, This is get list
2021-08-24T14:52:54.526938+0300, INFO, This is get list
2021-08-24T14:52:54.529935+0300, INFO, GET requests
2021-08-24T14:52:54.529935+0300, INFO, GET requests
2021-08-24T14:54:19.940519+0300, ERROR, An error has been caught in function 'callback_query', process 'MainProcess' (13048), thread 'WorkerThread3' (1940):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000246A83275E0>
    └ <WorkerThread(WorkerThread3, started daemon 1940)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000246AB3CEDC0>
    └ <WorkerThread(WorkerThread3, started daemon 1940)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x00000246AC026BB0>,)
    └ <function Command.handle.<locals>.callback_query at 0x00000246AC0120D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 64, in callback_query
    registration(call.data)
    │            │    └ 'search_geo'
    │            └ <telebot.types.CallbackQuery object at 0x00000246AC026BB0>
    └ <function registration at 0x00000246ABF78AF0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 26, in registration
    extr_id=message.chat.id,
            └ 'search_geo'

AttributeError: 'str' object has no attribute 'chat'
2021-08-24T14:54:19.940519+0300, ERROR, An error has been caught in function 'callback_query', process 'MainProcess' (13048), thread 'WorkerThread3' (1940):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000246A83275E0>
    └ <WorkerThread(WorkerThread3, started daemon 1940)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000246AB3CEDC0>
    └ <WorkerThread(WorkerThread3, started daemon 1940)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x00000246AC026BB0>,)
    └ <function Command.handle.<locals>.callback_query at 0x00000246AC0120D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 64, in callback_query
    registration(call.data)
    │            │    └ 'search_geo'
    │            └ <telebot.types.CallbackQuery object at 0x00000246AC026BB0>
    └ <function registration at 0x00000246ABF78AF0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 26, in registration
    extr_id=message.chat.id,
            └ 'search_geo'

AttributeError: 'str' object has no attribute 'chat'
2021-08-24T14:54:19.967320+0300, DEBUG, callback_query run
2021-08-24T14:54:19.967320+0300, DEBUG, callback_query run
2021-08-24T14:55:05.905961+0300, DEBUG, callback_query run
2021-08-24T14:55:05.905961+0300, DEBUG, callback_query run
2021-08-24T14:55:11.083883+0300, INFO, Selected city Рим
2021-08-24T14:55:11.083883+0300, INFO, Selected city Рим
2021-08-24T14:55:14.403606+0300, DEBUG, List city [{'city': 'Рим', 'caption': 'Рим, Лацио, Италия', 'city_id': '712491'}, {'city': 'Римини', 'caption': 'Римини, Римини, Эмилия-Романья, Италия', 'city_id': '1641012'}, {'city': 'Римини-Ривьера', 'caption': 'Римини-Ривьера, Италия', 'city_id': '1907488'}, {'city': 'Центр Рима', 'caption': 'Центр Рима, Рим, Лацио, Италия', 'city_id': '10818945'}, {'city': 'Исторический центр Римини', 'caption': 'Исторический центр Римини, Римини, Эмилия-Романья, Италия', 'city_id': '10565239'}, {'city': 'Римское побережье', 'caption': 'Римское побережье, Италия', 'city_id': '1641498'}]
2021-08-24T14:55:14.403606+0300, DEBUG, List city [{'city': 'Рим', 'caption': 'Рим, Лацио, Италия', 'city_id': '712491'}, {'city': 'Римини', 'caption': 'Римини, Римини, Эмилия-Романья, Италия', 'city_id': '1641012'}, {'city': 'Римини-Ривьера', 'caption': 'Римини-Ривьера, Италия', 'city_id': '1907488'}, {'city': 'Центр Рима', 'caption': 'Центр Рима, Рим, Лацио, Италия', 'city_id': '10818945'}, {'city': 'Исторический центр Римини', 'caption': 'Исторический центр Римини, Римини, Эмилия-Романья, Италия', 'city_id': '10565239'}, {'city': 'Римское побережье', 'caption': 'Римское побережье, Италия', 'city_id': '1641498'}]
2021-08-24T14:55:19.586268+0300, DEBUG, callback_query run
2021-08-24T14:55:19.586268+0300, DEBUG, callback_query run
2021-08-24T14:55:19.589256+0300, DEBUG, Выбран город Рим id 10818945
2021-08-24T14:55:19.589256+0300, DEBUG, Выбран город Рим id 10818945
2021-08-24T14:55:21.330502+0300, DEBUG, callback_query run
2021-08-24T14:55:21.330502+0300, DEBUG, callback_query run
2021-08-24T14:55:23.450700+0300, DEBUG, Количество отелей: 4 func: get_page_size
2021-08-24T14:55:23.450700+0300, DEBUG, Количество отелей: 4 func: get_page_size
2021-08-24T14:55:23.452696+0300, INFO, This is get list
2021-08-24T14:55:23.452696+0300, INFO, This is get list
2021-08-24T14:55:23.455698+0300, INFO, GET requests
2021-08-24T14:55:23.455698+0300, INFO, GET requests
2021-08-24T14:58:49.350126+0300, DEBUG, callback_query run
2021-08-24T14:58:49.350126+0300, DEBUG, callback_query run
2021-08-24T14:58:54.999402+0300, INFO, Selected city Москва
2021-08-24T14:58:54.999402+0300, INFO, Selected city Москва
2021-08-24T14:59:14.632485+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T14:59:14.632485+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:11:58.974478+0300, DEBUG, callback_query run
2021-08-24T15:11:58.974478+0300, DEBUG, callback_query run
2021-08-24T15:12:07.992679+0300, INFO, Selected city Москва
2021-08-24T15:12:07.992679+0300, INFO, Selected city Москва
2021-08-24T15:12:11.057625+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:12:11.057625+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:12:50.467334+0300, DEBUG, callback_query run
2021-08-24T15:12:50.467334+0300, DEBUG, callback_query run
2021-08-24T15:12:59.304098+0300, INFO, Selected city Москва
2021-08-24T15:12:59.304098+0300, INFO, Selected city Москва
2021-08-24T15:13:02.436641+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:13:02.436641+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:16:35.258265+0300, DEBUG, callback_query run
2021-08-24T15:16:35.258265+0300, DEBUG, callback_query run
2021-08-24T15:16:42.805890+0300, INFO, Selected city Москва
2021-08-24T15:16:42.805890+0300, INFO, Selected city Москва
2021-08-24T15:16:45.551137+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:16:45.551137+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:17:03.587264+0300, INFO, Selected city Москва
2021-08-24T15:17:03.587264+0300, INFO, Selected city Москва
2021-08-24T15:17:06.916929+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:17:06.916929+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:17:31.385284+0300, INFO, Selected city Moscow
2021-08-24T15:17:31.385284+0300, INFO, Selected city Moscow
2021-08-24T15:17:34.449197+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Москва', 'caption': 'Москва, Айдахо, США', 'city_id': '1449014'}, {'city': 'Домодедово, Московская область', 'caption': 'Домодедово, Московская область, Подмосковье (Московская область), Россия', 'city_id': '1118662'}]
2021-08-24T15:17:34.449197+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Москва', 'caption': 'Москва, Айдахо, США', 'city_id': '1449014'}, {'city': 'Домодедово, Московская область', 'caption': 'Домодедово, Московская область, Подмосковье (Московская область), Россия', 'city_id': '1118662'}]
2021-08-24T15:17:49.490978+0300, DEBUG, callback_query run
2021-08-24T15:17:49.490978+0300, DEBUG, callback_query run
2021-08-24T15:17:49.494870+0300, DEBUG, Выбран город Moscow id 1449014
2021-08-24T15:17:49.494870+0300, DEBUG, Выбран город Moscow id 1449014
2021-08-24T15:17:54.056068+0300, INFO, Selected city 臺北市
2021-08-24T15:17:54.056068+0300, INFO, Selected city 臺北市
2021-08-24T15:17:59.585340+0300, DEBUG, List city []
2021-08-24T15:17:59.585340+0300, DEBUG, List city []
2021-08-24T15:18:11.969664+0300, DEBUG, callback_query run
2021-08-24T15:18:11.969664+0300, DEBUG, callback_query run
2021-08-24T15:18:19.135723+0300, INFO, Selected city Moscow
2021-08-24T15:18:19.135723+0300, INFO, Selected city Moscow
2021-08-24T15:18:23.217456+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Москва', 'caption': 'Москва, Айдахо, США', 'city_id': '1449014'}, {'city': 'Домодедово, Московская область', 'caption': 'Домодедово, Московская область, Подмосковье (Московская область), Россия', 'city_id': '1118662'}]
2021-08-24T15:18:23.217456+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Москва', 'caption': 'Москва, Айдахо, США', 'city_id': '1449014'}, {'city': 'Домодедово, Московская область', 'caption': 'Домодедово, Московская область, Подмосковье (Московская область), Россия', 'city_id': '1118662'}]
2021-08-24T15:18:26.842929+0300, DEBUG, callback_query run
2021-08-24T15:18:26.842929+0300, DEBUG, callback_query run
2021-08-24T15:18:26.846921+0300, DEBUG, Выбран город Moscow id 1449014
2021-08-24T15:18:26.846921+0300, DEBUG, Выбран город Moscow id 1449014
2021-08-24T15:18:28.681112+0300, DEBUG, callback_query run
2021-08-24T15:18:28.681112+0300, DEBUG, callback_query run
2021-08-24T15:18:30.760053+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-24T15:18:30.760053+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-24T15:18:30.763207+0300, INFO, This is get list
2021-08-24T15:18:30.763207+0300, INFO, This is get list
2021-08-24T15:18:30.765217+0300, INFO, GET requests
2021-08-24T15:18:30.765217+0300, INFO, GET requests
2021-08-24T15:30:26.663528+0300, DEBUG, callback_query run
2021-08-24T15:30:26.663528+0300, DEBUG, callback_query run
2021-08-24T15:30:32.837528+0300, INFO, Selected city Москва
2021-08-24T15:30:32.837528+0300, INFO, Selected city Москва
2021-08-24T15:30:37.030132+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:30:37.030132+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:30:41.608530+0300, DEBUG, callback_query run
2021-08-24T15:30:41.608530+0300, DEBUG, callback_query run
2021-08-24T15:30:41.614502+0300, DEBUG, Выбран город Москва id 1153093
2021-08-24T15:30:41.614502+0300, DEBUG, Выбран город Москва id 1153093
2021-08-24T15:30:43.341643+0300, DEBUG, callback_query run
2021-08-24T15:30:43.341643+0300, DEBUG, callback_query run
2021-08-24T15:30:43.641165+0300, ERROR, An error has been caught in function 'callback_query', process 'MainProcess' (14844), thread 'WorkerThread3' (16200):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001CC63B975E0>
    └ <WorkerThread(WorkerThread3, started daemon 16200)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000001CC66C2BE50>
    └ <WorkerThread(WorkerThread3, started daemon 16200)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x000001CC67905550>,)
    └ <function Command.handle.<locals>.callback_query at 0x000001CC67873160>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 92, in callback_query
    get_city_id(call)
    │           └ <telebot.types.CallbackQuery object at 0x000001CC67905550>
    └ <function get_city_id at 0x000001CC677DC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 18, in get_city_id
    querystring = {"query":f"{Profile.objects.get(extr_id=message.chat.id).city}", "locale":"ru_RU"}

AttributeError: 'CallbackQuery' object has no attribute 'chat'
2021-08-24T15:30:43.641165+0300, ERROR, An error has been caught in function 'callback_query', process 'MainProcess' (14844), thread 'WorkerThread3' (16200):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001CC63B975E0>
    └ <WorkerThread(WorkerThread3, started daemon 16200)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000001CC66C2BE50>
    └ <WorkerThread(WorkerThread3, started daemon 16200)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x000001CC67905550>,)
    └ <function Command.handle.<locals>.callback_query at 0x000001CC67873160>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 92, in callback_query
    get_city_id(call)
    │           └ <telebot.types.CallbackQuery object at 0x000001CC67905550>
    └ <function get_city_id at 0x000001CC677DC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 18, in get_city_id
    querystring = {"query":f"{Profile.objects.get(extr_id=message.chat.id).city}", "locale":"ru_RU"}

AttributeError: 'CallbackQuery' object has no attribute 'chat'
2021-08-24T15:32:06.753760+0300, DEBUG, callback_query run
2021-08-24T15:32:06.753760+0300, DEBUG, callback_query run
2021-08-24T15:32:10.591116+0300, INFO, Selected city Москва
2021-08-24T15:32:10.591116+0300, INFO, Selected city Москва
2021-08-24T15:32:27.305913+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:32:27.305913+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:32:29.315281+0300, DEBUG, callback_query run
2021-08-24T15:32:29.315281+0300, DEBUG, callback_query run
2021-08-24T15:32:29.318210+0300, DEBUG, Выбран город Москва id 1153093
2021-08-24T15:32:29.318210+0300, DEBUG, Выбран город Москва id 1153093
2021-08-24T15:32:31.271617+0300, DEBUG, callback_query run
2021-08-24T15:32:31.271617+0300, DEBUG, callback_query run
2021-08-24T15:32:31.392377+0300, INFO, Selected city Москва
2021-08-24T15:32:31.392377+0300, INFO, Selected city Москва
2021-08-24T15:32:34.224721+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:32:34.224721+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T15:32:56.952374+0300, INFO, run get_result
2021-08-24T15:32:56.952374+0300, INFO, run get_result
2021-08-24T15:32:56.955357+0300, INFO, run get_list_hotel
2021-08-24T15:32:56.955357+0300, INFO, run get_list_hotel
2021-08-24T15:32:56.973602+0300, INFO, This is get list
2021-08-24T15:32:56.973602+0300, INFO, This is get list
2021-08-24T15:32:56.976530+0300, INFO, GET requests
2021-08-24T15:32:56.976530+0300, INFO, GET requests
2021-08-24T15:33:01.900155+0300, INFO, Run send_result
2021-08-24T15:33:01.900155+0300, INFO, Run send_result
2021-08-24T15:35:21.780796+0300, DEBUG, callback_query run
2021-08-24T15:35:21.780796+0300, DEBUG, callback_query run
2021-08-24T15:36:31.992190+0300, DEBUG, callback_query run
2021-08-24T15:36:31.992190+0300, DEBUG, callback_query run
2021-08-24T15:38:02.655460+0300, DEBUG, callback_query run
2021-08-24T15:38:02.655460+0300, DEBUG, callback_query run
2021-08-24T15:38:04.823232+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T15:38:04.823232+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T15:38:06.131764+0300, DEBUG, callback_query run
2021-08-24T15:38:06.131764+0300, DEBUG, callback_query run
2021-08-24T15:38:09.296304+0300, DEBUG, Количество отелей: 2 func: get_page_size
2021-08-24T15:38:09.296304+0300, DEBUG, Количество отелей: 2 func: get_page_size
2021-08-24T15:38:09.298302+0300, INFO, This is get list
2021-08-24T15:38:09.298302+0300, INFO, This is get list
2021-08-24T15:38:09.300292+0300, INFO, GET requests
2021-08-24T15:38:09.300292+0300, INFO, GET requests
2021-08-24T15:38:17.087464+0300, DEBUG, callback_query run
2021-08-24T15:38:17.087464+0300, DEBUG, callback_query run
2021-08-24T15:51:59.238555+0300, DEBUG, callback_query run
2021-08-24T15:51:59.238555+0300, DEBUG, callback_query run
2021-08-24T15:52:10.838596+0300, INFO, Selected city ภูเก็ต
2021-08-24T15:52:10.838596+0300, INFO, Selected city ภูเก็ต
2021-08-24T15:52:15.425574+0300, DEBUG, List city [{'city': 'Пхукет (и округа)', 'caption': 'Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1708722'}, {'city': 'Карон', 'caption': 'Карон, Пхукет (провинция), Таиланд', 'city_id': '1806864'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Ката', 'caption': 'Ката, Карон, Пхукет (провинция), Таиланд', 'city_id': '1740931'}, {'city': 'Камала', 'caption': 'Камала, Пхукет (провинция), Таиланд', 'city_id': '1806850'}, {'city': 'Най-Харн', 'caption': 'Най-Харн, Равай, Пхукет (провинция), Таиланд', 'city_id': '1771989'}, {'city': 'Най Харн', 'caption': 'Най Харн, Май-Кхао, Пхукет (провинция), Таиланд', 'city_id': '10398720'}, {'city': 'Май-Кхао', 'caption': 'Май-Кхао, Пхукет (провинция), Таиланд', 'city_id': '1806860'}, {'city': 'Равай', 'caption': 'Равай, Пхукет (провинция), Таиланд', 'city_id': '1806865'}]
2021-08-24T15:52:15.425574+0300, DEBUG, List city [{'city': 'Пхукет (и округа)', 'caption': 'Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1708722'}, {'city': 'Карон', 'caption': 'Карон, Пхукет (провинция), Таиланд', 'city_id': '1806864'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Ката', 'caption': 'Ката, Карон, Пхукет (провинция), Таиланд', 'city_id': '1740931'}, {'city': 'Камала', 'caption': 'Камала, Пхукет (провинция), Таиланд', 'city_id': '1806850'}, {'city': 'Най-Харн', 'caption': 'Най-Харн, Равай, Пхукет (провинция), Таиланд', 'city_id': '1771989'}, {'city': 'Най Харн', 'caption': 'Най Харн, Май-Кхао, Пхукет (провинция), Таиланд', 'city_id': '10398720'}, {'city': 'Май-Кхао', 'caption': 'Май-Кхао, Пхукет (провинция), Таиланд', 'city_id': '1806860'}, {'city': 'Равай', 'caption': 'Равай, Пхукет (провинция), Таиланд', 'city_id': '1806865'}]
2021-08-24T15:52:21.651038+0300, DEBUG, callback_query run
2021-08-24T15:52:21.651038+0300, DEBUG, callback_query run
2021-08-24T15:52:21.654890+0300, DEBUG, Выбран город ภูเก็ต id 1806849
2021-08-24T15:52:21.654890+0300, DEBUG, Выбран город ภูเก็ต id 1806849
2021-08-24T15:52:23.816131+0300, DEBUG, callback_query run
2021-08-24T15:52:23.816131+0300, DEBUG, callback_query run
2021-08-24T15:52:26.353497+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-24T15:52:26.353497+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-24T15:52:26.356484+0300, INFO, This is get list
2021-08-24T15:52:26.356484+0300, INFO, This is get list
2021-08-24T15:52:26.359481+0300, INFO, GET requests
2021-08-24T15:52:26.359481+0300, INFO, GET requests
2021-08-24T15:52:39.475972+0300, DEBUG, callback_query run
2021-08-24T15:52:39.475972+0300, DEBUG, callback_query run
2021-08-24T15:58:17.118895+0300, DEBUG, callback_query run
2021-08-24T15:58:20.038378+0300, INFO, Your address 17Е к2, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T15:58:22.352287+0300, DEBUG, callback_query run
2021-08-24T15:58:25.059355+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T15:58:25.062338+0300, INFO, This is get list
2021-08-24T15:58:25.064335+0300, INFO, GET requests
2021-08-24T15:59:47.145237+0300, DEBUG, callback_query run
2021-08-24T15:59:49.148409+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T15:59:50.576507+0300, DEBUG, callback_query run
2021-08-24T15:59:53.584541+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T15:59:53.587290+0300, INFO, This is get list
2021-08-24T15:59:53.589291+0300, INFO, GET requests
2021-08-24T16:01:06.633717+0300, DEBUG, callback_query run
2021-08-24T16:01:12.317093+0300, INFO, Selected city Москва
2021-08-24T16:01:16.794732+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T16:01:19.936272+0300, DEBUG, callback_query run
2021-08-24T16:01:19.940308+0300, DEBUG, Выбран город Москва id 1153093
2021-08-24T16:01:21.574099+0300, DEBUG, callback_query run
2021-08-24T16:01:23.785309+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T16:01:23.788300+0300, INFO, This is get list
2021-08-24T16:01:23.790293+0300, INFO, GET requests
2021-08-24T16:02:59.888784+0300, DEBUG, callback_query run
2021-08-24T16:03:02.284929+0300, INFO, Your address 17Е к2, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T16:03:03.483943+0300, DEBUG, callback_query run
2021-08-24T16:03:05.757812+0300, DEBUG, Количество отелей: 2 func: get_page_size
2021-08-24T16:03:05.760792+0300, INFO, This is get list
2021-08-24T16:03:05.762789+0300, INFO, GET requests
2021-08-24T16:04:10.672070+0300, DEBUG, callback_query run
2021-08-24T16:04:12.739692+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T16:04:14.067301+0300, DEBUG, callback_query run
2021-08-24T16:04:17.563653+0300, DEBUG, Количество отелей: 2 func: get_page_size
2021-08-24T16:04:17.565659+0300, INFO, This is get list
2021-08-24T16:04:17.568633+0300, INFO, GET requests
2021-08-24T16:09:47.168776+0300, DEBUG, callback_query run
2021-08-24T16:09:49.204180+0300, INFO, Your address 17Е к2, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T16:09:49.214168+0300, INFO, Selected city Казань
2021-08-24T16:09:52.259723+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T16:09:55.414132+0300, DEBUG, callback_query run
2021-08-24T16:09:55.417960+0300, DEBUG, Выбран город Казань id 1215771
2021-08-24T16:10:00.211234+0300, DEBUG, callback_query run
2021-08-24T16:10:03.963280+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T16:10:03.966279+0300, INFO, This is get list
2021-08-24T16:10:03.969273+0300, INFO, GET requests
2021-08-24T16:11:20.325114+0300, DEBUG, callback_query run
2021-08-24T16:11:22.525227+0300, INFO, Your address 17Е к2, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T16:11:22.536226+0300, INFO, Selected city Казань
2021-08-24T16:11:25.595354+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T16:11:28.234573+0300, DEBUG, callback_query run
2021-08-24T16:11:28.238590+0300, DEBUG, Выбран город Казань id 1215771
2021-08-24T16:11:30.600359+0300, DEBUG, callback_query run
2021-08-24T16:11:33.533251+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-24T16:11:33.536251+0300, INFO, This is get list
2021-08-24T16:11:33.538356+0300, INFO, GET requests
2021-08-24T16:17:29.944890+0300, DEBUG, callback_query run
2021-08-24T16:17:39.065979+0300, DEBUG, callback_query run
2021-08-24T16:17:45.344283+0300, INFO, Selected city Roma
2021-08-24T16:17:49.101457+0300, DEBUG, List city [{'city': 'Рим', 'caption': 'Рим, Лацио, Италия', 'city_id': '712491'}, {'city': 'Центр Рима', 'caption': 'Центр Рима, Рим, Лацио, Италия', 'city_id': '10818945'}, {'city': 'Исторический центр Рима', 'caption': 'Исторический центр Рима, Рим, Лацио, Италия', 'city_id': '1735377'}, {'city': 'Трастевере', 'caption': 'Трастевере, Рим, Лацио, Италия', 'city_id': '1663686'}, {'city': 'Целль-ам-Зе', 'caption': 'Целль-ам-Зе, Целль-ам-Зе, Зальцбург (земля), Австрия', 'city_id': '1636657'}]
2021-08-24T16:17:49.731800+0300, DEBUG, callback_query run
2021-08-24T16:18:01.489287+0300, INFO, Selected city Roma
2021-08-24T16:18:04.114289+0300, DEBUG, List city [{'city': 'Рим', 'caption': 'Рим, Лацио, Италия', 'city_id': '712491'}, {'city': 'Центр Рима', 'caption': 'Центр Рима, Рим, Лацио, Италия', 'city_id': '10818945'}, {'city': 'Исторический центр Рима', 'caption': 'Исторический центр Рима, Рим, Лацио, Италия', 'city_id': '1735377'}, {'city': 'Трастевере', 'caption': 'Трастевере, Рим, Лацио, Италия', 'city_id': '1663686'}, {'city': 'Целль-ам-Зе', 'caption': 'Целль-ам-Зе, Целль-ам-Зе, Зальцбург (земля), Австрия', 'city_id': '1636657'}]
2021-08-24T16:18:06.530752+0300, DEBUG, callback_query run
2021-08-24T16:18:06.533753+0300, DEBUG, Выбран город Roma id 712491
2021-08-24T16:18:12.065626+0300, DEBUG, callback_query run
2021-08-24T16:18:14.722332+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T16:18:14.724813+0300, INFO, This is get list
2021-08-24T16:18:14.727834+0300, INFO, GET requests
2021-08-24T16:21:30.963116+0300, DEBUG, callback_query run
2021-08-24T16:21:33.671871+0300, INFO, Your address 17Е к3, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T16:21:33.785873+0300, INFO, Selected city Казань
2021-08-24T16:21:38.199418+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T16:21:40.569419+0300, DEBUG, callback_query run
2021-08-24T16:21:40.572930+0300, DEBUG, Выбран город Казань id 1215771
2021-08-24T16:21:42.064889+0300, DEBUG, callback_query run
2021-08-24T16:21:44.376678+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T16:21:44.877929+0300, INFO, This is get list
2021-08-24T16:21:44.880931+0300, INFO, GET requests
2021-08-24T16:21:51.969026+0300, DEBUG, callback_query run
2021-08-24T16:21:58.158392+0300, INFO, Selected city Berlin
2021-08-24T16:22:03.999509+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Berlin', 'caption': 'Berlin, Seedorf, Schleswig-Holstein, Germany', 'city_id': '12492985'}, {'city': 'Берлинер-Шоссе', 'caption': 'Берлинер-Шоссе, Магдебург, Саксония-Анхальт (земля), Германия', 'city_id': '11112368'}]
2021-08-24T16:22:15.604072+0300, DEBUG, callback_query run
2021-08-24T16:22:15.607070+0300, DEBUG, Выбран город Berlin id 332483
2021-08-24T16:22:17.263521+0300, DEBUG, callback_query run
2021-08-24T16:22:21.044178+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-24T16:22:21.185869+0300, INFO, This is get list
2021-08-24T16:22:21.189868+0300, INFO, GET requests
2021-08-24T16:22:42.254615+0300, DEBUG, callback_query run
2021-08-24T16:22:50.228787+0300, INFO, Selected city Paris
2021-08-24T16:22:53.445579+0300, DEBUG, List city [{'city': 'Париж', 'caption': 'Париж, Франция (Parisi)', 'city_id': '504261'}, {'city': 'Центр Парижа', 'caption': 'Центр Парижа, Париж, Франция', 'city_id': '1730997'}, {'city': '9-й округ', 'caption': '9-й округ, Париж, Франция', 'city_id': '1731375'}, {'city': '8-й округ', 'caption': '8-й округ, Париж, Франция', 'city_id': '1731373'}, {'city': 'Берси', 'caption': 'Берси, Париж, Франция', 'city_id': '1691967'}]
2021-08-24T16:22:57.677068+0300, DEBUG, callback_query run
2021-08-24T16:22:57.680367+0300, DEBUG, Выбран город Paris id 504261
2021-08-24T16:22:59.678080+0300, DEBUG, callback_query run
2021-08-24T16:23:29.838214+0300, INFO, run get_result
2021-08-24T16:23:29.841208+0300, INFO, run get_list_hotel
2021-08-24T16:23:29.845484+0300, INFO, This is get list
2021-08-24T16:23:29.848484+0300, INFO, GET requests
2021-08-24T16:23:37.871061+0300, DEBUG, the distance is not observed 19 min: 1, max 9
2021-08-24T16:23:37.874060+0300, DEBUG, the distance is not observed 13 min: 1, max 9
2021-08-24T16:23:37.875062+0300, DEBUG, the distance is not observed 29 min: 1, max 9
2021-08-24T16:23:37.877063+0300, DEBUG, the distance is not observed 19 min: 1, max 9
2021-08-24T16:23:37.879061+0300, DEBUG, the distance is not observed 9.8 min: 1, max 9
2021-08-24T16:23:37.880061+0300, DEBUG, the distance is not observed 17 min: 1, max 9
2021-08-24T16:23:37.882060+0300, DEBUG, the distance is not observed 10 min: 1, max 9
2021-08-24T16:23:37.883061+0300, DEBUG, the distance is not observed 19 min: 1, max 9
2021-08-24T16:23:37.885152+0300, DEBUG, the distance is not observed 21 min: 1, max 9
2021-08-24T16:23:37.886165+0300, DEBUG, the distance is not observed 22 min: 1, max 9
2021-08-24T16:23:37.888166+0300, DEBUG, the distance is not observed 10 min: 1, max 9
2021-08-24T16:23:37.890166+0300, INFO, Run send_result
2021-08-24T16:58:39.865834+0300, DEBUG, callback_query run
2021-08-24T16:58:42.161164+0300, INFO, Your address 17Е к2, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T16:58:42.311323+0300, INFO, Selected city Казань
2021-08-24T16:59:00.028213+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T16:59:07.687181+0300, DEBUG, callback_query run
2021-08-24T16:59:07.690878+0300, DEBUG, Выбран город Казань id 1794547
2021-08-24T16:59:09.408113+0300, DEBUG, callback_query run
2021-08-24T16:59:12.964106+0300, DEBUG, Количество отелей: 2 func: get_page_size
2021-08-24T16:59:13.094240+0300, INFO, This is get list
2021-08-24T16:59:13.097238+0300, INFO, GET requests
2021-08-24T16:59:48.410620+0300, DEBUG, callback_query run
2021-08-24T16:59:57.183132+0300, INFO, Selected city Denpasar
2021-08-24T17:00:02.506467+0300, DEBUG, List city [{'city': 'Денпасар', 'caption': 'Денпасар, Denpasar, Бали, Индонезия', 'city_id': '661282'}, {'city': 'Санур', 'caption': 'Санур, Денпасар, Бали, Индонезия', 'city_id': '1667038'}, {'city': 'Sanur Kauh', 'caption': 'Sanur Kauh, Denpasar, Bali, Indonesia', 'city_id': '12511985'}]
2021-08-24T17:00:05.167735+0300, DEBUG, callback_query run
2021-08-24T17:00:05.170722+0300, DEBUG, Выбран город Denpasar id 661282
2021-08-24T17:00:07.157009+0300, DEBUG, callback_query run
2021-08-24T17:00:09.410145+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T17:00:09.533129+0300, INFO, This is get list
2021-08-24T17:00:09.536140+0300, INFO, GET requests
2021-08-24T17:18:07.710692+0300, DEBUG, callback_query run
2021-08-24T17:18:09.992167+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T17:18:10.141395+0300, INFO, Selected city Казань
2021-08-24T17:18:13.748167+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T17:18:18.883229+0300, DEBUG, callback_query run
2021-08-24T17:18:18.886208+0300, DEBUG, Выбран город Казань id 1215771
2021-08-24T17:18:23.047577+0300, DEBUG, callback_query run
2021-08-24T17:18:26.024547+0300, DEBUG, Количество отелей: 8 func: get_page_size
2021-08-24T17:18:26.130205+0300, INFO, This is get list
2021-08-24T17:18:26.133210+0300, INFO, GET requests
2021-08-24T17:34:21.588282+0300, DEBUG, callback_query run
2021-08-24T17:34:28.667835+0300, INFO, Selected city Москва
2021-08-24T17:34:38.767719+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Измайлово', 'caption': 'Измайлово, Москва, Россия', 'city_id': '10779356'}, {'city': 'Арбат', 'caption': 'Арбат, Москва, Россия', 'city_id': '1665959'}, {'city': 'Сокольники', 'caption': 'Сокольники, Москва, Россия', 'city_id': '1786031'}]
2021-08-24T17:34:46.671235+0300, DEBUG, callback_query run
2021-08-24T17:34:46.674214+0300, DEBUG, Выбран город Москва id 1153093
2021-08-24T17:34:48.084175+0300, DEBUG, callback_query run
2021-08-24T17:34:50.213789+0300, DEBUG, Количество отелей: 2 func: get_page_size
2021-08-24T17:34:50.348476+0300, INFO, This is get list
2021-08-24T17:34:50.351486+0300, INFO, GET requests
2021-08-24T17:37:02.481704+0300, DEBUG, callback_query run
2021-08-24T17:37:09.239675+0300, INFO, Selected city Berlin
2021-08-24T17:37:12.306705+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Berlin', 'caption': 'Berlin, Seedorf, Schleswig-Holstein, Germany', 'city_id': '12492985'}, {'city': 'Берлинер-Шоссе', 'caption': 'Берлинер-Шоссе, Магдебург, Саксония-Анхальт (земля), Германия', 'city_id': '11112368'}]
2021-08-24T17:37:18.507932+0300, DEBUG, callback_query run
2021-08-24T17:37:18.510884+0300, DEBUG, Выбран город Berlin id 332483
2021-08-24T17:37:20.580780+0300, DEBUG, callback_query run
2021-08-24T17:37:22.575217+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T17:37:22.720821+0300, INFO, This is get list
2021-08-24T17:37:22.724812+0300, INFO, GET requests
2021-08-24T17:49:00.251267+0300, ERROR, An error has been caught in function 'start_bot', process 'MainProcess' (16248), thread 'WorkerThread2' (15924):
Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\query.py", line 581, in get_or_create
    return self.get(**kwargs), False
           │    │     └ {'extr_id': 243661831}
           │    └ <function QuerySet.get at 0x0000026A9C655700>
           └ <QuerySet [<Profile: 158572669 IlnurZakirov>, <Profile: 171103742 yabulat>]>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\query.py", line 435, in get
    raise self.model.DoesNotExist(
          │    │     └ <class 'hotelapp.models.Profile.DoesNotExist'>
          │    └ <class 'hotelapp.models.Profile'>
          └ <QuerySet [<Profile: 158572669 IlnurZakirov>, <Profile: 171103742 yabulat>]>

hotelapp.models.Profile.DoesNotExist: Profile matching query does not exist.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           │    │      │       │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │    │      │       └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │    │      └ <function SQLiteCursorWrapper.execute at 0x0000026A9CC9CF70>
           │    └ <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x0000026A9DA2E3A0>
           └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DA26F40>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\sqlite3\base.py", line 423, in execute
    return Database.Cursor.execute(self, query, params)
           │        │      │       │     │      └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │        │      │       │     └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │        │      │       └ <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x0000026A9DA2E3A0>
           │        │      └ <method 'execute' of 'sqlite3.Cursor' objects>
           │        └ <class 'sqlite3.Cursor'>
           └ <module 'sqlite3.dbapi2' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\sqlite3\\dbapi2.py'>

sqlite3.IntegrityError: NOT NULL constraint failed: hotelapp_profile.city


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000026A99CF75E0>
    └ <WorkerThread(WorkerThread2, started daemon 15924)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000026A9CD7BEE0>
    └ <WorkerThread(WorkerThread2, started daemon 15924)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000026A9D9BF9D0>,)
    └ <function Command.handle.<locals>.start_bot at 0x0000026A9D9B20D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 61, in start_bot
    registration(message)
    │            └ <telebot.types.Message object at 0x0000026A9D9BF9D0>
    └ <function registration at 0x0000026A9D921040>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 26, in registration
    p, flag = Profile.objects.get_or_create(
              │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000026A9CCB9DC0>
              └ <class 'hotelapp.models.Profile'>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   │    │               │      │       └ {'extr_id': 243661831, 'defaults': {'city': None, 'name': 'dinislamlatypov', 'city_id': 0}}
                   │    │               │      └ ()
                   │    │               └ 'get_or_create'
                   │    └ <function BaseManager.get_queryset at 0x0000026A9C65A550>
                   └ <django.db.models.manager.Manager object at 0x0000026A9D9390A0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\query.py", line 588, in get_or_create
    return self.create(**params), True
           │    │        └ {'extr_id': 243661831, 'city': None, 'name': 'dinislamlatypov', 'city_id': 0}
           │    └ <function QuerySet.create at 0x0000026A9C655790>
           └ <QuerySet [<Profile: 158572669 IlnurZakirov>, <Profile: 171103742 yabulat>]>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
    │   │                             │    └ <property object at 0x0000026A9C653360>
    │   │                             └ <QuerySet [<Profile: 158572669 IlnurZakirov>, <Profile: 171103742 yabulat>]>
    │   └ <function Model.save at 0x0000026A9C6C65E0>
    └ <Profile: 243661831 dinislamlatypov>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\base.py", line 726, in save
    self.save_base(using=using, force_insert=force_insert,
    │    │               │                   └ True
    │    │               └ 'default'
    │    └ <function Model.save_base at 0x0000026A9C6C6670>
    └ <Profile: 243661831 dinislamlatypov>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\base.py", line 763, in save_base
    updated = self._save_table(
              │    └ <function Model._save_table at 0x0000026A9C6C6790>
              └ <Profile: 243661831 dinislamlatypov>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\base.py", line 868, in _save_table
    results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
              │    │          │   │              │      │       │                 └ False
              │    │          │   │              │      │       └ [<django.db.models.fields.BigAutoField: id>]
              │    │          │   │              │      └ [<django.db.models.fields.PositiveIntegerField: extr_id>, <django.db.models.fields.TextField: name>, <django.db.models.fields...
              │    │          │   │              └ 'default'
              │    │          │   └ <property object at 0x0000026A9C66FE00>
              │    │          └ <class 'hotelapp.models.Profile'>
              │    └ <function Model._do_insert at 0x0000026A9C6C68B0>
              └ <Profile: 243661831 dinislamlatypov>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\base.py", line 906, in _do_insert
    return manager._insert(
           │       └ <function BaseManager._get_queryset_methods.<locals>.create_method.<locals>.manager_method at 0x0000026A9C65A820>
           └ <django.db.models.manager.Manager object at 0x0000026A9DA26CD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   │    │               │      │       └ {'fields': [<django.db.models.fields.PositiveIntegerField: extr_id>, <django.db.models.fields.TextField: name>, <django.db.mo...
                   │    │               │      └ ([<Profile: 243661831 dinislamlatypov>],)
                   │    │               └ '_insert'
                   │    └ <function BaseManager.get_queryset at 0x0000026A9C65A550>
                   └ <django.db.models.manager.Manager object at 0x0000026A9DA26CD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\query.py", line 1270, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           │     │                  │                  └ [<django.db.models.fields.BigAutoField: id>]
           │     │                  └ 'default'
           │     └ <function Query.get_compiler at 0x0000026A9C5E4C10>
           └ <django.db.models.sql.subqueries.InsertQuery object at 0x0000026A9DA26E50>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\sql\compiler.py", line 1416, in execute_sql
    cursor.execute(sql, params)
    │      │       │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
    │      │       └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
    │      └ <function CursorDebugWrapper.execute at 0x0000026A9C62A670>
    └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DA26F40>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 98, in execute
    return super().execute(sql, params)
                           │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
                           └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           │    │                      │    │                            │    └ <function CursorWrapper._execute at 0x0000026A9C62A550>
           │    │                      │    │                            └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DA26F40>
           │    │                      │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │    │                      └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │    └ <function CursorWrapper._execute_with_wrappers at 0x0000026A9C62A4C0>
           └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DA26F40>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           │        │    │       │     └ {'connection': <django.db.backends.sqlite3.base.DatabaseWrapper object at 0x0000026A9D9F8850>, 'cursor': <django.db.backends....
           │        │    │       └ False
           │        │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │        └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           └ <bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DA26F40>>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           │    │      │       │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │    │      │       └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │    │      └ <function SQLiteCursorWrapper.execute at 0x0000026A9CC9CF70>
           │    └ <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x0000026A9DA2E3A0>
           └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DA26F40>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
          │            │              │               └ IntegrityError('NOT NULL constraint failed: hotelapp_profile.city')
          │            │              └ <traceback object at 0x0000026A9DA37880>
          │            └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('NOT NULL constraint failed: hotelapp_profile.city')

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           │    │      │       │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │    │      │       └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │    │      └ <function SQLiteCursorWrapper.execute at 0x0000026A9CC9CF70>
           │    └ <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x0000026A9DA2E3A0>
           └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DA26F40>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\sqlite3\base.py", line 423, in execute
    return Database.Cursor.execute(self, query, params)
           │        │      │       │     │      └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │        │      │       │     └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │        │      │       └ <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x0000026A9DA2E3A0>
           │        │      └ <method 'execute' of 'sqlite3.Cursor' objects>
           │        └ <class 'sqlite3.Cursor'>
           └ <module 'sqlite3.dbapi2' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\sqlite3\\dbapi2.py'>

django.db.utils.IntegrityError: NOT NULL constraint failed: hotelapp_profile.city
2021-08-24T17:49:08.787446+0300, ERROR, An error has been caught in function 'callback_query', process 'MainProcess' (16248), thread 'WorkerThread1' (11348):
Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\query.py", line 581, in get_or_create
    return self.get(**kwargs), False
           │    │     └ {'extr_id': 243661831}
           │    └ <function QuerySet.get at 0x0000026A9C655700>
           └ <QuerySet [<Profile: 158572669 IlnurZakirov>, <Profile: 171103742 yabulat>]>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\query.py", line 435, in get
    raise self.model.DoesNotExist(
          │    │     └ <class 'hotelapp.models.Profile.DoesNotExist'>
          │    └ <class 'hotelapp.models.Profile'>
          └ <QuerySet [<Profile: 158572669 IlnurZakirov>, <Profile: 171103742 yabulat>]>

hotelapp.models.Profile.DoesNotExist: Profile matching query does not exist.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           │    │      │       │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │    │      │       └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │    │      └ <function SQLiteCursorWrapper.execute at 0x0000026A9CC9CF70>
           │    └ <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x0000026A9DB475E0>
           └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DB40EB0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\sqlite3\base.py", line 423, in execute
    return Database.Cursor.execute(self, query, params)
           │        │      │       │     │      └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │        │      │       │     └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │        │      │       └ <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x0000026A9DB475E0>
           │        │      └ <method 'execute' of 'sqlite3.Cursor' objects>
           │        └ <class 'sqlite3.Cursor'>
           └ <module 'sqlite3.dbapi2' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\sqlite3\\dbapi2.py'>

sqlite3.IntegrityError: NOT NULL constraint failed: hotelapp_profile.city


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000026A99CF75E0>
    └ <WorkerThread(WorkerThread1, started daemon 11348)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000026A9CD7BEE0>
    └ <WorkerThread(WorkerThread1, started daemon 11348)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.CallbackQuery object at 0x0000026A9D9BFAF0>,)
    └ <function Command.handle.<locals>.callback_query at 0x0000026A9D9B24C0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 78, in callback_query
    registration(call.message)
    │            │    └ <telebot.types.Message object at 0x0000026A9DA38130>
    │            └ <telebot.types.CallbackQuery object at 0x0000026A9D9BFAF0>
    └ <function registration at 0x0000026A9D921040>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 26, in registration
    p, flag = Profile.objects.get_or_create(
              │       └ <django.db.models.manager.ManagerDescriptor object at 0x0000026A9CCB9DC0>
              └ <class 'hotelapp.models.Profile'>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   │    │               │      │       └ {'extr_id': 243661831, 'defaults': {'city': None, 'name': 'dinislamlatypov', 'city_id': 0}}
                   │    │               │      └ ()
                   │    │               └ 'get_or_create'
                   │    └ <function BaseManager.get_queryset at 0x0000026A9C65A550>
                   └ <django.db.models.manager.Manager object at 0x0000026A9D9390A0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\query.py", line 588, in get_or_create
    return self.create(**params), True
           │    │        └ {'extr_id': 243661831, 'city': None, 'name': 'dinislamlatypov', 'city_id': 0}
           │    └ <function QuerySet.create at 0x0000026A9C655790>
           └ <QuerySet [<Profile: 158572669 IlnurZakirov>, <Profile: 171103742 yabulat>]>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\query.py", line 453, in create
    obj.save(force_insert=True, using=self.db)
    │   │                             │    └ <property object at 0x0000026A9C653360>
    │   │                             └ <QuerySet [<Profile: 158572669 IlnurZakirov>, <Profile: 171103742 yabulat>]>
    │   └ <function Model.save at 0x0000026A9C6C65E0>
    └ <Profile: 243661831 dinislamlatypov>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\base.py", line 726, in save
    self.save_base(using=using, force_insert=force_insert,
    │    │               │                   └ True
    │    │               └ 'default'
    │    └ <function Model.save_base at 0x0000026A9C6C6670>
    └ <Profile: 243661831 dinislamlatypov>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\base.py", line 763, in save_base
    updated = self._save_table(
              │    └ <function Model._save_table at 0x0000026A9C6C6790>
              └ <Profile: 243661831 dinislamlatypov>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\base.py", line 868, in _save_table
    results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
              │    │          │   │              │      │       │                 └ False
              │    │          │   │              │      │       └ [<django.db.models.fields.BigAutoField: id>]
              │    │          │   │              │      └ [<django.db.models.fields.PositiveIntegerField: extr_id>, <django.db.models.fields.TextField: name>, <django.db.models.fields...
              │    │          │   │              └ 'default'
              │    │          │   └ <property object at 0x0000026A9C66FE00>
              │    │          └ <class 'hotelapp.models.Profile'>
              │    └ <function Model._do_insert at 0x0000026A9C6C68B0>
              └ <Profile: 243661831 dinislamlatypov>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\base.py", line 906, in _do_insert
    return manager._insert(
           │       └ <function BaseManager._get_queryset_methods.<locals>.create_method.<locals>.manager_method at 0x0000026A9C65A820>
           └ <django.db.models.manager.Manager object at 0x0000026A9DA26CD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
                   │    │               │      │       └ {'fields': [<django.db.models.fields.PositiveIntegerField: extr_id>, <django.db.models.fields.TextField: name>, <django.db.mo...
                   │    │               │      └ ([<Profile: 243661831 dinislamlatypov>],)
                   │    │               └ '_insert'
                   │    └ <function BaseManager.get_queryset at 0x0000026A9C65A550>
                   └ <django.db.models.manager.Manager object at 0x0000026A9DA26CD0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\query.py", line 1270, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           │     │                  │                  └ [<django.db.models.fields.BigAutoField: id>]
           │     │                  └ 'default'
           │     └ <function Query.get_compiler at 0x0000026A9C5E4C10>
           └ <django.db.models.sql.subqueries.InsertQuery object at 0x0000026A9DB40DC0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\models\sql\compiler.py", line 1416, in execute_sql
    cursor.execute(sql, params)
    │      │       │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
    │      │       └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
    │      └ <function CursorDebugWrapper.execute at 0x0000026A9C62A670>
    └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DB40EB0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 98, in execute
    return super().execute(sql, params)
                           │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
                           └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 66, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
           │    │                      │    │                            │    └ <function CursorWrapper._execute at 0x0000026A9C62A550>
           │    │                      │    │                            └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DB40EB0>
           │    │                      │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │    │                      └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │    └ <function CursorWrapper._execute_with_wrappers at 0x0000026A9C62A4C0>
           └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DB40EB0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 75, in _execute_with_wrappers
    return executor(sql, params, many, context)
           │        │    │       │     └ {'connection': <django.db.backends.sqlite3.base.DatabaseWrapper object at 0x0000026A9DB40280>, 'cursor': <django.db.backends....
           │        │    │       └ False
           │        │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │        └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           └ <bound method CursorWrapper._execute of <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DB40EB0>>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           │    │      │       │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │    │      │       └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │    │      └ <function SQLiteCursorWrapper.execute at 0x0000026A9CC9CF70>
           │    └ <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x0000026A9DB475E0>
           └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DB40EB0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\utils.py", line 90, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
          │            │              │               └ IntegrityError('NOT NULL constraint failed: hotelapp_profile.city')
          │            │              └ <traceback object at 0x0000026A9DB4B540>
          │            └ <method 'with_traceback' of 'BaseException' objects>
          └ IntegrityError('NOT NULL constraint failed: hotelapp_profile.city')

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
           │    │      │       │    └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │    │      │       └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │    │      └ <function SQLiteCursorWrapper.execute at 0x0000026A9CC9CF70>
           │    └ <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x0000026A9DB475E0>
           └ <django.db.backends.utils.CursorDebugWrapper object at 0x0000026A9DB40EB0>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\django\db\backends\sqlite3\base.py", line 423, in execute
    return Database.Cursor.execute(self, query, params)
           │        │      │       │     │      └ [243661831, 'dinislamlatypov', None, 0, 0, 999, 0.0, 9999999.0, 1]
           │        │      │       │     └ 'INSERT INTO "hotelapp_profile" ("extr_id", "name", "city", "city_id", "dist_min", "dist_max", "price_min", "price_max", "pag...
           │        │      │       └ <django.db.backends.sqlite3.base.SQLiteCursorWrapper object at 0x0000026A9DB475E0>
           │        │      └ <method 'execute' of 'sqlite3.Cursor' objects>
           │        └ <class 'sqlite3.Cursor'>
           └ <module 'sqlite3.dbapi2' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\sqlite3\\dbapi2.py'>

django.db.utils.IntegrityError: NOT NULL constraint failed: hotelapp_profile.city
2021-08-24T17:49:08.945126+0300, DEBUG, callback_query run
2021-08-24T17:50:05.737452+0300, DEBUG, callback_query run
2021-08-24T17:50:09.726416+0300, INFO, Your address 17Е к2, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T17:50:09.947855+0300, INFO, Selected city Казань
2021-08-24T17:50:13.127719+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T17:50:15.614435+0300, DEBUG, callback_query run
2021-08-24T17:50:15.617431+0300, DEBUG, Выбран город Казань id 1215771
2021-08-24T17:50:19.135695+0300, DEBUG, callback_query run
2021-08-24T17:50:21.717861+0300, DEBUG, Количество отелей: 1 func: get_page_size
2021-08-24T17:50:21.870422+0300, INFO, This is get list
2021-08-24T17:50:21.873417+0300, INFO, GET requests
2021-08-24T17:53:03.629391+0300, DEBUG, callback_query run
2021-08-24T17:53:06.273345+0300, DEBUG, callback_query run
2021-08-24T17:54:10.973896+0300, INFO, Your address ТЦ "Атриум", 9Д, Навагинская улица, Завокзальный, Центральный внутригородской район, Сочи, городской округ Сочи, Краснодарский край, Южный федеральный округ, 354000, Россия
2021-08-24T17:54:11.115492+0300, INFO, Selected city Сочи
2021-08-24T17:54:13.806691+0300, DEBUG, List city [{'city': 'Сочи (и окрестности)', 'caption': 'Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '1662648'}, {'city': 'Центр города Сочи', 'caption': 'Центр города Сочи, Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '10873622'}, {'city': 'Сочи пляжи', 'caption': 'Сочи пляжи, Краснодарский край, Россия', 'city_id': '1673492'}, {'city': 'Мацеста (Сочи)', 'caption': 'Мацеста (Сочи), Сочи (и окрестности), Краснодарский край, Россия', 'city_id': '10412378'}]
2021-08-24T17:54:19.066422+0300, DEBUG, callback_query run
2021-08-24T17:54:19.070380+0300, DEBUG, Выбран город Сочи id 1662648
2021-08-24T17:54:21.587392+0300, DEBUG, callback_query run
2021-08-24T17:54:32.388933+0300, DEBUG, Количество отелей: 1 func: get_page_size
2021-08-24T17:54:32.494100+0300, INFO, This is get list
2021-08-24T17:54:32.497100+0300, INFO, GET requests
2021-08-24T17:54:39.446044+0300, INFO, Your address 44, улица Братьев Касимовых, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420110, Россия
2021-08-24T17:54:39.569176+0300, INFO, Selected city Казань
2021-08-24T17:54:43.540172+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T17:54:46.549890+0300, DEBUG, callback_query run
2021-08-24T17:54:46.552869+0300, DEBUG, Выбран город Казань id 1215771
2021-08-24T17:54:48.797559+0300, DEBUG, callback_query run
2021-08-24T17:54:53.045561+0300, DEBUG, Количество отелей: 10 func: get_page_size
2021-08-24T17:54:53.162366+0300, INFO, This is get list
2021-08-24T17:54:53.165375+0300, INFO, GET requests
2021-08-24T17:54:57.102575+0300, INFO, Next_list : Yes,  page_number: 1
2021-08-24T17:54:57.104557+0300, DEBUG, The transition to the page has been prepared 2. Param: page_size 10 len(list): 8
2021-08-24T17:54:57.106558+0300, DEBUG, Data result_list ['Отель: Отель «Корстон Роял»\nРейтинг: 8,4\nЦена за сутки: 35,771 RUB\nАдрес: Россия, Казань, ул. Ершова, 1а\nУдаленность от центра города 1.3 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho253821/', 'Отель: Отель «Мано»\nРейтинг: 8,4\nЦена за сутки: 39,296 RUB\nАдрес: Россия, Казань, Чистопольская ул., 47\nУдаленность от центра города 3.1 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho687355/', 'Отель: Отель «Мираж»\nРейтинг: 9,2\nЦена за сутки: 40,000 RUB\nАдрес: Россия, Казань, ул. Московская, 5\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho424401/', 'Отель: Корстон Тауэр\nРейтинг: 8,4\nЦена за сутки: 45,595 RUB\nАдрес: Россия, Казань, ул. Н. Ершова, 1 А\nУдаленность от центра города 1.3 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho470196/', 'Отель: Отель Neo Kazan Palace by Tasigo\nРейтинг: 9,4\nЦена за сутки: 58,500 RUB\nАдрес: Россия, Казань, ул. Калинина, 3В\nУдаленность от центра города 0.6 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1969971552/', 'Отель: Отель Ramada by Wyndham, Казань-Центр\nРейтинг: 9,4\nЦена за сутки: 59,184 RUB\nАдрес: Россия, Казань, ул. Чернышевского, 39\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho427360/', 'Отель: Отель Kazan Palace by Tasıgo\nРейтинг: 9,2\nЦена за сутки: 62,550 RUB\nАдрес: Россия, Казань, ул. Калинина, 5/24\nУдаленность от центра города 1.4 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1030819072/', 'Отель: Хостел «Сарацин» на Большой Красной\nРейтинг: Без рейтинга\nЦена за сутки: 72,500 RUB\nАдрес: Россия, Казань, ул. Большая Красная, 20\nУдаленность от центра города 1.1 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho555550/']
2021-08-24T17:54:57.109683+0300, INFO, GET requests
2021-08-24T17:56:26.753821+0300, INFO, Selected city Выльгорт
2021-08-24T17:56:28.600955+0300, DEBUG, callback_query run
2021-08-24T17:56:30.827351+0300, DEBUG, List city [{'city': 'Выльгорт', 'caption': 'Выльгорт, Республика Коми, Россия', 'city_id': '10423057'}, {'city': 'Лозымская', 'caption': 'Лозымская, Выльгорт, Республика Коми, Россия', 'city_id': '10692140'}]
2021-08-24T17:56:32.852289+0300, INFO, Selected city Выльгорт
2021-08-24T17:56:36.007417+0300, DEBUG, List city [{'city': 'Выльгорт', 'caption': 'Выльгорт, Республика Коми, Россия', 'city_id': '10423057'}, {'city': 'Лозымская', 'caption': 'Лозымская, Выльгорт, Республика Коми, Россия', 'city_id': '10692140'}]
2021-08-24T17:58:59.779999+0300, INFO, Your address 44, улица Братьев Касимовых, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420110, Россия
2021-08-24T17:58:59.944020+0300, INFO, Selected city Казань
2021-08-24T17:59:03.950001+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T17:59:14.186011+0300, DEBUG, callback_query run
2021-08-24T17:59:14.189022+0300, DEBUG, Выбран город Выльгорт id 10423057
2021-08-24T17:59:15.568009+0300, DEBUG, callback_query run
2021-08-24T17:59:19.072011+0300, DEBUG, Количество отелей: 10 func: get_page_size
2021-08-24T17:59:19.252022+0300, INFO, This is get list
2021-08-24T17:59:19.255022+0300, INFO, GET requests
2021-08-24T17:59:23.636023+0300, INFO, Next_list : Yes,  page_number: 1
2021-08-24T17:59:23.638023+0300, DEBUG, The transition to the page has been prepared 2. Param: page_size 10 len(list): 1
2021-08-24T17:59:23.640023+0300, DEBUG, Data result_list ['Отель: Отель «Мельница»\nРейтинг: 10,0\nЦена за сутки: 16,000 RUB\nАдрес: Россия, Выльгорт, ул. Шоссейная, 9\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho972922432/']
2021-08-24T17:59:23.641022+0300, INFO, GET requests
2021-08-24T17:59:28.891011+0300, INFO, Next_list : Yes,  page_number: 2
2021-08-24T17:59:28.893023+0300, DEBUG, The transition to the page has been prepared 3. Param: page_size 10 len(list): 2
2021-08-24T17:59:28.895011+0300, DEBUG, Data result_list ['Отель: Отель «Мельница»\nРейтинг: 10,0\nЦена за сутки: 16,000 RUB\nАдрес: Россия, Выльгорт, ул. Шоссейная, 9\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho972922432/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/']
2021-08-24T17:59:28.897022+0300, INFO, GET requests
2021-08-24T17:59:33.776011+0300, INFO, Next_list : Yes,  page_number: 3
2021-08-24T17:59:33.778004+0300, DEBUG, The transition to the page has been prepared 4. Param: page_size 10 len(list): 3
2021-08-24T17:59:33.780004+0300, DEBUG, Data result_list ['Отель: Отель «Мельница»\nРейтинг: 10,0\nЦена за сутки: 16,000 RUB\nАдрес: Россия, Выльгорт, ул. Шоссейная, 9\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho972922432/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/']
2021-08-24T17:59:33.782009+0300, INFO, GET requests
2021-08-24T17:59:37.659003+0300, INFO, Next_list : Yes,  page_number: 4
2021-08-24T17:59:37.661007+0300, DEBUG, The transition to the page has been prepared 5. Param: page_size 10 len(list): 4
2021-08-24T17:59:37.663008+0300, DEBUG, Data result_list ['Отель: Отель «Мельница»\nРейтинг: 10,0\nЦена за сутки: 16,000 RUB\nАдрес: Россия, Выльгорт, ул. Шоссейная, 9\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho972922432/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/']
2021-08-24T17:59:37.665008+0300, INFO, GET requests
2021-08-24T18:00:12.694054+0300, INFO, Next_list : Yes,  page_number: 5
2021-08-24T18:00:12.696065+0300, DEBUG, The transition to the page has been prepared 6. Param: page_size 10 len(list): 5
2021-08-24T18:00:12.698054+0300, DEBUG, Data result_list ['Отель: Отель «Мельница»\nРейтинг: 10,0\nЦена за сутки: 16,000 RUB\nАдрес: Россия, Выльгорт, ул. Шоссейная, 9\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho972922432/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/']
2021-08-24T18:00:12.701053+0300, INFO, GET requests
2021-08-24T18:00:16.856047+0300, INFO, Next_list : Yes,  page_number: 6
2021-08-24T18:00:16.858046+0300, DEBUG, The transition to the page has been prepared 7. Param: page_size 10 len(list): 6
2021-08-24T18:00:16.860050+0300, DEBUG, Data result_list ['Отель: Отель «Мельница»\nРейтинг: 10,0\nЦена за сутки: 16,000 RUB\nАдрес: Россия, Выльгорт, ул. Шоссейная, 9\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho972922432/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/']
2021-08-24T18:00:16.862052+0300, INFO, GET requests
2021-08-24T18:00:20.260066+0300, INFO, Next_list : Yes,  page_number: 7
2021-08-24T18:00:20.262065+0300, DEBUG, The transition to the page has been prepared 8. Param: page_size 10 len(list): 7
2021-08-24T18:00:20.263067+0300, DEBUG, Data result_list ['Отель: Отель «Мельница»\nРейтинг: 10,0\nЦена за сутки: 16,000 RUB\nАдрес: Россия, Выльгорт, ул. Шоссейная, 9\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho972922432/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/']
2021-08-24T18:00:20.266045+0300, INFO, GET requests
2021-08-24T18:00:23.767065+0300, INFO, Next_list : Yes,  page_number: 8
2021-08-24T18:00:23.770047+0300, DEBUG, The transition to the page has been prepared 9. Param: page_size 10 len(list): 8
2021-08-24T18:00:23.772065+0300, DEBUG, Data result_list ['Отель: Отель «Мельница»\nРейтинг: 10,0\nЦена за сутки: 16,000 RUB\nАдрес: Россия, Выльгорт, ул. Шоссейная, 9\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho972922432/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/']
2021-08-24T18:00:23.774047+0300, INFO, GET requests
2021-08-24T18:00:27.316041+0300, INFO, Next_list : Yes,  page_number: 9
2021-08-24T18:00:27.318041+0300, DEBUG, The transition to the page has been prepared 10. Param: page_size 10 len(list): 9
2021-08-24T18:00:27.320041+0300, DEBUG, Data result_list ['Отель: Отель «Мельница»\nРейтинг: 10,0\nЦена за сутки: 16,000 RUB\nАдрес: Россия, Выльгорт, ул. Шоссейная, 9\nУдаленность от центра города 1.7 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho972922432/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/', 'Отель: Отель «Виктория» \nРейтинг: Без рейтинга\nЦена за сутки: 20,000 RUB\nАдрес: Россия, Сыктывкар, ул. Слободская, 3\nУдаленность от центра города 20 км. Ссылка на страницу бронирования:\nhttps://ru.hotels.com/ho1249296288/']
2021-08-24T18:00:27.322042+0300, INFO, GET requests
2021-08-24T18:00:32.433053+0300, INFO, Selected city Bąki
2021-08-24T18:00:35.402066+0300, DEBUG, List city [{'city': 'Бакыркёй', 'caption': 'Бакыркёй, Стамбул, Istanbul, Турция', 'city_id': '10874282'}, {'city': 'Пакистан', 'caption': 'Пакистан', 'city_id': '10233134'}, {'city': 'Бакио', 'caption': 'Бакио, Страна басков, Испания', 'city_id': '1900363'}, {'city': 'Красные Баки', 'caption': 'Красные Баки, Нижегородская область, Россия', 'city_id': '1126640'}, {'city': 'Боиркёй', 'caption': 'Боиркёй, Биледжик, Биледжик, Турция', 'city_id': '1799203'}, {'city': 'Бейзингстоук', 'caption': 'Бейзингстоук, Англия, Великобритания', 'city_id': '549597'}]
2021-08-24T18:01:08.606080+0300, INFO, Selected city 
2021-08-24T18:01:09.433083+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:01:09.437085+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (19056), thread 'WorkerThread1' (4528):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000157B6FE75E0>
    └ <WorkerThread(WorkerThread1, started daemon 4528)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000157BA0C1040>
    └ <WorkerThread(WorkerThread1, started daemon 4528)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000157BADACAF0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000157BACDB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x00000157BADACAF0>
              └ <function get_city_id at 0x00000157BAC308B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x00000157B955C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:01:09.467071+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (19056), thread 'WorkerThread1' (4528):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000157B6FE75E0>
    └ <WorkerThread(WorkerThread1, started daemon 4528)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000157BA0C1040>
    └ <WorkerThread(WorkerThread1, started daemon 4528)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000157BADACAF0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000157BACDB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x00000157BADACAF0>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000157BACDB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:02:14.015887+0300, INFO, Selected city Bąki
2021-08-24T18:02:17.449733+0300, DEBUG, List city [{'city': 'Бакыркёй', 'caption': 'Бакыркёй, Стамбул, Istanbul, Турция', 'city_id': '10874282'}, {'city': 'Пакистан', 'caption': 'Пакистан', 'city_id': '10233134'}, {'city': 'Бакио', 'caption': 'Бакио, Страна басков, Испания', 'city_id': '1900363'}, {'city': 'Красные Баки', 'caption': 'Красные Баки, Нижегородская область, Россия', 'city_id': '1126640'}, {'city': 'Боиркёй', 'caption': 'Боиркёй, Биледжик, Биледжик, Турция', 'city_id': '1799203'}, {'city': 'Бейзингстоук', 'caption': 'Бейзингстоук, Англия, Великобритания', 'city_id': '549597'}]
2021-08-24T18:04:59.121534+0300, INFO, Selected city 
2021-08-24T18:04:59.965707+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:04:59.968219+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (15652), thread 'WorkerThread2' (12900):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023D4C9F75E0>
    └ <WorkerThread(WorkerThread2, started daemon 12900)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023D4FAC1040>
    └ <WorkerThread(WorkerThread2, started daemon 12900)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000023D5074DBB0>,)
    └ <function Command.handle.<locals>.get_city at 0x0000023D506DB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x0000023D5074DBB0>
              └ <function get_city_id at 0x0000023D506308B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x0000023D4EF5B670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:05:00.000230+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (15652), thread 'WorkerThread2' (12900):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023D4C9F75E0>
    └ <WorkerThread(WorkerThread2, started daemon 12900)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023D4FAC1040>
    └ <WorkerThread(WorkerThread2, started daemon 12900)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000023D5074DBB0>,)
    └ <function Command.handle.<locals>.get_city at 0x0000023D506DB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x0000023D5074DBB0>
               └ <function Command.handle.<locals>.create_keyboard at 0x0000023D506DB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:05:13.589212+0300, INFO, Selected city 
2021-08-24T18:05:14.441691+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:05:14.444919+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (15652), thread 'WorkerThread1' (16856):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023D4C9F75E0>
    └ <WorkerThread(WorkerThread1, started daemon 16856)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023D4FAC1040>
    └ <WorkerThread(WorkerThread1, started daemon 16856)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000023D50763AC0>,)
    └ <function Command.handle.<locals>.get_city at 0x0000023D506DB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x0000023D50763AC0>
              └ <function get_city_id at 0x0000023D506308B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x0000023D4EF5B670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:05:14.472913+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (15652), thread 'WorkerThread1' (16856):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023D4C9F75E0>
    └ <WorkerThread(WorkerThread1, started daemon 16856)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023D4FAC1040>
    └ <WorkerThread(WorkerThread1, started daemon 16856)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000023D50763AC0>,)
    └ <function Command.handle.<locals>.get_city at 0x0000023D506DB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x0000023D50763AC0>
               └ <function Command.handle.<locals>.create_keyboard at 0x0000023D506DB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:05:38.356842+0300, INFO, Selected city 
2021-08-24T18:05:39.164765+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:05:39.167764+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (17292), thread 'WorkerThread1' (16748):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A1BF775E0>
    └ <WorkerThread(WorkerThread1, started daemon 16748)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A1F031040>
    └ <WorkerThread(WorkerThread1, started daemon 16748)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000029A1FC4E7C0>,)
    └ <function Command.handle.<locals>.get_city at 0x0000029A1FC4B1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x0000029A1FC4E7C0>
              └ <function get_city_id at 0x0000029A1F3A08B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x0000029A1E4CC670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:05:39.198584+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (17292), thread 'WorkerThread1' (16748):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A1BF775E0>
    └ <WorkerThread(WorkerThread1, started daemon 16748)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A1F031040>
    └ <WorkerThread(WorkerThread1, started daemon 16748)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000029A1FC4E7C0>,)
    └ <function Command.handle.<locals>.get_city at 0x0000029A1FC4B1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x0000029A1FC4E7C0>
               └ <function Command.handle.<locals>.create_keyboard at 0x0000029A1FC4B4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:05:40.693003+0300, INFO, Selected city 
2021-08-24T18:05:41.489701+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:05:41.492676+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (17292), thread 'WorkerThread2' (8832):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A1BF775E0>
    └ <WorkerThread(WorkerThread2, started daemon 8832)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A1F031040>
    └ <WorkerThread(WorkerThread2, started daemon 8832)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000029A1FC5D850>,)
    └ <function Command.handle.<locals>.get_city at 0x0000029A1FC4B1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x0000029A1FC5D850>
              └ <function get_city_id at 0x0000029A1F3A08B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x0000029A1E4CC670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:05:41.514693+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (17292), thread 'WorkerThread2' (8832):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A1BF775E0>
    └ <WorkerThread(WorkerThread2, started daemon 8832)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A1F031040>
    └ <WorkerThread(WorkerThread2, started daemon 8832)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000029A1FC5D850>,)
    └ <function Command.handle.<locals>.get_city at 0x0000029A1FC4B1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x0000029A1FC5D850>
               └ <function Command.handle.<locals>.create_keyboard at 0x0000029A1FC4B4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:05:46.696310+0300, INFO, Selected city 
2021-08-24T18:05:47.532311+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:05:47.535298+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread2' (18020):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000232937AE7C0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x00000232937AE7C0>
              └ <function get_city_id at 0x00000232937008B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002329202C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:05:47.567513+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread2' (18020):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000232937AE7C0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x00000232937AE7C0>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000232937AB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:05:48.228087+0300, INFO, Selected city قندهار
2021-08-24T18:05:51.191958+0300, DEBUG, List city []
2021-08-24T18:05:59.130970+0300, INFO, Selected city هرات
2021-08-24T18:06:02.552868+0300, DEBUG, List city [{'city': 'Ист-Хартфорд', 'caption': 'Ист-Хартфорд, Коннектикут, США', 'city_id': '1463743'}, {'city': 'Саут-Хартфорд', 'caption': 'Саут-Хартфорд, Нью-Йорк, США', 'city_id': '1516621'}]
2021-08-24T18:06:09.166529+0300, INFO, Selected city 
2021-08-24T18:06:10.015488+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:06:10.018274+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread2' (18020):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002329388DA60>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002329388DA60>
              └ <function get_city_id at 0x00000232937008B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002329202C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:06:10.043843+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread2' (18020):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002329388DA60>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002329388DA60>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000232937AB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:06:32.328617+0300, INFO, Selected city قندهار
2021-08-24T18:06:35.735112+0300, INFO, Selected city هرات
2021-08-24T18:06:39.062349+0300, DEBUG, List city [{'city': 'Ист-Хартфорд', 'caption': 'Ист-Хартфорд, Коннектикут, США', 'city_id': '1463743'}, {'city': 'Саут-Хартфорд', 'caption': 'Саут-Хартфорд, Нью-Йорк, США', 'city_id': '1516621'}]
2021-08-24T18:06:42.591222+0300, DEBUG, List city []
2021-08-24T18:07:20.993026+0300, INFO, Selected city 
2021-08-24T18:07:21.909592+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:07:21.912754+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread1' (12048):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000023293832B20>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x0000023293832B20>
              └ <function get_city_id at 0x00000232937008B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002329202C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:07:21.937974+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread1' (12048):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000023293832B20>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x0000023293832B20>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000232937AB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:07:31.242286+0300, DEBUG, callback_query run
2021-08-24T18:07:48.773889+0300, INFO, Selected city Antalya
2021-08-24T18:08:31.250869+0300, DEBUG, List city [{'city': 'Анталья', 'caption': 'Анталья, Анталья (провинция), Турция', 'city_id': '1355047'}, {'city': 'Кемер', 'caption': 'Кемер, Анталья (провинция), Турция', 'city_id': '1343725'}, {'city': 'Коньяалты', 'caption': 'Коньяалты, Анталья (провинция), Турция', 'city_id': '1798897'}, {'city': 'Белек', 'caption': 'Белек, Анталья (провинция), Турция', 'city_id': '1351110'}, {'city': 'Калейчи', 'caption': 'Калейчи, Анталья, Анталья (провинция), Турция', 'city_id': '1725097'}, {'city': 'Лара', 'caption': 'Лара, Анталья, Анталья (провинция), Турция', 'city_id': '1710603'}, {'city': 'Аланья', 'caption': 'Аланья, Анталья (провинция), Турция', 'city_id': '1340186'}, {'city': 'Сиде', 'caption': 'Сиде, Анталья (провинция), Турция', 'city_id': '1640749'}]
2021-08-24T18:08:36.570351+0300, DEBUG, callback_query run
2021-08-24T18:08:36.574204+0300, DEBUG, Выбран город Antalya id 1355047
2021-08-24T18:08:38.539805+0300, DEBUG, callback_query run
2021-08-24T18:08:45.659155+0300, DEBUG, Количество отелей: 2 func: get_page_size
2021-08-24T18:08:45.838176+0300, INFO, This is get list
2021-08-24T18:08:45.841174+0300, INFO, GET requests
2021-08-24T18:09:24.583951+0300, INFO, Selected city 
2021-08-24T18:09:25.423258+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:09:25.426251+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread1' (12048):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000232938A27C0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x00000232938A27C0>
              └ <function get_city_id at 0x00000232937008B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002329202C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:09:25.450229+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread1' (12048):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000232938A27C0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x00000232938A27C0>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000232937AB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:09:33.688889+0300, INFO, Selected city بغداد
2021-08-24T18:09:36.737505+0300, INFO, Selected city شهر تهران
2021-08-24T18:09:37.159249+0300, DEBUG, List city [{'city': 'Багдад', 'caption': 'Багдад, Тасмания, Австралия', 'city_id': '10432353'}, {'city': 'Багдад', 'caption': 'Багдад, Кентукки, США', 'city_id': '10419190'}, {'city': 'Багдад', 'caption': 'Багдад, Аризона, США', 'city_id': '1502884'}]
2021-08-24T18:09:40.592934+0300, DEBUG, List city []
2021-08-24T18:09:58.460621+0300, INFO, Selected city شهر تهران
2021-08-24T18:10:05.173635+0300, DEBUG, List city []
2021-08-24T18:10:53.405625+0300, DEBUG, callback_query run
2021-08-24T18:10:59.038622+0300, INFO, Selected city 
2021-08-24T18:10:59.889638+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:10:59.892634+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread1' (12048):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000232938A3D00>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x00000232938A3D00>
              └ <function get_city_id at 0x00000232937008B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002329202C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:10:59.920641+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread1' (12048):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000232938A3D00>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x00000232938A3D00>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000232937AB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:11:08.977654+0300, INFO, Selected city 
2021-08-24T18:11:09.794646+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:11:09.797635+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread2' (18020):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000232938856A0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x00000232938856A0>
              └ <function get_city_id at 0x00000232937008B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002329202C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:11:09.823631+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread2' (18020):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000232938856A0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x00000232938856A0>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000232937AB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:11:37.993622+0300, INFO, Selected city თბილისი
2021-08-24T18:11:41.731646+0300, DEBUG, List city []
2021-08-24T18:11:48.912631+0300, INFO, Selected city 
2021-08-24T18:11:49.733636+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:11:49.736635+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread1' (12048):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000023293832D00>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x0000023293832D00>
              └ <function get_city_id at 0x00000232937008B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002329202C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:11:49.762646+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread1' (12048):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread1, started daemon 12048)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x0000023293832D00>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x0000023293832D00>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000232937AB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:11:49.913630+0300, INFO, Selected city กรุงเทพมหานคร
2021-08-24T18:11:51.487642+0300, INFO, Selected city Bakı
2021-08-24T18:11:53.035637+0300, DEBUG, List city [{'city': 'Бангкок', 'caption': 'Бангкок, Бангкок (провинция), Таиланд', 'city_id': '1313946'}, {'city': 'Центр города', 'caption': 'Центр города, Бангкок, Бангкок (провинция), Таиланд', 'city_id': '10565513'}, {'city': 'Дон-Муанг', 'caption': 'Дон-Муанг, Бангкок, Бангкок (провинция), Таиланд', 'city_id': '1697666'}, {'city': 'Центр Бангкока', 'caption': 'Центр Бангкока, Бангкок, Бангкок (провинция), Таиланд', 'city_id': '1735335'}, {'city': 'Силом', 'caption': 'Силом, Бангкок, Бангкок (провинция), Таиланд', 'city_id': '1714318'}, {'city': 'Лат-Крабанг', 'caption': 'Лат-Крабанг, Бангкок, Бангкок (провинция), Таиланд', 'city_id': '1697682'}, {'city': 'Пхая Тай', 'caption': 'Пхая Тай, Бангкок, Бангкок (провинция), Таиланд', 'city_id': '1796904'}, {'city': 'Сукхумвит', 'caption': 'Сукхумвит, Бангкок, Бангкок (провинция), Таиланд', 'city_id': '1729981'}, {'city': 'Кхао-Сан', 'caption': 'Кхао-Сан, Бангкок, Бангкок (провинция), Таиланд', 'city_id': '1812326'}]
2021-08-24T18:11:54.471648+0300, DEBUG, List city [{'city': 'Бакыркёй', 'caption': 'Бакыркёй, Стамбул, Istanbul, Турция (Distretto di Bakırköy)', 'city_id': '10874282'}, {'city': 'Пакистан', 'caption': 'Пакистан', 'city_id': '10233134'}, {'city': 'Бакио', 'caption': 'Бакио, Страна басков, Испания', 'city_id': '1900363'}, {'city': 'Красные Баки', 'caption': 'Красные Баки, Нижегородская область, Россия', 'city_id': '1126640'}, {'city': 'Боиркёй', 'caption': 'Боиркёй, Биледжик, Биледжик, Турция', 'city_id': '1799203'}, {'city': 'Бейзингстоук', 'caption': 'Бейзингстоук, Англия, Великобритания', 'city_id': '549597'}]
2021-08-24T18:11:54.916635+0300, DEBUG, callback_query run
2021-08-24T18:12:00.811635+0300, INFO, Selected city 
2021-08-24T18:12:01.684634+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:12:01.687634+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread2' (18020):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000232938CF0D0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x00000232938CF0D0>
              └ <function get_city_id at 0x00000232937008B0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002329202C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:12:01.715637+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3728), thread 'WorkerThread2' (18020):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002328FAD75E0>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023292B91040>
    └ <WorkerThread(WorkerThread2, started daemon 18020)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000232938CF0D0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000232937AB1F0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x00000232938CF0D0>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000232937AB4C0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:12:22.058157+0300, INFO, Selected city اسلام آباد
2021-08-24T18:12:25.526141+0300, DEBUG, List city []
2021-08-24T18:13:14.383156+0300, INFO, Selected city جدة
2021-08-24T18:13:18.643141+0300, DEBUG, List city [{'city': 'Джедда', 'caption': 'Джедда, Мекка, Саудовская Аравия', 'city_id': '1634165'}, {'city': 'Саудовская Аравия', 'caption': 'Саудовская Аравия', 'city_id': '10233150'}, {'city': 'Эль-Рияд', 'caption': 'Эль-Рияд, Джедда, Мекка, Саудовская Аравия', 'city_id': '11386973'}, {'city': 'Король-Абдул-Азиз-роуд', 'caption': 'Король-Абдул-Азиз-роуд, Джедда, Мекка, Саудовская Аравия', 'city_id': '10873517'}, {'city': 'As Salamah', 'caption': 'As Salamah, Jeddah, Makkah Province, Saudi Arabia', 'city_id': '12514310'}, {'city': 'Al Bawadi', 'caption': 'Al Bawadi, Jeddah, Makkah Province, Saudi Arabia', 'city_id': '12477770'}, {'city': 'Al-Hamadaniyah', 'caption': 'Al-Hamadaniyah, Jeddah, Makkah Province, Saudi Arabia', 'city_id': '12499553'}]
2021-08-24T18:13:37.893150+0300, INFO, Selected city محافظة الدمام
2021-08-24T18:13:41.547153+0300, DEBUG, List city []
2021-08-24T18:14:34.358122+0300, INFO, Selected city ירושלים
2021-08-24T18:14:37.479876+0300, DEBUG, List city [{'city': 'Иерусалим', 'caption': 'Иерусалим, Jerusalem District, Израиль', 'city_id': '1633057'}, {'city': 'Центр города Иерусалим', 'caption': 'Центр города Иерусалим, Иерусалим, Jerusalem District, Израиль', 'city_id': '10873726'}, {'city': 'Историческая часть города', 'caption': 'Историческая часть города, Иерусалим, Jerusalem District', 'city_id': '1767644'}, {'city': 'Западный Иерусалим', 'caption': 'Западный Иерусалим, Jerusalem District, Израиль', 'city_id': '1809442'}, {'city': 'Восточный Иерусалим', 'caption': 'Восточный Иерусалим, Jerusalem District', 'city_id': '1809441'}, {'city': 'Бейт-Шемеш', 'caption': 'Бейт-Шемеш, Jerusalem District, Израиль', 'city_id': '699951'}, {'city': 'Эйн-Карем', 'caption': 'Эйн-Карем, Иерусалим, Jerusalem District, Израиль', 'city_id': '1808940'}, {'city': 'Армянский квартал', 'caption': 'Армянский квартал, Иерусалим, Jerusalem District', 'city_id': '1808985'}]
2021-08-24T18:14:43.924100+0300, INFO, Selected city بيروت
2021-08-24T18:14:46.893915+0300, DEBUG, List city [{'city': 'Бейрут', 'caption': 'Бейрут, Ливан', 'city_id': '1635360'}, {'city': 'Центральный деловой район Бейрута', 'caption': 'Центральный деловой район Бейрута, Бейрут, Бейрут, Ливан', 'city_id': '10565554'}, {'city': 'Хамра', 'caption': 'Хамра, Бейрут, Бейрут, Ливан', 'city_id': '10378623'}, {'city': 'Вилладжио-Перуццо', 'caption': 'Вилладжио-Перуццо, Агридженто, Сицилия, Италия', 'city_id': '11068219'}, {'city': 'Пирот', 'caption': 'Пирот, Центральная Сербия, Сербия', 'city_id': '1602541'}, {'city': 'Перучац', 'caption': 'Перучац, Байина-Башта, Центральная Сербия, Сербия', 'city_id': '10395532'}, {'city': 'Берутовице', 'caption': 'Берутовице, Карпач, Нижнесилезское воеводство, Польша', 'city_id': '11109129'}, {'city': 'Ашрафия', 'caption': 'Ашрафия, Бейрут, Бейрут, Ливан', 'city_id': '10565553'}, {'city': 'Nasra', 'caption': 'Nasra, Beirut, Beirut Governorate, Lebanon', 'city_id': '12517393'}, {'city': 'Перучо', 'caption': 'Перучо, Пичинча, Эквадор', 'city_id': '12482324'}]
2021-08-24T18:14:51.808588+0300, INFO, Selected city القاهرة
2021-08-24T18:14:54.777073+0300, DEBUG, List city [{'city': 'Каир', 'caption': 'Каир, Эль-Кахира, Египет', 'city_id': '1634358'}, {'city': 'Центр Каира', 'caption': 'Центр Каира, Каир, Эль-Кахира, Египет', 'city_id': '1661131'}, {'city': 'Замалек', 'caption': 'Замалек, Каир, Египет', 'city_id': '1718697'}, {'city': 'Новый Каир', 'caption': 'Новый Каир, Эль-Кахира, Египет', 'city_id': '1808045'}, {'city': 'Шератон-Аль-Матар', 'caption': 'Шератон-Аль-Матар, Каир, Эль-Кахира, Египет', 'city_id': '11390374'}, {'city': 'Исламская часть Каира', 'caption': 'Исламская часть Каира, Каир, Эль-Кахира, Египет', 'city_id': '1699211'}, {'city': 'Маади', 'caption': 'Маади, Каир, Эль-Кахира, Египет', 'city_id': '10512848'}, {'city': 'Старый Каир', 'caption': 'Старый Каир, Каир, Эль-Кахира, Египет', 'city_id': '1661128'}, {'city': 'Гезира', 'caption': 'Гезира, Каир, Египет', 'city_id': '10512846'}]
2021-08-24T18:15:07.113862+0300, INFO, Selected city دمشق
2021-08-24T18:15:10.374959+0300, DEBUG, List city [{'city': 'Дамаскус', 'caption': 'Дамаскус, Джорджия, США', 'city_id': '11021583'}, {'city': 'Дамаск', 'caption': 'Дамаск, Вирджиния, США', 'city_id': '1413352'}, {'city': 'Дамаск', 'caption': 'Дамаск, Орегон, США', 'city_id': '10430317'}, {'city': 'Дамаск', 'caption': 'Дамаск, Мэриленд, США', 'city_id': '10420217'}, {'city': 'Дамаск', 'caption': 'Дамаск, Пенсильвания, США', 'city_id': '10425714'}]
2021-08-24T18:15:14.808713+0300, INFO, Selected city 
2021-08-24T18:15:15.648010+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:15:15.650990+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread1' (6012):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC301EF9D0>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002CC301EF9D0>
              └ <function get_city_id at 0x000002CC30141790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002CC2EA6C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:15:15.680909+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread1' (6012):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC301EF9D0>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002CC301EF9D0>
               └ <function Command.handle.<locals>.create_keyboard at 0x000002CC301EC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:15:37.726478+0300, INFO, Selected city 
2021-08-24T18:15:38.599914+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:15:38.603475+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread1' (6012):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC301FDE50>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002CC301FDE50>
              └ <function get_city_id at 0x000002CC30141790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002CC2EA6C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:15:38.629152+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread1' (6012):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC301FDE50>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002CC301FDE50>
               └ <function Command.handle.<locals>.create_keyboard at 0x000002CC301EC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:15:40.747256+0300, INFO, Selected city Islamabad
2021-08-24T18:15:43.523787+0300, DEBUG, List city [{'city': 'Исламабад', 'caption': 'Исламабад, Столична територия Исламабад, Пакистан', 'city_id': '1642108'}, {'city': 'Сила', 'caption': 'Сила, Столична територия Исламабад, Пакистан', 'city_id': '12472922'}, {'city': 'Сектор E-7', 'caption': 'Сектор E-7, Исламабад, Столична територия Исламабад, Пакистан', 'city_id': '10874176'}]
2021-08-24T18:15:47.939565+0300, INFO, Selected city 
2021-08-24T18:15:48.743254+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:15:48.746252+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread2' (19276):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302292E0>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002CC302292E0>
              └ <function get_city_id at 0x000002CC30141790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002CC2EA6C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:15:48.770245+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread2' (19276):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302292E0>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002CC302292E0>
               └ <function Command.handle.<locals>.create_keyboard at 0x000002CC301EC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:15:49.451796+0300, INFO, Selected city Tehran
2021-08-24T18:15:52.950260+0300, DEBUG, List city []
2021-08-24T18:16:16.585439+0300, INFO, Selected city 
2021-08-24T18:16:17.426412+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:16:17.429688+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread2' (19276):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302E4FA0>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002CC302E4FA0>
              └ <function get_city_id at 0x000002CC30141790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002CC2EA6C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:16:17.450702+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread2' (19276):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302E4FA0>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002CC302E4FA0>
               └ <function Command.handle.<locals>.create_keyboard at 0x000002CC301EC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:16:25.881010+0300, INFO, Selected city 
2021-08-24T18:16:26.685543+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:16:26.689535+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread1' (6012):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302D3820>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002CC302D3820>
              └ <function get_city_id at 0x000002CC30141790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002CC2EA6C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:16:26.714451+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread1' (6012):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302D3820>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002CC302D3820>
               └ <function Command.handle.<locals>.create_keyboard at 0x000002CC301EC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:16:38.441067+0300, INFO, Selected city Moscow
2021-08-24T18:16:42.306930+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Москва', 'caption': 'Москва, Айдахо, США', 'city_id': '1449014'}, {'city': 'Домодедово, Московская область', 'caption': 'Домодедово, Московская область, Подмосковье (Московская область), Россия', 'city_id': '1118662'}]
2021-08-24T18:17:40.349560+0300, INFO, Selected city Agryz
2021-08-24T18:17:43.439365+0300, DEBUG, List city [{'city': 'Агрыз', 'caption': 'Агрыз, Республика Татарстан, Россия', 'city_id': '1166743'}]
2021-08-24T18:18:22.998180+0300, INFO, Selected city 
2021-08-24T18:18:23.834439+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:18:23.837427+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread1' (6012):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302E9580>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002CC302E9580>
              └ <function get_city_id at 0x000002CC30141790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002CC2EA6C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:18:23.862088+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread1' (6012):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302E9580>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002CC302E9580>
               └ <function Command.handle.<locals>.create_keyboard at 0x000002CC301EC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:18:26.228330+0300, INFO, Selected city 
2021-08-24T18:18:27.063092+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:18:27.067579+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread1' (6012):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302E0190>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002CC302E0190>
              └ <function get_city_id at 0x000002CC30141790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002CC2EA6C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:18:27.095523+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread1' (6012):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread1, started daemon 6012)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302E0190>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002CC302E0190>
               └ <function Command.handle.<locals>.create_keyboard at 0x000002CC301EC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:18:34.038718+0300, INFO, Selected city Westminster
2021-08-24T18:18:36.904272+0300, DEBUG, List city [{'city': 'Сити-оф-Вестминстер', 'caption': 'Сити-оф-Вестминстер, Лондон, Англия, Великобритания (Westminster)', 'city_id': '1695988'}, {'city': 'Вестминстер (штат Колорадо)', 'caption': 'Вестминстер (штат Колорадо), Колорадо, США', 'city_id': '1489635'}, {'city': 'Вестминстер (штат Колорадо)', 'caption': 'Вестминстер (штат Колорадо), Мэриленд, США', 'city_id': '1426470'}, {'city': 'Вестминстер (штат Колорадо)', 'caption': 'Вестминстер (штат Колорадо), Калифорния, США', 'city_id': '1466874'}, {'city': 'Виктория', 'caption': 'Виктория, Лондон, Графство Большой Лондон, Англия, Великобритания', 'city_id': '1762415'}]
2021-08-24T18:18:37.235674+0300, INFO, Selected city 
2021-08-24T18:18:38.034985+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:18:38.037982+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread2' (19276):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302F0970>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002CC302F0970>
              └ <function get_city_id at 0x000002CC30141790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002CC2EA6C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:18:38.062985+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread2' (19276):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302F0970>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002CC302F0970>
               └ <function Command.handle.<locals>.create_keyboard at 0x000002CC301EC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:18:42.596072+0300, DEBUG, callback_query run
2021-08-24T18:18:42.599072+0300, DEBUG, Выбран город Westminster id 1695988
2021-08-24T18:18:44.585363+0300, DEBUG, callback_query run
2021-08-24T18:18:50.189406+0300, DEBUG, Количество отелей: 10 func: get_page_size
2021-08-24T18:18:50.340412+0300, INFO, This is get list
2021-08-24T18:18:50.343405+0300, INFO, GET requests
2021-08-24T18:19:03.497006+0300, INFO, Selected city 
2021-08-24T18:19:04.379910+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:19:04.382905+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread2' (19276):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302E4FD0>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002CC302E4FD0>
              └ <function get_city_id at 0x000002CC30141790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002CC2EA6C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:19:04.403656+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (3772), thread 'WorkerThread2' (19276):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002CC2C5575E0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002CC2F5ABEE0>
    └ <WorkerThread(WorkerThread2, started daemon 19276)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002CC302E4FD0>,)
    └ <function Command.handle.<locals>.get_city at 0x000002CC301EC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002CC302E4FD0>
               └ <function Command.handle.<locals>.create_keyboard at 0x000002CC301EC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:21:33.155247+0300, INFO, Selected city 
2021-08-24T18:21:34.010458+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:21:34.012447+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (5228), thread 'WorkerThread1' (7048):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000234C29E75E0>
    └ <WorkerThread(WorkerThread1, started daemon 7048)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000234C5A8BEE0>
    └ <WorkerThread(WorkerThread1, started daemon 7048)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000234C66CF9D0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000234C66CC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x00000234C66CF9D0>
              └ <function get_city_id at 0x00000234C6621790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x00000234C4F4B670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:21:34.042357+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (5228), thread 'WorkerThread1' (7048):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000234C29E75E0>
    └ <WorkerThread(WorkerThread1, started daemon 7048)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000234C5A8BEE0>
    └ <WorkerThread(WorkerThread1, started daemon 7048)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000234C66CF9D0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000234C66CC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x00000234C66CF9D0>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000234C66CC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:22:05.644260+0300, DEBUG, callback_query run
2021-08-24T18:22:09.425294+0300, INFO, Selected city 
2021-08-24T18:22:10.236212+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:22:10.239202+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (2832), thread 'WorkerThread2' (17392):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001878A5E75E0>
    └ <WorkerThread(WorkerThread2, started daemon 17392)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000001878D68BEE0>
    └ <WorkerThread(WorkerThread2, started daemon 17392)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000001878E2CF9D0>,)
    └ <function Command.handle.<locals>.get_city at 0x000001878E2CC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 303, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000001878E2CF9D0>
              └ <function get_city_id at 0x000001878E221790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000001878CB4B670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:22:10.264933+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (2832), thread 'WorkerThread2' (17392):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001878A5E75E0>
    └ <WorkerThread(WorkerThread2, started daemon 17392)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000001878D68BEE0>
    └ <WorkerThread(WorkerThread2, started daemon 17392)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000001878E2CF9D0>,)
    └ <function Command.handle.<locals>.get_city at 0x000001878E2CC0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 304, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000001878E2CF9D0>
               └ <function Command.handle.<locals>.create_keyboard at 0x000001878E2CC3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 319, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:23:24.173638+0300, DEBUG, callback_query run
2021-08-24T18:23:27.520588+0300, INFO, دبي, Дубай, Объединённые Арабские Эмираты
2021-08-24T18:23:28.018572+0300, INFO, Al Khamila Street, Al Barsha, Dubai, 24857, United Arab Emirates
2021-08-24T18:23:28.021766+0300, INFO, Selected city 
2021-08-24T18:23:28.888878+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:23:28.891330+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (9680), thread 'WorkerThread2' (20384):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002271BDA75E0>
    └ <WorkerThread(WorkerThread2, started daemon 20384)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002271EE4BEE0>
    └ <WorkerThread(WorkerThread2, started daemon 20384)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002271FA8E9D0>,)
    └ <function Command.handle.<locals>.get_city at 0x000002271FA8B0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 305, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x000002271FA8E9D0>
              └ <function get_city_id at 0x000002271F9E1790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x000002271E30C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:23:28.919942+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (9680), thread 'WorkerThread2' (20384):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002271BDA75E0>
    └ <WorkerThread(WorkerThread2, started daemon 20384)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002271EE4BEE0>
    └ <WorkerThread(WorkerThread2, started daemon 20384)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002271FA8E9D0>,)
    └ <function Command.handle.<locals>.get_city at 0x000002271FA8B0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 306, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x000002271FA8E9D0>
               └ <function Command.handle.<locals>.create_keyboard at 0x000002271FA8B3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 321, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:26:32.616803+0300, DEBUG, callback_query run
2021-08-24T18:26:37.264271+0300, INFO, دبي, Дубай, Объединённые Арабские Эмираты
2021-08-24T18:26:37.758044+0300, INFO, {'place_id': 95492960, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 25978856, 'lat': '25.072841418111143', 'lon': '55.187371116952455', 'display_name': 'Al Khamila Street, Al Barsha, Dubai, 24857, United Arab Emirates', 'address': {'road': 'Al Khamila Street', 'suburb': 'Al Barsha', 'state': 'Dubai', 'postcode': '24857', 'country': 'United Arab Emirates', 'country_code': 'ae'}, 'boundingbox': ['25.0722864', '25.0765204', '55.182814', '55.1880561']}
2021-08-24T18:26:37.764044+0300, INFO, Selected city 
2021-08-24T18:26:38.643199+0300, ERROR, Ошибка API (ERROR)
2021-08-24T18:26:38.646199+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (17728), thread 'WorkerThread1' (19576):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000251EC0B75E0>
    └ <WorkerThread(WorkerThread1, started daemon 19576)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000251EF14BEE0>
    └ <WorkerThread(WorkerThread1, started daemon 19576)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000251EFE12CA0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000251EFD8B0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 305, in get_city
    rst_dct = get_city_id(message)
              │           └ <telebot.types.Message object at 0x00000251EFE12CA0>
              └ <function get_city_id at 0x00000251EFCE1790>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 30, in get_city_id
    json.dump(data, file, indent=4, ensure_ascii=False)
    │    │          └ <_io.TextIOWrapper name='data.txt' mode='w' encoding='UTF-8'>
    │    └ <function dump at 0x00000251EE60C670>
    └ <module 'json' from 'C:\\Users\\Ilnur\\AppData\\Local\\Programs\\Python\\Python39\\lib\\json\\__init__.py'>

UnboundLocalError: local variable 'data' referenced before assignment
2021-08-24T18:26:38.677763+0300, ERROR, An error has been caught in function 'get_city', process 'MainProcess' (17728), thread 'WorkerThread1' (19576):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000251EC0B75E0>
    └ <WorkerThread(WorkerThread1, started daemon 19576)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000251EF14BEE0>
    └ <WorkerThread(WorkerThread1, started daemon 19576)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x00000251EFE12CA0>,)
    └ <function Command.handle.<locals>.get_city at 0x00000251EFD8B0D0>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 306, in get_city
    keyboard = create_keyboard(message, rst_dct)
               │               │        └ None
               │               └ <telebot.types.Message object at 0x00000251EFE12CA0>
               └ <function Command.handle.<locals>.create_keyboard at 0x00000251EFD8B3A0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 321, in create_keyboard
    for number, item in enumerate(dct):
                                  └ None

TypeError: 'NoneType' object is not iterable
2021-08-24T18:29:32.160040+0300, DEBUG, callback_query run
2021-08-24T18:29:35.069804+0300, INFO, دبي, Дубай, Объединённые Арабские Эмираты
2021-08-24T18:29:35.558616+0300, INFO, {'place_id': 95492960, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 25978856, 'lat': '25.072841418111143', 'lon': '55.187371116952455', 'display_name': 'Al Khamila Street, Al Barsha, Dubai, 24857, United Arab Emirates', 'address': {'road': 'Al Khamila Street', 'suburb': 'Al Barsha', 'state': 'Dubai', 'postcode': '24857', 'country': 'United Arab Emirates', 'country_code': 'ae'}, 'boundingbox': ['25.0722864', '25.0765204', '55.182814', '55.1880561']}
2021-08-24T18:29:35.566916+0300, INFO, Selected city Dubai
2021-08-24T18:29:38.986493+0300, DEBUG, List city [{'city': 'Дубай', 'caption': 'Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '11594'}, {'city': 'Дубайская пристань', 'caption': 'Дубайская пристань, Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '1686798'}, {'city': 'Аль-Барша', 'caption': 'Аль-Барша, Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '1701273'}, {'city': 'Dubai Maritime City (морской комплекс)', 'caption': 'Dubai Maritime City (морской комплекс), Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '1693868'}, {'city': 'Jumeirah Beach Residence', 'caption': 'Jumeirah Beach Residence, Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '1766308'}, {'city': 'Центр Дубая', 'caption': 'Центр Дубая, Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '1693852'}]
2021-08-24T18:29:55.417626+0300, DEBUG, callback_query run
2021-08-24T18:29:55.420628+0300, DEBUG, Выбран город Dubai id 11594
2021-08-24T18:29:56.863280+0300, DEBUG, callback_query run
2021-08-24T18:29:59.526840+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T18:29:59.641950+0300, INFO, This is get list
2021-08-24T18:29:59.645948+0300, INFO, GET requests
2021-08-24T18:30:12.044722+0300, DEBUG, callback_query run
2021-08-24T18:30:15.475343+0300, INFO, Кабул, کابل ولسوالۍ, ولایت كابل, 10013, Афганистан
2021-08-24T18:30:15.972947+0300, INFO, {'place_id': 152372204, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 251884004, 'lat': '34.52733895', 'lon': '69.17714250001092', 'display_name': 'Embassy of China, جاده غازیان, Kabul District, Kabul Province, 10013, Afghanistan', 'address': {'office': 'Embassy of China', 'road': 'جاده غازیان', 'county': 'Kabul District', 'state': 'Kabul Province', 'postcode': '10013', 'country': 'Afghanistan', 'country_code': 'af'}, 'boundingbox': ['34.5264604', '34.5281976', '69.1761186', '69.1781799']}
2021-08-24T18:30:15.983947+0300, INFO, Selected city Kabul Province
2021-08-24T18:30:20.517830+0300, DEBUG, List city [{'city': 'Кабулонга', 'caption': 'Кабулонга, Лусака, Провинция Лусака, Замбия', 'city_id': '12504853'}]
2021-08-24T18:31:52.826156+0300, DEBUG, callback_query run
2021-08-24T18:31:57.171146+0300, INFO, دبي, Дубай, Объединённые Арабские Эмираты
2021-08-24T18:31:57.657865+0300, INFO, {'place_id': 95492960, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 25978856, 'lat': '25.072841418111143', 'lon': '55.187371116952455', 'display_name': 'Al Khamila Street, Al Barsha, Dubai, 24857, United Arab Emirates', 'address': {'road': 'Al Khamila Street', 'suburb': 'Al Barsha', 'state': 'Dubai', 'postcode': '24857', 'country': 'United Arab Emirates', 'country_code': 'ae'}, 'boundingbox': ['25.0722864', '25.0765204', '55.182814', '55.1880561']}
2021-08-24T18:31:57.667069+0300, INFO, Selected city Dubai
2021-08-24T18:32:01.465413+0300, DEBUG, List city [{'city': 'Дубай', 'caption': 'Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '11594'}, {'city': 'Дубайская пристань', 'caption': 'Дубайская пристань, Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '1686798'}, {'city': 'Аль-Барша', 'caption': 'Аль-Барша, Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '1701273'}, {'city': 'Dubai Maritime City (морской комплекс)', 'caption': 'Dubai Maritime City (морской комплекс), Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '1693868'}, {'city': 'Jumeirah Beach Residence', 'caption': 'Jumeirah Beach Residence, Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '1766308'}, {'city': 'Центр Дубая', 'caption': 'Центр Дубая, Дубай, Дубай, Объединенные Арабские Эмираты', 'city_id': '1693852'}]
2021-08-24T18:32:06.235003+0300, INFO, Кабул, کابل ولسوالۍ, ولایت كابل, 10013, Афганистан
2021-08-24T18:32:06.724024+0300, INFO, {'place_id': 152372204, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 251884004, 'lat': '34.52733895', 'lon': '69.17714250001092', 'display_name': 'Embassy of China, جاده غازیان, Kabul District, Kabul Province, 10013, Afghanistan', 'address': {'office': 'Embassy of China', 'road': 'جاده غازیان', 'county': 'Kabul District', 'state': 'Kabul Province', 'postcode': '10013', 'country': 'Afghanistan', 'country_code': 'af'}, 'boundingbox': ['34.5264604', '34.5281976', '69.1761186', '69.1781799']}
2021-08-24T18:32:06.734026+0300, INFO, Selected city Kabul
2021-08-24T18:32:10.587604+0300, DEBUG, List city [{'city': 'Кобулети', 'caption': 'Кобулети, Аджария, Грузия', 'city_id': '1671980'}, {'city': 'Кахулуи', 'caption': 'Кахулуи, Гавайи, США', 'city_id': '1454533'}, {'city': 'Заповедник Кабулабула', 'caption': 'Заповедник Кабулабула, Zambezi Region, Намибия', 'city_id': '12473585'}]
2021-08-24T18:32:52.292546+0300, INFO, Баку, Ясамальский район, Бакинская Администрация, Апшерон, Азербайджан
2021-08-24T18:32:52.817123+0300, INFO, {'place_id': 160739711, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 299469586, 'lat': '40.376151', 'lon': '49.83311840818092', 'display_name': 'Beşmərtəbə, Fizuli Street, Baku, Yasamal Raion, Baku City, Baku, AZ1009, Azerbaijan', 'address': {'building': 'Beşmərtəbə', 'road': 'Fizuli Street', 'city': 'Baku', 'municipality': 'Yasamal Raion', 'state_district': 'Baku City', 'state': 'Baku', 'postcode': 'AZ1009', 'country': 'Azerbaijan', 'country_code': 'az'}, 'boundingbox': ['40.3759151', '40.376378', '49.8324039', '49.8332522']}
2021-08-24T18:32:52.825114+0300, INFO, Selected city Baku
2021-08-24T18:32:56.507350+0300, DEBUG, List city [{'city': 'Баку', 'caption': 'Баку, Азербайджан', 'city_id': '1637231'}, {'city': 'Бакуриани', 'caption': 'Бакуриани, Самцхе-Джавахети, Грузия', 'city_id': '1911335'}, {'city': 'Бильгях', 'caption': 'Бильгях, Баку, Азербайджан', 'city_id': '48860'}]
2021-08-24T18:36:11.938787+0300, INFO, Москва, Центральный федеральный округ, Россия
2021-08-24T18:36:12.430369+0300, INFO, {'place_id': 259682628, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'relation', 'osm_id': 8857806, 'lat': '55.7520439', 'lon': '37.61850028109701', 'display_name': 'Kremlin and Red Square, Moscow, Дворцовая площадь, 19, Tverskoy District, Moscow, Central Federal District, 103073, Russia', 'address': {'historic': 'Kremlin and Red Square, Moscow', 'road': 'Дворцовая площадь', 'quarter': '19', 'suburb': 'Tverskoy District', 'city': 'Moscow', 'state': 'Moscow', 'region': 'Central Federal District', 'postcode': '103073', 'country': 'Russia', 'country_code': 'ru'}, 'boundingbox': ['55.7480503', '55.7560472', '37.6123958', '37.6254805']}
2021-08-24T18:36:12.439385+0300, INFO, Selected city Moscow
2021-08-24T18:36:19.011686+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Москва', 'caption': 'Москва, Айдахо, США', 'city_id': '1449014'}, {'city': 'Домодедово, Московская область', 'caption': 'Домодедово, Московская область, Подмосковье (Московская область), Россия', 'city_id': '1118662'}]
2021-08-24T18:36:20.891679+0300, DEBUG, callback_query run
2021-08-24T18:36:30.333798+0300, INFO, Лондон, Большой Лондон, Англия, Великобритания
2021-08-24T18:36:30.861101+0300, INFO, {'place_id': 157327098, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 267214563, 'lat': '51.5073171', 'lon': '-0.12765535893207325', 'display_name': 'Charles I, Charing Cross, Covent Garden, Westminster, London, Greater London, England, SW1, United Kingdom', 'address': {'historic': 'Charles I', 'road': 'Charing Cross', 'suburb': 'Covent Garden', 'city': 'Westminster', 'state_district': 'Greater London', 'state': 'England', 'postcode': 'SW1', 'country': 'United Kingdom', 'country_code': 'gb'}, 'boundingbox': ['51.5073016', '51.5073325', '-0.1276759', '-0.1276348']}
2021-08-24T18:36:30.869099+0300, INFO, Selected city Westminster
2021-08-24T18:36:52.874713+0300, DEBUG, List city [{'city': 'Сити-оф-Вестминстер', 'caption': 'Сити-оф-Вестминстер, Лондон, Англия, Великобритания (Westminster)', 'city_id': '1695988'}, {'city': 'Вестминстер (штат Колорадо)', 'caption': 'Вестминстер (штат Колорадо), Колорадо, США', 'city_id': '1489635'}, {'city': 'Вестминстер (штат Колорадо)', 'caption': 'Вестминстер (штат Колорадо), Мэриленд, США', 'city_id': '1426470'}, {'city': 'Вестминстер (штат Колорадо)', 'caption': 'Вестминстер (штат Колорадо), Калифорния, США', 'city_id': '1466874'}, {'city': 'Виктория', 'caption': 'Виктория, Лондон, Графство Большой Лондон, Англия, Великобритания', 'city_id': '1762415'}]
2021-08-24T18:37:54.534319+0300, INFO, Берлин, 10117, Германия
2021-08-24T18:37:55.053268+0300, INFO, {'place_id': 258492126, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 881245035, 'lat': '52.5164734', 'lon': '13.389002013634213', 'display_name': 'U Unter den Linden, Unter den Linden, Mitte, Berlin, 10117, Germany', 'address': {'railway': 'U Unter den Linden', 'road': 'Unter den Linden', 'suburb': 'Mitte', 'borough': 'Mitte', 'city': 'Berlin', 'state': 'Berlin', 'postcode': '10117', 'country': 'Germany', 'country_code': 'de'}, 'boundingbox': ['52.5160503', '52.5172182', '13.3888355', '13.3894195']}
2021-08-24T18:37:55.309904+0300, INFO, Selected city Berlin
2021-08-24T18:37:58.513865+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Berlin', 'caption': 'Berlin, Seedorf, Schleswig-Holstein, Germany', 'city_id': '12492985'}, {'city': 'Берлинер-Шоссе', 'caption': 'Берлинер-Шоссе, Магдебург, Саксония-Анхальт (земля), Германия', 'city_id': '11112368'}]
2021-08-24T18:46:34.754375+0300, DEBUG, callback_query run
2021-08-24T18:46:37.241516+0300, INFO, Your address 17Е к1, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-24T18:46:37.568969+0300, INFO, Selected city Казань
2021-08-24T18:46:40.305947+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-24T18:46:42.177055+0300, DEBUG, callback_query run
2021-08-24T18:46:42.180052+0300, DEBUG, Выбран город Казань id 1215771
2021-08-24T18:46:44.137236+0300, DEBUG, callback_query run
2021-08-24T18:46:47.915698+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T18:46:48.036942+0300, INFO, This is get list
2021-08-24T18:46:48.039943+0300, INFO, GET requests
2021-08-24T18:47:02.840642+0300, DEBUG, callback_query run
2021-08-24T18:47:11.395872+0300, INFO, Берлин, 10117, Германия
2021-08-24T18:47:11.946000+0300, INFO, {'place_id': 258492126, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 881245035, 'lat': '52.5164734', 'lon': '13.389002013634213', 'display_name': 'U Unter den Linden, Unter den Linden, Mitte, Berlin, 10117, Germany', 'address': {'railway': 'U Unter den Linden', 'road': 'Unter den Linden', 'suburb': 'Mitte', 'borough': 'Mitte', 'city': 'Berlin', 'state': 'Berlin', 'postcode': '10117', 'country': 'Germany', 'country_code': 'de'}, 'boundingbox': ['52.5160503', '52.5172182', '13.3888355', '13.3894195']}
2021-08-24T18:47:12.096193+0300, INFO, Selected city Berlin
2021-08-24T18:47:16.326611+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Berlin', 'caption': 'Berlin, Seedorf, Schleswig-Holstein, Germany', 'city_id': '12492985'}, {'city': 'Берлинер-Шоссе', 'caption': 'Берлинер-Шоссе, Магдебург, Саксония-Анхальт (земля), Германия', 'city_id': '11112368'}]
2021-08-24T18:48:06.354631+0300, DEBUG, callback_query run
2021-08-24T18:48:12.492321+0300, INFO, Берлин, 10117, Германия
2021-08-24T18:48:13.031013+0300, INFO, {'place_id': 258492126, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 881245035, 'lat': '52.5164734', 'lon': '13.389002013634213', 'display_name': 'U Unter den Linden, Unter den Linden, Mitte, Berlin, 10117, Germany', 'address': {'railway': 'U Unter den Linden', 'road': 'Unter den Linden', 'suburb': 'Mitte', 'borough': 'Mitte', 'city': 'Berlin', 'state': 'Berlin', 'postcode': '10117', 'country': 'Germany', 'country_code': 'de'}, 'boundingbox': ['52.5160503', '52.5172182', '13.3888355', '13.3894195']}
2021-08-24T18:48:13.150989+0300, INFO, Selected city Berlin
2021-08-24T18:48:16.263836+0300, DEBUG, List city [{'city': 'Берлин', 'caption': 'Берлин, Германия', 'city_id': '332483'}, {'city': 'Митте', 'caption': 'Митте, Берлин, Германия', 'city_id': '1662710'}, {'city': 'Шарлоттенбург', 'caption': 'Шарлоттенбург, Берлин, Германия', 'city_id': '10871331'}, {'city': 'Тегель', 'caption': 'Тегель, Берлин, Германия', 'city_id': '10979252'}, {'city': 'Berlin', 'caption': 'Berlin, Seedorf, Schleswig-Holstein, Germany', 'city_id': '12492985'}, {'city': 'Берлинер-Шоссе', 'caption': 'Берлинер-Шоссе, Магдебург, Саксония-Анхальт (земля), Германия', 'city_id': '11112368'}]
2021-08-24T18:49:07.912232+0300, DEBUG, callback_query run
2021-08-24T18:49:17.027444+0300, INFO, Пхукет, Таиланд
2021-08-24T18:49:17.538046+0300, INFO, {'place_id': 110782212, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 89395597, 'lat': '7.938486387932948', 'lon': '98.35218866626495', 'display_name': 'Phuket, Phuket Province, 83120, Thailand', 'address': {'city': 'Phuket', 'state': 'Phuket Province', 'postcode': '83120', 'country': 'Thailand', 'country_code': 'th'}, 'boundingbox': ['7.937797', '7.944318', '98.350281', '98.363009']}
2021-08-24T18:49:17.731675+0300, INFO, Selected city Phuket
2021-08-24T18:49:23.986785+0300, DEBUG, List city [{'city': 'Пхукет (и округа)', 'caption': 'Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1708722'}, {'city': 'Карон', 'caption': 'Карон, Пхукет (провинция), Таиланд', 'city_id': '1806864'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Ката', 'caption': 'Ката, Карон, Пхукет (провинция), Таиланд', 'city_id': '1740931'}, {'city': 'Камала', 'caption': 'Камала, Пхукет (провинция), Таиланд', 'city_id': '1806850'}, {'city': 'Най-Харн', 'caption': 'Най-Харн, Равай, Пхукет (провинция), Таиланд', 'city_id': '1771989'}, {'city': 'Лагуна', 'caption': 'Лагуна, Чонг-Тхале, Пхукет (провинция), Таиланд', 'city_id': '1772729'}, {'city': 'Старый Пхукет', 'caption': 'Старый Пхукет, Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1746494'}]
2021-08-24T18:49:26.900626+0300, DEBUG, callback_query run
2021-08-24T18:49:26.903628+0300, DEBUG, Выбран город Phuket id 1806864
2021-08-24T18:49:29.120361+0300, DEBUG, callback_query run
2021-08-24T18:49:31.626939+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T18:49:31.753436+0300, INFO, This is get list
2021-08-24T18:49:31.756417+0300, INFO, GET requests
2021-08-24T18:49:46.228319+0300, DEBUG, callback_query run
2021-08-24T18:49:57.280229+0300, INFO, Анталья, Муратпаша, Анталья, Средиземноморский регион, 07010, Турция
2021-08-24T18:49:57.799665+0300, INFO, {'place_id': 190531672, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 436435055, 'lat': '36.90097335', 'lon': '30.695501049999997', 'display_name': 'Cumhuriyet Mahallesi, Antalya, Muratpaşa, Antalya, Mediterranean Region, Turkey', 'address': {'suburb': 'Cumhuriyet Mahallesi', 'city': 'Antalya', 'town': 'Muratpaşa', 'province': 'Antalya', 'region': 'Mediterranean Region', 'country': 'Turkey', 'country_code': 'tr'}, 'boundingbox': ['36.9008553', '36.9010914', '30.6953535', '30.6956486']}
2021-08-24T18:49:57.925641+0300, INFO, Selected city Antalya
2021-08-24T18:50:01.076097+0300, DEBUG, List city [{'city': 'Анталья', 'caption': 'Анталья, Анталья (провинция), Турция', 'city_id': '1355047'}, {'city': 'Кемер', 'caption': 'Кемер, Анталья (провинция), Турция', 'city_id': '1343725'}, {'city': 'Коньяалты', 'caption': 'Коньяалты, Анталья (провинция), Турция', 'city_id': '1798897'}, {'city': 'Белек', 'caption': 'Белек, Анталья (провинция), Турция', 'city_id': '1351110'}, {'city': 'Калейчи', 'caption': 'Калейчи, Анталья, Анталья (провинция), Турция', 'city_id': '1725097'}, {'city': 'Лара', 'caption': 'Лара, Анталья, Анталья (провинция), Турция', 'city_id': '1710603'}, {'city': 'Аланья', 'caption': 'Аланья, Анталья (провинция), Турция', 'city_id': '1340186'}, {'city': 'Сиде', 'caption': 'Сиде, Анталья (провинция), Турция', 'city_id': '1640749'}]
2021-08-24T18:50:04.115424+0300, DEBUG, callback_query run
2021-08-24T18:50:04.119425+0300, DEBUG, Выбран город Antalya id 1355047
2021-08-24T18:50:05.882663+0300, DEBUG, callback_query run
2021-08-24T18:50:07.832147+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-24T18:50:07.991324+0300, INFO, This is get list
2021-08-24T18:50:07.994306+0300, INFO, GET requests
2021-08-24T18:50:18.013205+0300, DEBUG, callback_query run
2021-08-24T18:50:30.859920+0300, INFO, Нью-Йорк, Соединённые Штаты Америки
2021-08-24T18:50:31.404749+0300, INFO, {'place_id': 212523510, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 575213527, 'lat': '40.712742950000006', 'lon': '-74.00595024412516', 'display_name': 'New York City Hall, 260, Broadway, Lower Manhattan, Civic Center, Manhattan, New York County, New York, 10000, United States', 'address': {'amenity': 'New York City Hall', 'house_number': '260', 'road': 'Broadway', 'quarter': 'Lower Manhattan', 'neighbourhood': 'Civic Center', 'suburb': 'Manhattan', 'county': 'New York County', 'city': 'New York', 'state': 'New York', 'postcode': '10000', 'country': 'United States', 'country_code': 'us'}, 'boundingbox': ['40.7124463', '40.7130195', '-74.0064366', '-74.0055703']}
2021-08-24T18:50:31.582188+0300, INFO, Selected city New York
2021-08-24T18:50:34.928164+0300, DEBUG, List city [{'city': 'Нью-Йорк', 'caption': 'Нью-Йорк, Нью-Йорк, США (New York City)', 'city_id': '1506246'}, {'city': 'Центральный Нью-Йорк', 'caption': 'Центральный Нью-Йорк, Нью-Йорк, Нью-Йорк, США', 'city_id': '10819060'}, {'city': 'Манхэттен', 'caption': 'Манхэттен, Нью-Йорк, Нью-Йорк, США', 'city_id': '1535616'}, {'city': 'Бруклин', 'caption': 'Бруклин, Нью-Йорк, США', 'city_id': '1496773'}, {'city': 'Ист-Нью-Йорк', 'caption': 'Ист-Нью-Йорк, Бруклин, Нью-Йорк, США', 'city_id': '1748361'}, {'city': 'Мидтаун', 'caption': 'Мидтаун, Нью-Йорк, Нью-Йорк, США', 'city_id': '1737998'}]
2021-08-24T18:50:37.942982+0300, DEBUG, callback_query run
2021-08-24T18:50:37.945880+0300, DEBUG, Выбран город New York id 1506246
2021-08-24T18:50:39.542322+0300, DEBUG, callback_query run
2021-08-24T18:50:54.763335+0300, INFO, run get_result
2021-08-24T18:50:54.766331+0300, INFO, run get_list_hotel
2021-08-24T18:50:54.771319+0300, INFO, This is get list
2021-08-24T18:50:54.773320+0300, INFO, GET requests
2021-08-24T18:51:00.764042+0300, INFO, Run send_result
2021-08-25T13:33:58.004257+0300, INFO, callback_query run
2021-08-25T13:34:04.074441+0300, INFO, Москва, Центральный федеральный округ, Россия
2021-08-25T13:34:04.555336+0300, INFO, {'place_id': 259682628, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'relation', 'osm_id': 8857806, 'lat': '55.7520439', 'lon': '37.61850028109701', 'display_name': 'Kremlin and Red Square, Moscow, Дворцовая площадь, 19, Tverskoy District, Moscow, Central Federal District, 103073, Russia', 'address': {'historic': 'Kremlin and Red Square, Moscow', 'road': 'Дворцовая площадь', 'quarter': '19', 'suburb': 'Tverskoy District', 'city': 'Moscow', 'state': 'Moscow', 'region': 'Central Federal District', 'postcode': '103073', 'country': 'Russia', 'country_code': 'ru'}, 'boundingbox': ['55.7480503', '55.7560472', '37.6123958', '37.6254805']}
2021-08-25T13:34:04.660403+0300, INFO, Selected city Moscow
2021-08-25T13:34:09.074201+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Москва', 'caption': 'Москва, Айдахо, США', 'city_id': '1449014'}, {'city': 'Домодедово, Московская область', 'caption': 'Домодедово, Московская область, Подмосковье (Московская область), Россия', 'city_id': '1118662'}]
2021-08-25T13:34:11.849804+0300, INFO, callback_query run
2021-08-25T13:34:11.852791+0300, INFO, Выбран город: Moscow id: 1153093
2021-08-25T13:34:13.794724+0300, INFO, callback_query run
2021-08-25T13:34:16.873140+0300, DEBUG, Количество отелей: 6 func: get_page_size
2021-08-25T13:34:16.972752+0300, INFO, This is get list
2021-08-25T13:34:16.975749+0300, INFO, GET requests
2021-08-25T13:51:38.174291+0300, INFO, callback_query run
2021-08-25T13:51:42.983794+0300, INFO, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, Россия
2021-08-25T13:51:43.492219+0300, INFO, {'place_id': 183243645, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 397258267, 'lat': '55.781867207386696', 'lon': '49.12382579635655', 'display_name': 'Marselya Salimzhanova Street, Staro-Tatarskaya Sloboda, Вахитовский район, Kazan, городской округ Казань, Tatarstan, Volga Federal District, 420107, Russia', 'address': {'road': 'Marselya Salimzhanova Street', 'suburb': 'Staro-Tatarskaya Sloboda', 'city_district': 'Вахитовский район', 'city': 'Kazan', 'county': 'городской округ Казань', 'state': 'Tatarstan', 'region': 'Volga Federal District', 'postcode': '420107', 'country': 'Russia', 'country_code': 'ru'}, 'boundingbox': ['55.7816781', '55.7822394', '49.1233541', '49.1240107']}
2021-08-25T13:51:43.622814+0300, INFO, Selected city Kazan
2021-08-25T13:51:46.282577+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}, {'city': 'Казанеика', 'caption': 'Казанеика, Аргинон, Западная Греция, Греция', 'city_id': '10587307'}]
2021-08-25T13:51:48.074767+0300, INFO, callback_query run
2021-08-25T13:51:48.077738+0300, INFO, Выбран город: Kazan id: 1215771
2021-08-25T13:51:50.062225+0300, INFO, callback_query run
2021-08-25T13:51:53.364926+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-25T13:51:53.454189+0300, INFO, This is get list
2021-08-25T13:51:53.460189+0300, INFO, GET requests
2021-08-25T14:31:20.075576+0300, INFO, callback_query run
2021-08-25T14:31:22.381399+0300, INFO, Your address 17Е к3, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-25T14:31:22.495867+0300, INFO, Selected city Казань
2021-08-25T14:31:25.834189+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-25T14:31:27.332908+0300, INFO, callback_query run
2021-08-25T14:31:27.335905+0300, INFO, Выбран город: Казань id: 1215771
2021-08-25T14:31:29.287420+0300, INFO, callback_query run
2021-08-25T14:31:33.228473+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-25T14:31:33.349916+0300, INFO, This is get list
2021-08-25T14:31:33.353917+0300, INFO, GET requests
2021-08-25T14:31:36.812489+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-25T14:31:39.020617+0300, INFO, callback_query run
2021-08-25T14:31:45.383532+0300, INFO, Патонг, Пхукет, 83150, Таиланд
2021-08-25T14:31:45.914849+0300, INFO, {'place_id': 54621117, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'node', 'osm_id': 4615633795, 'lat': '7.8929007', 'lon': '98.2968706', 'display_name': "Rico's Hotel, Food Alley, Pa Tong, Phuket Province, 83150, Thailand", 'address': {'tourism': "Rico's Hotel", 'road': 'Food Alley', 'town': 'Pa Tong', 'state': 'Phuket Province', 'postcode': '83150', 'country': 'Thailand', 'country_code': 'th'}, 'boundingbox': ['7.8928507', '7.8929507', '98.2968206', '98.2969206']}
2021-08-25T14:31:46.082864+0300, INFO, Selected city Pa Tong
2021-08-25T14:31:48.777333+0300, DEBUG, List city [{'city': 'Батуми', 'caption': 'Батуми, Аджария, Грузия', 'city_id': '1644171'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Сан-Патонг', 'caption': 'Сан-Патонг, Провинция Чианг-Май, Таиланд', 'city_id': '1643869'}, {'city': 'Тонг-Сала', 'caption': 'Тонг-Сала, Остров Пханган, Провинция Сураттани, Таиланд', 'city_id': '1714312'}, {'city': 'Район Гонконга Causeway Bay', 'caption': 'Район Гонконга Causeway Bay, Гонконг, САР Гонконг', 'city_id': '851'}, {'city': 'Стоун-Маунтин', 'caption': 'Стоун-Маунтин, Джорджия, США', 'city_id': '1461660'}]
2021-08-25T14:31:52.411215+0300, INFO, callback_query run
2021-08-25T14:31:52.414512+0300, INFO, Выбран город: Pa Tong id: 1806849
2021-08-25T14:31:55.322825+0300, INFO, callback_query run
2021-08-25T14:31:57.325545+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-25T14:31:57.452574+0300, INFO, This is get list
2021-08-25T14:31:57.456543+0300, INFO, GET requests
2021-08-25T14:32:03.672858+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-25T14:32:03.674857+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-25T14:32:03.676846+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-25T14:32:03.678851+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-25T14:32:03.679847+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-25T14:32:03.681847+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-25T14:45:22.839492+0300, INFO, callback_query run
2021-08-25T14:45:27.831381+0300, INFO, Нью-Йорк, Соединённые Штаты Америки
2021-08-25T14:45:28.356767+0300, INFO, {'place_id': 212523510, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 575213527, 'lat': '40.712742950000006', 'lon': '-74.00595024412516', 'display_name': 'New York City Hall, 260, Broadway, Lower Manhattan, Civic Center, Manhattan, New York County, New York, 10000, United States', 'address': {'amenity': 'New York City Hall', 'house_number': '260', 'road': 'Broadway', 'quarter': 'Lower Manhattan', 'neighbourhood': 'Civic Center', 'suburb': 'Manhattan', 'county': 'New York County', 'city': 'New York', 'state': 'New York', 'postcode': '10000', 'country': 'United States', 'country_code': 'us'}, 'boundingbox': ['40.7124463', '40.7130195', '-74.0064366', '-74.0055703']}
2021-08-25T14:45:28.471601+0300, INFO, Selected city New York
2021-08-25T14:45:32.347793+0300, DEBUG, List city [{'city': 'Нью-Йорк', 'caption': 'Нью-Йорк, Нью-Йорк, США (New York City)', 'city_id': '1506246'}, {'city': 'Центральный Нью-Йорк', 'caption': 'Центральный Нью-Йорк, Нью-Йорк, Нью-Йорк, США', 'city_id': '10819060'}, {'city': 'Манхэттен', 'caption': 'Манхэттен, Нью-Йорк, Нью-Йорк, США', 'city_id': '1535616'}, {'city': 'Бруклин', 'caption': 'Бруклин, Нью-Йорк, США', 'city_id': '1496773'}, {'city': 'Ист-Нью-Йорк', 'caption': 'Ист-Нью-Йорк, Бруклин, Нью-Йорк, США', 'city_id': '1748361'}, {'city': 'Мидтаун', 'caption': 'Мидтаун, Нью-Йорк, Нью-Йорк, США', 'city_id': '1737998'}]
2021-08-25T14:45:35.319113+0300, INFO, callback_query run
2021-08-25T14:45:35.322342+0300, INFO, Выбран город: New York id: 1506246
2021-08-25T14:45:39.359149+0300, INFO, callback_query run
2021-08-25T14:45:52.785314+0300, INFO, run get_result
2021-08-25T14:45:52.787299+0300, INFO, run get_list_hotel
2021-08-25T14:45:52.791315+0300, INFO, This is get list
2021-08-25T14:45:52.794296+0300, INFO, GET requests
2021-08-25T14:45:59.096774+0300, INFO, Run send_result
2021-08-28T15:28:14.165772+0300, INFO, HELP, Madingo-Kayes, Kouilou, Республика Конго
2021-08-28T15:28:14.653021+0300, INFO, {'place_id': 303894869, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 906286130, 'lat': '-3.9836771', 'lon': '11.318647406577607', 'display_name': 'HELP Congo, RN 5, Tandou Ngoma, Madingo-Kayes, Kouilou, Congo-Brazzaville', 'address': {'amenity': 'HELP Congo', 'road': 'RN 5', 'hamlet': 'Tandou Ngoma', 'county': 'Madingo-Kayes', 'state': 'Kouilou', 'country': 'Congo-Brazzaville', 'country_code': 'cg'}, 'boundingbox': ['-3.983942', '-3.9831294', '11.3178579', '11.3192154']}
2021-08-28T15:28:14.898801+0300, INFO, Selected city Kouilou
2021-08-28T15:28:18.864323+0300, DEBUG, List city [{'city': 'Национальный парк Конкуати-Дули', 'caption': 'Национальный парк Конкуати-Дули, Куилу, Республика Конго', 'city_id': '10418926'}]
2021-08-28T15:28:39.802576+0300, INFO, HELP, Madingo-Kayes, Kouilou, Республика Конго
2021-08-28T15:28:40.277958+0300, INFO, {'place_id': 303894869, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 906286130, 'lat': '-3.9836771', 'lon': '11.318647406577607', 'display_name': 'HELP Congo, RN 5, Tandou Ngoma, Madingo-Kayes, Kouilou, Congo-Brazzaville', 'address': {'amenity': 'HELP Congo', 'road': 'RN 5', 'hamlet': 'Tandou Ngoma', 'county': 'Madingo-Kayes', 'state': 'Kouilou', 'country': 'Congo-Brazzaville', 'country_code': 'cg'}, 'boundingbox': ['-3.983942', '-3.9831294', '11.3178579', '11.3192154']}
2021-08-28T15:28:40.401095+0300, INFO, Selected city Kouilou
2021-08-28T15:28:43.029905+0300, DEBUG, List city [{'city': 'Национальный парк Конкуати-Дули', 'caption': 'Национальный парк Конкуати-Дули, Куилу, Республика Конго', 'city_id': '10418926'}]
2021-08-28T15:29:30.188919+0300, INFO, HELP, Madingo-Kayes, Kouilou, Республика Конго
2021-08-28T15:29:30.664384+0300, INFO, {'place_id': 303894869, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 906286130, 'lat': '-3.9836771', 'lon': '11.318647406577607', 'display_name': 'HELP Congo, RN 5, Tandou Ngoma, Madingo-Kayes, Kouilou, Congo-Brazzaville', 'address': {'amenity': 'HELP Congo', 'road': 'RN 5', 'hamlet': 'Tandou Ngoma', 'county': 'Madingo-Kayes', 'state': 'Kouilou', 'country': 'Congo-Brazzaville', 'country_code': 'cg'}, 'boundingbox': ['-3.983942', '-3.9831294', '11.3178579', '11.3192154']}
2021-08-28T15:29:30.954320+0300, INFO, Selected city Kouilou
2021-08-28T15:29:34.173436+0300, DEBUG, List city [{'city': 'Национальный парк Конкуати-Дули', 'caption': 'Национальный парк Конкуати-Дули, Куилу, Республика Конго', 'city_id': '10418926'}]
2021-08-28T15:29:38.716516+0300, INFO, Старт, Саскылахский национальный наслег, Анабарский национальный улус, Республика Саха (Якутия), Дальневосточный федеральный округ, Россия
2021-08-28T15:29:39.205269+0300, INFO, {'place_id': 258946546, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'relation', 'osm_id': 2380991, 'lat': '72.28380185', 'lon': '115.50289393194782', 'display_name': 'Саскылахский национальный наслег, Anabarsky Ulus, Sakha Republic, Far Eastern Federal District, 678440, Russia', 'address': {'municipality': 'Саскылахский национальный наслег', 'county': 'Anabarsky Ulus', 'state': 'Sakha Republic', 'region': 'Far Eastern Federal District', 'postcode': '678440', 'country': 'Russia', 'country_code': 'ru'}, 'boundingbox': ['70.751155', '73.8165175', '113.1357479', '120.4372784']}
2021-08-28T15:29:39.534889+0300, INFO, Selected city Sakha
2021-08-28T15:29:44.231668+0300, DEBUG, List city [{'city': 'Южно-Сахалинск', 'caption': 'Южно-Сахалинск, Сахалинская область, Россия', 'city_id': '1137550'}, {'city': 'Якутск', 'caption': 'Якутск, Республика Саха, Россия', 'city_id': '1103557'}, {'city': 'Нерюнгри', 'caption': 'Нерюнгри, Республика Саха, Россия', 'city_id': '1152313'}, {'city': 'Мирный', 'caption': 'Мирный, Республика Саха, Россия', 'city_id': '1155080'}, {'city': 'Холмск', 'caption': 'Холмск, Сахалинская область, Россия', 'city_id': '1119072'}, {'city': 'Алдан', 'caption': 'Алдан, Республика Саха, Россия', 'city_id': '1164291'}, {'city': 'Корсаков', 'caption': 'Корсаков, Сахалинская область, Россия', 'city_id': '1151276'}, {'city': 'Ленск', 'caption': 'Ленск, Республика Саха, Россия', 'city_id': '10409392'}]
2021-08-28T15:58:43.362379+0300, INFO, callback_query run
2021-08-28T15:58:48.970597+0300, INFO, callback_query run
2021-08-28T15:59:04.535188+0300, INFO, Москва, Центральный федеральный округ, Россия
2021-08-28T15:59:05.013855+0300, INFO, {'place_id': 259682628, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'relation', 'osm_id': 8857806, 'lat': '55.7520439', 'lon': '37.61850028109701', 'display_name': 'Kremlin and Red Square, Moscow, Дворцовая площадь, 19, Tverskoy District, Moscow, Central Federal District, 103073, Russia', 'address': {'historic': 'Kremlin and Red Square, Moscow', 'road': 'Дворцовая площадь', 'quarter': '19', 'suburb': 'Tverskoy District', 'city': 'Moscow', 'state': 'Moscow', 'region': 'Central Federal District', 'postcode': '103073', 'country': 'Russia', 'country_code': 'ru'}, 'boundingbox': ['55.7480503', '55.7560472', '37.6123958', '37.6254805']}
2021-08-28T15:59:05.116682+0300, INFO, Selected city Moscow
2021-08-28T15:59:08.558100+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Москва', 'caption': 'Москва, Айдахо, США', 'city_id': '1449014'}, {'city': 'Домодедово, Московская область', 'caption': 'Домодедово, Московская область, Подмосковье (Московская область), Россия', 'city_id': '1118662'}]
2021-08-28T15:59:11.148536+0300, INFO, callback_query run
2021-08-28T15:59:11.153545+0300, INFO, Выбран город: Moscow id: 1153093
2021-08-28T15:59:13.754068+0300, INFO, callback_query run
2021-08-28T15:59:16.405860+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-28T15:59:16.521992+0300, INFO, This is get list
2021-08-28T15:59:16.524992+0300, INFO, GET requests
2021-08-28T15:59:23.089909+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.092899+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.094898+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.095898+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.096904+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.098901+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.099899+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.100905+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.103987+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.108254+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.110261+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.111253+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.112253+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.113253+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.115244+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.116253+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T15:59:23.118227+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:25.971604+0300, INFO, callback_query run
2021-08-28T17:01:32.969149+0300, INFO, Пхукет, Таиланд
2021-08-28T17:01:33.485688+0300, INFO, {'place_id': 110782212, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 89395597, 'lat': '7.938486387932948', 'lon': '98.35218866626495', 'display_name': 'Phuket, Phuket Province, 83120, Thailand', 'address': {'city': 'Phuket', 'state': 'Phuket Province', 'postcode': '83120', 'country': 'Thailand', 'country_code': 'th'}, 'boundingbox': ['7.937797', '7.944318', '98.350281', '98.363009']}
2021-08-28T17:01:33.717408+0300, INFO, Selected city Phuket
2021-08-28T17:01:36.645150+0300, DEBUG, List city [{'city': 'Пхукет (и округа)', 'caption': 'Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1708722'}, {'city': 'Карон', 'caption': 'Карон, Пхукет (провинция), Таиланд', 'city_id': '1806864'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Ката', 'caption': 'Ката, Карон, Пхукет (провинция), Таиланд', 'city_id': '1740931'}, {'city': 'Камала', 'caption': 'Камала, Пхукет (провинция), Таиланд', 'city_id': '1806850'}, {'city': 'Най-Харн', 'caption': 'Най-Харн, Равай, Пхукет (провинция), Таиланд', 'city_id': '1771989'}, {'city': 'Лагуна', 'caption': 'Лагуна, Чонг-Тхале, Пхукет (провинция), Таиланд', 'city_id': '1772729'}, {'city': 'Старый Пхукет', 'caption': 'Старый Пхукет, Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1746494'}]
2021-08-28T17:01:40.855012+0300, INFO, callback_query run
2021-08-28T17:01:40.870658+0300, INFO, Выбран город: Phuket id: 1806849
2021-08-28T17:01:42.772697+0300, INFO, callback_query run
2021-08-28T17:01:45.040735+0300, INFO, callback_query run
2021-08-28T17:01:47.529994+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-28T17:01:47.529994+0300, DEBUG, Количество отелей: 3 func: get_page_size
2021-08-28T17:01:47.630204+0300, INFO, This is get list
2021-08-28T17:01:47.630204+0300, INFO, GET requests
2021-08-28T17:01:47.661449+0300, INFO, This is get list
2021-08-28T17:01:47.667485+0300, INFO, GET requests
2021-08-28T17:01:52.518243+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:52.521015+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:52.523005+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:52.524012+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:52.526007+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:52.531008+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:53.132422+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:53.135398+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:53.137401+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:53.138401+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:53.140401+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:53.141413+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T17:01:53.142422+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:18:39.057451+0300, INFO, callback_query run
2021-08-28T20:18:41.549348+0300, INFO, Your address 17Е к3, улица Хусаина Мавлютова, Горки-1, Приволжский район, Казань, городской округ Казань, Татарстан, Приволжский федеральный округ, 420101, Россия
2021-08-28T20:18:41.704481+0300, INFO, Selected city Казань
2021-08-28T20:18:45.616076+0300, DEBUG, List city [{'city': 'Казань', 'caption': 'Казань, Республика Татарстан, Россия', 'city_id': '1215771'}, {'city': 'Казань (и окрестности)', 'caption': 'Казань (и окрестности), Республика Татарстан, Россия', 'city_id': '1794547'}, {'city': 'Центр города Казань', 'caption': 'Центр города Казань, Казань, Республика Татарстан, Россия', 'city_id': '10874035'}]
2021-08-28T20:18:47.496172+0300, INFO, callback_query run
2021-08-28T20:18:47.499171+0300, INFO, Выбран город: Казань id: 1215771
2021-08-28T20:18:54.147646+0300, INFO, callback_query run
2021-08-28T20:18:58.771716+0300, DEBUG, Количество отелей: 4 func: get_page_size
2021-08-28T20:18:58.892702+0300, INFO, This is get list
2021-08-28T20:18:58.895702+0300, INFO, GET requests
2021-08-28T20:19:03.078978+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:19:03.080650+0300, INFO, Next_list : Yes,  page_number: 1
2021-08-28T20:19:03.083642+0300, INFO, The transition to the page has been prepared 2. Param: page_size 4 len(list): 3
2021-08-28T20:19:03.085638+0300, INFO, Data result_list ['Отель: Отель «Дон Кихот»\nРейтинг: 9,0\nЦена за сутки: 6,300 RUB\nАдрес: Россия, Казань, ул. Бурхана Шахиди, 11/16\nУдаленность от центра города 1.6 км.\nСсылка на страницу бронирования:\nhttps://ru.hotels.com/ho1836476608/', 'Отель: Хостел «Сарацин» на Большой Красной\nРейтинг: Без рейтинга\nЦена за сутки: 14,500 RUB\nАдрес: Россия, Казань, ул. Большая Красная, 20\nУдаленность от центра города 1.1 км.\nСсылка на страницу бронирования:\nhttps://ru.hotels.com/ho555550/', 'Отель: Отель Kazan Palace by Tasıgo\nРейтинг: 9,2\nЦена за сутки: 144,000 RUB\nАдрес: Россия, Казань, ул. Калинина, 5/24\nУдаленность от центра города 1.4 км.\nСсылка на страницу бронирования:\nhttps://ru.hotels.com/ho1030819072/']
2021-08-28T20:19:03.088638+0300, INFO, GET requests
2021-08-28T20:19:18.619171+0300, INFO, callback_query run
2021-08-28T20:19:27.230032+0300, INFO, Патонг, Пхукет, 83150, Таиланд
2021-08-28T20:19:27.758696+0300, INFO, {'place_id': 54621117, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'node', 'osm_id': 4615633795, 'lat': '7.8929007', 'lon': '98.2968706', 'display_name': "Rico's Hotel, Food Alley, Pa Tong, Phuket Province, 83150, Thailand", 'address': {'tourism': "Rico's Hotel", 'road': 'Food Alley', 'town': 'Pa Tong', 'state': 'Phuket Province', 'postcode': '83150', 'country': 'Thailand', 'country_code': 'th'}, 'boundingbox': ['7.8928507', '7.8929507', '98.2968206', '98.2969206']}
2021-08-28T20:19:27.911451+0300, INFO, Selected city Pa Tong
2021-08-28T20:19:30.568878+0300, DEBUG, List city [{'city': 'Батуми', 'caption': 'Батуми, Аджария, Грузия', 'city_id': '1644171'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Сан-Патонг', 'caption': 'Сан-Патонг, Провинция Чианг-Май, Таиланд', 'city_id': '1643869'}, {'city': 'Тонг-Сала', 'caption': 'Тонг-Сала, Остров Пханган, Провинция Сураттани, Таиланд', 'city_id': '1714312'}, {'city': 'Район Гонконга Causeway Bay', 'caption': 'Район Гонконга Causeway Bay, Гонконг, САР Гонконг', 'city_id': '851'}, {'city': 'Стоун-Маунтин', 'caption': 'Стоун-Маунтин, Джорджия, США', 'city_id': '1461660'}]
2021-08-28T20:19:33.937543+0300, INFO, callback_query run
2021-08-28T20:19:33.940538+0300, INFO, Выбран город: Pa Tong id: 1806849
2021-08-28T20:19:36.318001+0300, INFO, callback_query run
2021-08-28T20:19:51.346855+0300, INFO, run get_result
2021-08-28T20:19:51.348855+0300, INFO, run get_list_hotel
2021-08-28T20:19:51.352850+0300, INFO, This is get list
2021-08-28T20:19:51.358755+0300, INFO, GET requests
2021-08-28T20:19:57.987770+0300, INFO, Run send_result
2021-08-28T20:20:31.100915+0300, INFO, callback_query run
2021-08-28T20:20:39.187311+0300, INFO, Пхукет, Таиланд
2021-08-28T20:20:39.696498+0300, INFO, {'place_id': 110782212, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 89395597, 'lat': '7.938486387932948', 'lon': '98.35218866626495', 'display_name': 'Phuket, Phuket Province, 83120, Thailand', 'address': {'city': 'Phuket', 'state': 'Phuket Province', 'postcode': '83120', 'country': 'Thailand', 'country_code': 'th'}, 'boundingbox': ['7.937797', '7.944318', '98.350281', '98.363009']}
2021-08-28T20:20:39.868643+0300, INFO, Selected city Phuket
2021-08-28T20:20:42.607167+0300, DEBUG, List city [{'city': 'Пхукет (и округа)', 'caption': 'Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1708722'}, {'city': 'Карон', 'caption': 'Карон, Пхукет (провинция), Таиланд', 'city_id': '1806864'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Ката', 'caption': 'Ката, Карон, Пхукет (провинция), Таиланд', 'city_id': '1740931'}, {'city': 'Камала', 'caption': 'Камала, Пхукет (провинция), Таиланд', 'city_id': '1806850'}, {'city': 'Най-Харн', 'caption': 'Най-Харн, Равай, Пхукет (провинция), Таиланд', 'city_id': '1771989'}, {'city': 'Лагуна', 'caption': 'Лагуна, Чонг-Тхале, Пхукет (провинция), Таиланд', 'city_id': '1772729'}, {'city': 'Старый Пхукет', 'caption': 'Старый Пхукет, Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1746494'}]
2021-08-28T20:20:46.319489+0300, INFO, callback_query run
2021-08-28T20:20:46.322488+0300, INFO, Выбран город: Phuket id: 1806849
2021-08-28T20:20:48.965534+0300, INFO, callback_query run
2021-08-28T20:20:51.166478+0300, DEBUG, Количество отелей: 10 func: get_page_size
2021-08-28T20:20:51.358443+0300, INFO, This is get list
2021-08-28T20:20:51.361277+0300, INFO, GET requests
2021-08-28T20:21:28.958744+0300, INFO, callback_query run
2021-08-28T20:21:35.405871+0300, INFO, Пхукет, Таиланд
2021-08-28T20:21:35.917116+0300, INFO, {'place_id': 110782212, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 89395597, 'lat': '7.938486387932948', 'lon': '98.35218866626495', 'display_name': 'Phuket, Phuket Province, 83120, Thailand', 'address': {'city': 'Phuket', 'state': 'Phuket Province', 'postcode': '83120', 'country': 'Thailand', 'country_code': 'th'}, 'boundingbox': ['7.937797', '7.944318', '98.350281', '98.363009']}
2021-08-28T20:21:36.076506+0300, INFO, Selected city Phuket
2021-08-28T20:21:38.990875+0300, DEBUG, List city [{'city': 'Пхукет (и округа)', 'caption': 'Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1708722'}, {'city': 'Карон', 'caption': 'Карон, Пхукет (провинция), Таиланд', 'city_id': '1806864'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Ката', 'caption': 'Ката, Карон, Пхукет (провинция), Таиланд', 'city_id': '1740931'}, {'city': 'Камала', 'caption': 'Камала, Пхукет (провинция), Таиланд', 'city_id': '1806850'}, {'city': 'Най-Харн', 'caption': 'Най-Харн, Равай, Пхукет (провинция), Таиланд', 'city_id': '1771989'}, {'city': 'Лагуна', 'caption': 'Лагуна, Чонг-Тхале, Пхукет (провинция), Таиланд', 'city_id': '1772729'}, {'city': 'Старый Пхукет', 'caption': 'Старый Пхукет, Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1746494'}]
2021-08-28T20:21:43.716713+0300, INFO, callback_query run
2021-08-28T20:21:43.718718+0300, INFO, Выбран город: Phuket id: 1806849
2021-08-28T20:21:45.201007+0300, INFO, callback_query run
2021-08-28T20:21:47.831728+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-28T20:21:48.052668+0300, INFO, This is get list
2021-08-28T20:21:48.055656+0300, INFO, GET requests
2021-08-28T20:23:07.007919+0300, INFO, callback_query run
2021-08-28T20:23:12.838879+0300, INFO, Пхукет, Таиланд
2021-08-28T20:23:13.347759+0300, INFO, {'place_id': 110782212, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 89395597, 'lat': '7.938486387932948', 'lon': '98.35218866626495', 'display_name': 'Phuket, Phuket Province, 83120, Thailand', 'address': {'city': 'Phuket', 'state': 'Phuket Province', 'postcode': '83120', 'country': 'Thailand', 'country_code': 'th'}, 'boundingbox': ['7.937797', '7.944318', '98.350281', '98.363009']}
2021-08-28T20:23:13.653905+0300, INFO, Selected city Phuket
2021-08-28T20:23:17.101914+0300, DEBUG, List city [{'city': 'Пхукет (и округа)', 'caption': 'Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1708722'}, {'city': 'Карон', 'caption': 'Карон, Пхукет (провинция), Таиланд', 'city_id': '1806864'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Ката', 'caption': 'Ката, Карон, Пхукет (провинция), Таиланд', 'city_id': '1740931'}, {'city': 'Камала', 'caption': 'Камала, Пхукет (провинция), Таиланд', 'city_id': '1806850'}, {'city': 'Най-Харн', 'caption': 'Най-Харн, Равай, Пхукет (провинция), Таиланд', 'city_id': '1771989'}, {'city': 'Лагуна', 'caption': 'Лагуна, Чонг-Тхале, Пхукет (провинция), Таиланд', 'city_id': '1772729'}, {'city': 'Старый Пхукет', 'caption': 'Старый Пхукет, Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1746494'}]
2021-08-28T20:23:20.605498+0300, INFO, callback_query run
2021-08-28T20:23:20.607498+0300, INFO, Выбран город: Phuket id: 1806849
2021-08-28T20:23:21.842175+0300, INFO, callback_query run
2021-08-28T20:23:23.571206+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-28T20:23:23.695761+0300, INFO, This is get list
2021-08-28T20:23:23.699771+0300, INFO, GET requests
2021-08-28T20:25:23.007714+0300, INFO, callback_query run
2021-08-28T20:25:27.018835+0300, INFO, Москва, Центральный федеральный округ, Россия
2021-08-28T20:25:27.406571+0300, INFO, {'place_id': 259682628, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'relation', 'osm_id': 8857806, 'lat': '55.7520439', 'lon': '37.61850028109701', 'display_name': 'Kremlin and Red Square, Moscow, Дворцовая площадь, 19, Tverskoy District, Moscow, Central Federal District, 103073, Russia', 'address': {'historic': 'Kremlin and Red Square, Moscow', 'road': 'Дворцовая площадь', 'quarter': '19', 'suburb': 'Tverskoy District', 'city': 'Moscow', 'state': 'Moscow', 'region': 'Central Federal District', 'postcode': '103073', 'country': 'Russia', 'country_code': 'ru'}, 'boundingbox': ['55.7480503', '55.7560472', '37.6123958', '37.6254805']}
2021-08-28T20:25:27.523653+0300, INFO, Selected city Moscow
2021-08-28T20:25:31.315172+0300, DEBUG, List city [{'city': 'Москва', 'caption': 'Москва, Россия', 'city_id': '1153093'}, {'city': 'Центр Москвы', 'caption': 'Центр Москвы, Москва, Россия', 'city_id': '10565407'}, {'city': 'Москва', 'caption': 'Москва, Айдахо, США', 'city_id': '1449014'}, {'city': 'Домодедово, Московская область', 'caption': 'Домодедово, Московская область, Подмосковье (Московская область), Россия', 'city_id': '1118662'}]
2021-08-28T20:25:33.590379+0300, INFO, callback_query run
2021-08-28T20:25:33.593384+0300, INFO, Выбран город: Moscow id: 1153093
2021-08-28T20:25:35.225334+0300, INFO, callback_query run
2021-08-28T20:25:36.589564+0300, DEBUG, Количество отелей: 6 func: get_page_size
2021-08-28T20:25:36.713045+0300, INFO, This is get list
2021-08-28T20:25:36.717048+0300, INFO, GET requests
2021-08-28T20:25:42.908285+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.910377+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.912662+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.914116+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.915136+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.917145+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.919135+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.924140+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.925148+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.927138+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.928137+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.929135+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.931619+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.932931+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.933950+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.937953+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:25:42.938952+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-28T20:26:02.473429+0300, INFO, callback_query run
2021-08-28T20:26:12.731409+0300, INFO, Анталья, Муратпаша, Анталья, Средиземноморский регион, 07010, Турция
2021-08-28T20:26:13.251312+0300, INFO, {'place_id': 190531672, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 436435055, 'lat': '36.90097335', 'lon': '30.695501049999997', 'display_name': 'Cumhuriyet Mahallesi, Antalya, Muratpaşa, Antalya, Mediterranean Region, Turkey', 'address': {'suburb': 'Cumhuriyet Mahallesi', 'city': 'Antalya', 'town': 'Muratpaşa', 'province': 'Antalya', 'region': 'Mediterranean Region', 'country': 'Turkey', 'country_code': 'tr'}, 'boundingbox': ['36.9008553', '36.9010914', '30.6953535', '30.6956486']}
2021-08-28T20:26:13.379515+0300, INFO, Selected city Antalya
2021-08-28T20:26:17.258011+0300, DEBUG, List city [{'city': 'Анталья', 'caption': 'Анталья, Анталья (провинция), Турция', 'city_id': '1355047'}, {'city': 'Кемер', 'caption': 'Кемер, Анталья (провинция), Турция', 'city_id': '1343725'}, {'city': 'Коньяалты', 'caption': 'Коньяалты, Анталья (провинция), Турция', 'city_id': '1798897'}, {'city': 'Белек', 'caption': 'Белек, Анталья (провинция), Турция', 'city_id': '1351110'}, {'city': 'Калейчи', 'caption': 'Калейчи, Анталья, Анталья (провинция), Турция', 'city_id': '1725097'}, {'city': 'Лара', 'caption': 'Лара, Анталья, Анталья (провинция), Турция', 'city_id': '1710603'}, {'city': 'Аланья', 'caption': 'Аланья, Анталья (провинция), Турция', 'city_id': '1340186'}, {'city': 'Сиде', 'caption': 'Сиде, Анталья (провинция), Турция', 'city_id': '1640749'}]
2021-08-28T20:26:19.490897+0300, INFO, callback_query run
2021-08-28T20:26:19.493888+0300, INFO, Выбран город: Antalya id: 1355047
2021-08-28T20:26:21.491679+0300, INFO, callback_query run
2021-08-28T20:26:24.356154+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-28T20:26:24.472993+0300, INFO, This is get list
2021-08-28T20:26:24.476996+0300, INFO, GET requests
2021-08-28T20:26:31.000216+0300, INFO, callback_query run
2021-08-28T20:26:34.778094+0300, INFO, Нижнее, Северодонецкий район, Луганская область, 93290, Украина
2021-08-28T20:26:35.279433+0300, INFO, {'place_id': 231054402, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 692477725, 'lat': '48.77203880386022', 'lon': '38.62127713130661', 'display_name': 'Vyshneva Street, Nyzhnie, Sievierodonetsk Raion, Luhansk Oblast, 93290, Ukraine', 'address': {'road': 'Vyshneva Street', 'town': 'Nyzhnie', 'district': 'Sievierodonetsk Raion', 'state': 'Luhansk Oblast', 'postcode': '93290', 'country': 'Ukraine', 'country_code': 'ua'}, 'boundingbox': ['48.7631124', '48.7726897', '38.6027152', '38.6230676']}
2021-08-28T20:26:35.398138+0300, INFO, Selected city Nyzhnie
2021-08-28T20:26:38.379651+0300, DEBUG, List city []
2021-08-28T20:26:55.505139+0300, INFO, Нижний Ист-Сайд, Манхэттен, округ Нью-Йорк, Нью-Йорк, Соединённые Штаты Америки
2021-08-28T20:26:56.023202+0300, INFO, {'place_id': 54076808, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'node', 'osm_id': 4646776164, 'lat': '40.7161657', 'lon': '-73.986856', 'display_name': 'Target, 400, Grand Street, Lower East Side, Manhattan, New York County, New York, 10002, United States', 'address': {'shop': 'Target', 'house_number': '400', 'road': 'Grand Street', 'neighbourhood': 'Lower East Side', 'suburb': 'Manhattan', 'county': 'New York County', 'city': 'New York', 'state': 'New York', 'postcode': '10002', 'country': 'United States', 'country_code': 'us'}, 'boundingbox': ['40.7161157', '40.7162157', '-73.986906', '-73.986806']}
2021-08-28T20:26:56.116902+0300, INFO, Selected city New York
2021-08-28T20:26:59.272964+0300, DEBUG, List city [{'city': 'Нью-Йорк', 'caption': 'Нью-Йорк, Нью-Йорк, США (New York City)', 'city_id': '1506246'}, {'city': 'Центральный Нью-Йорк', 'caption': 'Центральный Нью-Йорк, Нью-Йорк, Нью-Йорк, США', 'city_id': '10819060'}, {'city': 'Манхэттен', 'caption': 'Манхэттен, Нью-Йорк, Нью-Йорк, США', 'city_id': '1535616'}, {'city': 'Бруклин', 'caption': 'Бруклин, Нью-Йорк, США', 'city_id': '1496773'}, {'city': 'Ист-Нью-Йорк', 'caption': 'Ист-Нью-Йорк, Бруклин, Нью-Йорк, США', 'city_id': '1748361'}, {'city': 'Мидтаун', 'caption': 'Мидтаун, Нью-Йорк, Нью-Йорк, США', 'city_id': '1737998'}]
2021-08-28T20:27:16.278537+0300, INFO, Париж, Иль-де-Франс, Метрополия Франции, Франция
2021-08-28T20:27:16.856882+0300, INFO, {'place_id': 69431973, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'node', 'osm_id': 6216912785, 'lat': '48.8565387', 'lon': '2.3518054', 'display_name': 'The Art, City Hall Plaza, Beaubourg, Quartier Saint-Merri, 4th Arrondissement, Paris, Ile-de-France, Metropolitan France, 75004, France', 'address': {'tourism': 'The Art', 'road': 'City Hall Plaza', 'neighbourhood': 'Beaubourg', 'suburb': '4th Arrondissement', 'city': 'Paris', 'municipality': 'Paris', 'county': 'Paris', 'state': 'Ile-de-France', 'country': 'France', 'postcode': '75004', 'country_code': 'fr'}, 'boundingbox': ['48.8564887', '48.8565887', '2.3517554', '2.3518554']}
2021-08-28T20:27:17.038590+0300, INFO, Selected city Paris
2021-08-28T20:27:19.942158+0300, DEBUG, List city [{'city': 'Париж', 'caption': 'Париж, Франция (Parisi)', 'city_id': '504261'}, {'city': 'Центр Парижа', 'caption': 'Центр Парижа, Париж, Франция', 'city_id': '1730997'}, {'city': '9-й округ', 'caption': '9-й округ, Париж, Франция', 'city_id': '1731375'}, {'city': '8-й округ', 'caption': '8-й округ, Париж, Франция', 'city_id': '1731373'}, {'city': 'Берси', 'caption': 'Берси, Париж, Франция', 'city_id': '1691967'}]
2021-08-28T20:27:28.247010+0300, INFO, Нью-Йорк, Соединённые Штаты Америки
2021-08-28T20:27:28.771831+0300, INFO, {'place_id': 212523510, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 575213527, 'lat': '40.712742950000006', 'lon': '-74.00595024412516', 'display_name': 'New York City Hall, 260, Broadway, Lower Manhattan, Civic Center, Manhattan, New York County, New York, 10000, United States', 'address': {'amenity': 'New York City Hall', 'house_number': '260', 'road': 'Broadway', 'quarter': 'Lower Manhattan', 'neighbourhood': 'Civic Center', 'suburb': 'Manhattan', 'county': 'New York County', 'city': 'New York', 'state': 'New York', 'postcode': '10000', 'country': 'United States', 'country_code': 'us'}, 'boundingbox': ['40.7124463', '40.7130195', '-74.0064366', '-74.0055703']}
2021-08-28T20:27:28.909383+0300, INFO, Selected city New York
2021-08-28T20:27:32.353547+0300, DEBUG, List city [{'city': 'Нью-Йорк', 'caption': 'Нью-Йорк, Нью-Йорк, США (New York City)', 'city_id': '1506246'}, {'city': 'Центральный Нью-Йорк', 'caption': 'Центральный Нью-Йорк, Нью-Йорк, Нью-Йорк, США', 'city_id': '10819060'}, {'city': 'Манхэттен', 'caption': 'Манхэттен, Нью-Йорк, Нью-Йорк, США', 'city_id': '1535616'}, {'city': 'Бруклин', 'caption': 'Бруклин, Нью-Йорк, США', 'city_id': '1496773'}, {'city': 'Ист-Нью-Йорк', 'caption': 'Ист-Нью-Йорк, Бруклин, Нью-Йорк, США', 'city_id': '1748361'}, {'city': 'Мидтаун', 'caption': 'Мидтаун, Нью-Йорк, Нью-Йорк, США', 'city_id': '1737998'}]
2021-08-28T20:27:34.517961+0300, INFO, callback_query run
2021-08-28T20:27:34.520932+0300, INFO, Выбран город: New York id: 1506246
2021-08-28T20:27:36.467282+0300, INFO, callback_query run
2021-08-28T20:27:38.130519+0300, DEBUG, Количество отелей: 4 func: get_page_size
2021-08-28T20:27:38.246024+0300, INFO, This is get list
2021-08-28T20:27:38.249025+0300, INFO, GET requests
2021-08-28T20:28:20.457980+0300, INFO, Пхукет, Таиланд
2021-08-28T20:28:20.945347+0300, INFO, {'place_id': 110782212, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 89395597, 'lat': '7.938486387932948', 'lon': '98.35218866626495', 'display_name': 'Phuket, Phuket Province, 83120, Thailand', 'address': {'city': 'Phuket', 'state': 'Phuket Province', 'postcode': '83120', 'country': 'Thailand', 'country_code': 'th'}, 'boundingbox': ['7.937797', '7.944318', '98.350281', '98.363009']}
2021-08-28T20:28:21.065855+0300, INFO, Selected city Phuket
2021-08-28T20:28:23.747695+0300, DEBUG, List city [{'city': 'Пхукет (и округа)', 'caption': 'Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1708722'}, {'city': 'Карон', 'caption': 'Карон, Пхукет (провинция), Таиланд', 'city_id': '1806864'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Ката', 'caption': 'Ката, Карон, Пхукет (провинция), Таиланд', 'city_id': '1740931'}, {'city': 'Камала', 'caption': 'Камала, Пхукет (провинция), Таиланд', 'city_id': '1806850'}, {'city': 'Най-Харн', 'caption': 'Най-Харн, Равай, Пхукет (провинция), Таиланд', 'city_id': '1771989'}, {'city': 'Лагуна', 'caption': 'Лагуна, Чонг-Тхале, Пхукет (провинция), Таиланд', 'city_id': '1772729'}, {'city': 'Старый Пхукет', 'caption': 'Старый Пхукет, Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1746494'}]
2021-08-28T20:28:25.433562+0300, INFO, callback_query run
2021-08-28T20:28:25.436535+0300, INFO, Выбран город: Phuket id: 1806864
2021-08-28T20:28:27.323636+0300, INFO, callback_query run
2021-08-28T20:28:28.870001+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-28T20:28:29.008699+0300, INFO, This is get list
2021-08-28T20:28:29.011706+0300, INFO, GET requests
2021-08-28T20:28:52.113427+0300, INFO, callback_query run
2021-08-28T20:28:59.470829+0300, INFO, Пхукет, Таиланд
2021-08-28T20:28:59.960323+0300, INFO, {'place_id': 110782212, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 89395597, 'lat': '7.938486387932948', 'lon': '98.35218866626495', 'display_name': 'Phuket, Phuket Province, 83120, Thailand', 'address': {'city': 'Phuket', 'state': 'Phuket Province', 'postcode': '83120', 'country': 'Thailand', 'country_code': 'th'}, 'boundingbox': ['7.937797', '7.944318', '98.350281', '98.363009']}
2021-08-28T20:29:00.069124+0300, INFO, Selected city Phuket
2021-08-28T20:29:04.108067+0300, DEBUG, List city [{'city': 'Пхукет (и округа)', 'caption': 'Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1708722'}, {'city': 'Карон', 'caption': 'Карон, Пхукет (провинция), Таиланд', 'city_id': '1806864'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Ката', 'caption': 'Ката, Карон, Пхукет (провинция), Таиланд', 'city_id': '1740931'}, {'city': 'Камала', 'caption': 'Камала, Пхукет (провинция), Таиланд', 'city_id': '1806850'}, {'city': 'Най-Харн', 'caption': 'Най-Харн, Равай, Пхукет (провинция), Таиланд', 'city_id': '1771989'}, {'city': 'Лагуна', 'caption': 'Лагуна, Чонг-Тхале, Пхукет (провинция), Таиланд', 'city_id': '1772729'}, {'city': 'Старый Пхукет', 'caption': 'Старый Пхукет, Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1746494'}]
2021-08-28T20:29:08.122965+0300, INFO, callback_query run
2021-08-28T20:29:08.126223+0300, INFO, Выбран город: Phuket id: 1708722
2021-08-28T20:29:10.744228+0300, INFO, callback_query run
2021-08-28T20:29:12.929628+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-28T20:29:13.065165+0300, INFO, This is get list
2021-08-28T20:29:13.068144+0300, INFO, GET requests
2021-08-28T20:29:31.705161+0300, INFO, Patong Thai, 7, Calle de la Cruz, Barrio de las Letras, Cortes, Мадрид, Área metropolitana de Madrid y Corredor del Henares, Мадрид, 28001, Испания
2021-08-28T20:29:32.258466+0300, INFO, {'place_id': 151718995, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 254439922, 'lat': '40.415966600000004', 'lon': '-3.70094178430493', 'display_name': '7, Calle de la Cruz, Barrio de las Letras, Cortes, Madrid, Área metropolitana de Madrid y Corredor del Henares, Community of Madrid, 28012, Spain', 'address': {'house_number': '7', 'road': 'Calle de la Cruz', 'neighbourhood': 'Barrio de las Letras', 'suburb': 'Cortes', 'city': 'Madrid', 'municipality': 'Área metropolitana de Madrid y Corredor del Henares', 'state': 'Community of Madrid', 'postcode': '28012', 'country': 'Spain', 'country_code': 'es'}, 'boundingbox': ['40.4158145', '40.4161178', '-3.7010665', '-3.7008387']}
2021-08-28T20:29:32.433467+0300, INFO, Selected city Madrid
2021-08-28T20:29:35.278422+0300, DEBUG, List city [{'city': 'Мадрид', 'caption': 'Мадрид, Автономное сообщество Мадрид, Испания', 'city_id': '457987'}, {'city': 'Барахас', 'caption': 'Барахас, Мадрид, Автономное сообщество Мадрид, Испания', 'city_id': '1778443'}, {'city': 'Atocha (район)', 'caption': 'Atocha (район), Мадрид, Автономное сообщество Мадрид, Испания', 'city_id': '1649515'}, {'city': 'Южный Мадрид (область)', 'caption': 'Южный Мадрид (область), Испания', 'city_id': '1641644'}, {'city': 'Сентро', 'caption': 'Сентро, Мадрид, Автономное сообщество Мадрид, Испания', 'city_id': '10789818'}, {'city': 'Саламанка', 'caption': 'Саламанка, Мадрид, Автономное сообщество Мадрид, Испания', 'city_id': '1736870'}]
2021-08-28T20:29:42.780693+0300, INFO, callback_query run
2021-08-28T20:29:42.786732+0300, INFO, Выбран город: Madrid id: 457987
2021-08-28T20:29:44.341558+0300, INFO, callback_query run
2021-08-28T20:29:46.083738+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-28T20:29:46.190339+0300, INFO, This is get list
2021-08-28T20:29:46.193361+0300, INFO, GET requests
2021-08-28T20:30:47.145690+0300, ERROR, An error has been caught in function 'get_page_size', process 'MainProcess' (9408), thread 'WorkerThread2' (16664):
Traceback (most recent call last):

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 908, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002BA749175E0>
    └ <WorkerThread(WorkerThread2, started daemon 16664)>

  File "C:\Users\Ilnur\AppData\Local\Programs\Python\Python39\lib\threading.py", line 950, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002BA779BA0D0>
    └ <WorkerThread(WorkerThread2, started daemon 16664)>

  File "C:\Users\Ilnur\PycharmProjects\python_django\venv\lib\site-packages\telebot\util.py", line 82, in run
    task(*args, **kwargs)
    │     │       └ {}
    │     └ (<telebot.types.Message object at 0x000002BA786A80D0>, 'PRICE')
    └ <function Command.handle.<locals>.get_page_size at 0x000002BA785DA820>

> File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\management\commands\bot.py", line 348, in get_page_size
    result_list = get_list_hotel(message, page_size, sort)
                  │              │        │          └ 'PRICE'
                  │              │        └ 5
                  │              └ <telebot.types.Message object at 0x000002BA786A80D0>
                  └ <function get_list_hotel at 0x000002BA77D2FCA0>

  File "C:\Users\Ilnur\PycharmProjects\python_basic_diploma\hotel\hotelapp\hotel_api.py", line 78, in get_list_hotel
    for hotel in data['data']['body']['searchResults']['results']:
                 └ {'messages': 'The request to the API has timed out. Please try again later, or if the issue persists, please contact the API ...

KeyError: 'data'
2021-08-29T16:42:19.726466+0300, INFO, callback_query run
2021-08-29T16:42:26.383712+0300, INFO, Пхукет, Таиланд
2021-08-29T16:42:26.891336+0300, INFO, {'place_id': 110782212, 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright', 'osm_type': 'way', 'osm_id': 89395597, 'lat': '7.938486387932948', 'lon': '98.35218866626495', 'display_name': 'Phuket, Phuket Province, 83120, Thailand', 'address': {'city': 'Phuket', 'state': 'Phuket Province', 'postcode': '83120', 'country': 'Thailand', 'country_code': 'th'}, 'boundingbox': ['7.937797', '7.944318', '98.350281', '98.363009']}
2021-08-29T16:42:27.198715+0300, INFO, Selected city Phuket
2021-08-29T16:42:31.491304+0300, DEBUG, List city [{'city': 'Пхукет (и округа)', 'caption': 'Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1708722'}, {'city': 'Карон', 'caption': 'Карон, Пхукет (провинция), Таиланд', 'city_id': '1806864'}, {'city': 'Патонг', 'caption': 'Патонг, Пхукет (провинция), Таиланд', 'city_id': '1806849'}, {'city': 'Ката', 'caption': 'Ката, Карон, Пхукет (провинция), Таиланд', 'city_id': '1740931'}, {'city': 'Камала', 'caption': 'Камала, Пхукет (провинция), Таиланд', 'city_id': '1806850'}, {'city': 'Най-Харн', 'caption': 'Най-Харн, Равай, Пхукет (провинция), Таиланд', 'city_id': '1771989'}, {'city': 'Лагуна', 'caption': 'Лагуна, Чонг-Тхале, Пхукет (провинция), Таиланд', 'city_id': '1772729'}, {'city': 'Старый Пхукет', 'caption': 'Старый Пхукет, Пхукет (и округа), Пхукет (провинция), Таиланд', 'city_id': '1746494'}]
2021-08-29T16:42:34.546243+0300, INFO, callback_query run
2021-08-29T16:42:34.549245+0300, INFO, Выбран город: Phuket id: 1806849
2021-08-29T16:42:36.109398+0300, INFO, callback_query run
2021-08-29T16:42:38.637308+0300, DEBUG, Количество отелей: 5 func: get_page_size
2021-08-29T16:42:38.751650+0300, INFO, This is get list
2021-08-29T16:42:38.754648+0300, INFO, GET requests
2021-08-29T16:42:44.413897+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-29T16:42:44.416893+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-29T16:42:44.417893+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-29T16:42:44.419894+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-29T16:42:44.420894+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-29T16:42:44.422892+0300, INFO, Нет рейтинга 'guestReviews'
2021-08-29T16:42:46.769103+0300, INFO, callback_query run
